//2.55 and 2.54 Changes

//Alpha 16

Convert the values for Halt Duration, and Accel Factor for
	Keese, Peahats, and Phantom Ghini enemies in 2.10 and earlier quests on
	file load.
Re-added LogPrint() and ScreenPrint() to string_functions.zh.
	The build package lost these in a file overwrite at some prior point.
	( ZoriaRPG, 18th March, 2019 )


//Alpha 15
Ported Link.lookaheadraftflag() from 2.53. 
Maybe Fix New Tile-Based Crashes
Ported the fix for 1.84 quests starting with 30 MAX Bombs from 2.53.
Added hotkeys for the following Lv4 Cheats
	Kill All Enemies (K)
	Show Overhead (O)
	Show Push Blocks (P)
	Show Hitboxes (C; for Collision)
	Show FFScript Names (F)
	Ported from 2.53 Gamma 6, including the fix to the K key in the menus.
Ported the fix for the crash when removing a Cane of Byrna item by script from 2.53.
Added Developer Status Flag
	( ZoriaRPG, 17th march, 2019 )
	
Added 'Triforce in Cellar Warps Link Out' to Quest Rules->Other->2.

Fixed a crash when writing tiles, and added a rule patch for the 2.10
	Triforce in Item Cellar Warp Out rule.
	( ZoriaRPG, 15th March, 2019 )

Attempt to correct new Init Data values being improperly
	initialised.
Cap max bombs in <= 1.84 quests at 8.
	( ZoriaRPG, 14th March, 2019 )

The value for `new_blueframe_tile` is now properly populated
	for quests made in 2.10 and earlier, by the saving routine in ZQuest.

	This prevents corruption of that tile.

	Any more of these old tile conversions that I've missed? -Z

My prior fix did not cover enough ground.:
	After reverting the previous change, I fixed the issue now, in:
		`void frame2x2(BITMAP *dest,miscQdata *misc,int x,int y,int tile,int cset,int w,int h,int /*flip*/,bool overlay,bool trans)`
		inside `subscr.cpp`.

	I do not know yet, if loading a <= 2.10 quest in 2.55, then saving, will break this
	again. 
	
	It seems that when you loaded an old quest in 2.50, it populated the QMisc tiles somehow.

	I'm not yet sure where, but, because we check section_version in 2.55 to populate QMisc newtiles,
	if that part of the quest load does not convert to the newtile instead of the (old) tile,
	then it'll be the same issue all over again with the newly saved 2.55 quest.
	( ZoriaRPG, 13th March, 2019 )

1.92 and earlier used a completely different tile for the 2x2 frame
	subscreen object. As this could not be changed, we now read that tile directly
	if the quest was made in the old version.

We were only checking build ID, which used to be used for the beta ID
	of builds before 2.50. This now checks vZelda and vBuild, more appropriately,
	and adds in some weapon patches for weapon `newtile` values for old versions.

It seems that 1.84 quests do not start with a bomb bag, but
	they should, as the item did not exist in those old versions; and thus,
	the player cannot pick up bombs in quests made using them.

Set bobomb enemy script in classic_qst.dat.
	( ZoriaRPG, 12th March, 2019 )
	
Restored some module settings, that were being overwritten by the last change
	and fixed sels_linktile so that setting it affects the default
	quest icons, but not icons set in the actual (custom) quests.
Updated to Alpha 15, and added an unused QR to ZDefs.h
Restored the ability to set a default tile for Link, and a CSet to
	use on the title screen, for Modules.
	Note: Changing the CSet, WILL potentially make custom quest icons messy, as
		it is a global override.
Rewrote much of static void list_save(int save_num, int ypos)
	to fix Game Icons not being loaded, and yet preserve module customisation.
	Let's hope that none of the customisation allowed by the ZMOD format broke here.
Added QRs to enable draws during screen scrolling, warping, and
	Link stepping forward on dungeon screens.
The global init script now runs earlier, populating arrays prior to
	playing = true.
		This permits the Link init script to access those arrays, as the array declarations
	and any variables declared at a global scope, are not created until the
	global init script runs. (File scope declarations occur from the global init slot!)
Fixed dmap script InitD truncating decimals in the DMap Editor.
Fixed npc, npc weapon, and item weapon InitD truncating decimals
	in their respective editors.
Fixed population of npc InitD from run() params.
Fixed DMap scripts not getting their InitD set from the DMap Editor.
	( ZoriaRPG, 11th March, 2019 )

Parser: Change `EXPECT_ERROR` to `#ignore error`/`#ignore warning`
	( Venrob, 7th march, 2019 )

//Alpha 14
Fix Fireball eweapon being called FIREVOLT in CLassic Module. 
Removed Daira ffc script. 
Added __CLASSIC_ZH_VERSION macro to Classic.zh
Modified default quest file (classic_qst.dat) to use the npc and eweapon scripts,
	instead of the Autoghost script.
Reconfigured Daira L1, and L2 enemies in Classic.qst.
Added Daira Axe Controller script to Classic.zh
	The script file is in demo_scripts/eweapon_scripts/daira_axe.zs
Added Daira npc script to Classic.zh. 
	The script file is in demo_scripts/npc_scripts/daira.zs
	( ZoriaRPG, 7th March, 2019 )
	
Added enum to ZScript, as follows:
	enum { A, B, C = 5, D, E = 10, F };
	...where A == 0, B == 1, C == 5, D == 6, E == 10, and F == 11
	( Venrob, 7th March, 2019 )

Updated classic_qst.dat, with the improvements/includes from 2.53.

Added bobomb npc as NPC ID 179 to Classic.qst.

Added bobomb npc script , as: demo_scripts/npc_scripts/bobomb.zs

Modified glost_zh/2.8/other.zh, to fix conflict (default as identifier).s

Added test_scripts path, and copied over all old test scripts from Alpha 13.
Added demo_scripts path.
Added demo_scripts/npc_scripts path
Added demo_scripts/lweapon_scripts path
Added demo_scripts/eweapon_scripts path
Added demo_scripts/dmap_scripts path
Added demo_scripts/link_scripts path
Added demo_scripts/item_scripts path
Added demo_scripts/ffc_scripts path
Added demo_scripts/global_scripts path

Merged std.zh from 2.53 and 2.55, hopefully with no loss of content.

Moves modules into their own paths, as:
	./
		modules/
			classic/
			default/
			demo/
			demojer/
			expo/
			
	All of the module (.zmod) files are in ./modules, and all
	datafiles and quests are called using relative paths.
	( ZoriaRPG, 7th March, 2019 )

Ported over all Classic.zh, classic.qst (qst.dat), and related includes
from 2.53. This includes all of the following from the 2.53 changelog (between
the rows of hashes):
	( ZoriaRPG, 7th March, 2019 )
##############################################################################################################
Updated all default active subscreens in qst.dat, with the new items. 
Added the following item scripts to Classic.zh, and items
	to the default quest in qst.dat:
	
	MagicBossKey: Acts like the Magical Key, for Boss Locks.
		Set to item ID: 146
	MagicalMap: Gives the player the dungeon map to every dungeon.
		Set to item ID: 147
	Magical Compass: Gives the player the compass item to every dungeon.
		Set to item ID: 148
	
Classic.zh: Fix BossExplode ffc to work with all segmented bosses. 

Updated qst.dat 

Fixed the SignPost ffc script.

Moved the new functions from Classic.zh to std_functions.zh.
Added some relativity functions to Classic.zh--should move to std_functions.zh:
	DistXY(ffc, int), LeftOf(), RightOf(), Above(), Below(), Facing(ffc).


Classic.zh Fixes and Improvements:
	Renamed constants to prevent future conflicts.
	BossMusic ffc: 
		Fixed a bug that caused the victory music to re-play when the
		player revisited the screen.
		Added InitD variables to allow customisation by the user.
	BossExplode ffc:
		Added InitD variables to allow customisation by the user.
	DropTRIFORCE ffc:
	DropHEARTCONTAINER ffc:
		Fixed a bug that caused the TF drop to repeat if the player revisited
		the screen.
		Added a dropshadow to the object when falling.
		Slowed falling descent. 
		Clamped screen coordinates of drop to ensure that the object does
		not fall partway off the edges of the screen.
	( ZoriaRPG, 24th February, 2019 )


Added scripts 'DropTRIFORCE' and 'DropHEARTCONTAINER' to Classic.zh.
	Fixed issue where invalid weapons were loaded by 'BossMusic' ffc script
	because of a Waitframe in the loop.
	Removed traces.


Updated qst.dat with all of the new goodies. 

Added constants to Classic.zh:
	const int _classic_zc__TRK_BOSS = 25;
	const int _classic_zh__MIDI_VICTORY = 1;
	const int _classic_zh__TILE_FIREWORK = 10140;

Added file Classic.nsf, from klop422 (Legend of Zelda NSF  from the PZC Database). 
	We use track 25 for boss music here.
Added a victory jingle MIDI as MIDI ID 1. 
Add combo to use for Boss Audio FFC to combo page 3 as combo ID 905.
Added BossMusic ffc to classic.zh. This is compatible with the BossExplosion ffc.
Added tile for Boss Audio to tile page 61 as tile 16026.

Added overload functions to Collision() that function as LinkCollision(). 

Updated ffc scripts in classic.zh to clear their combo on init. 
Fixed signpost script. 
Added default fireworks ffc to copy and paste, on map 1, screen 0x82. 
Added combo using the Fire Work tile to combo page 3, as combo 904.
Added tile to use as  marker for fireworks ffc to tile page 61, as tile 16025.
Modified fireworks script constants. 
Added fireworks SFX as sound 61. 
Added fireworks weapon sprite as Sprite 88. 
Added tiles for fireworks to tile page 39 as tiles 10140, 10141, 10142.
Fixed daira tiles on page 38. 
	( ZoriaRPG, 21st February, 2019 )
	
Classic.zh:
	Added item script 'ItemSound'
	Added FFC script 'BossExplode'
	Added constants:
		const int _BOSS_EXPLODE_SPRITE
		const int _BOSS_EXPLODE_DUR
		const int _BOSS_EXPLODE_SFX
		const int _BOSS_EXPLODE_DELAY
		const int _BOSS_EXPLODE_RANDOM_MIN
		const int _BOSS_EXPLODE_RANDOM_MAX
	
		const int I_HALFMAGIC = 	144;
		const int I_LEARNSLASH =	143;
		const int NPC_DAIRA1 = 		177;
		const int NPC_DAIRA2 = 		178;
	
Add item: Message (Example) as item 145.
Adjusted stats of both Daira enemies, and set their defences. 
	Note: 1/4 Arrow damage is intentional for L2, to reflect
	better armour/scales. 
Add Daira (L2) [blue] as enemy 178, renamed Daira to Daira (L1) [red].

Default quest changes:
Added ffc scripts:
	PermBlockSecrets : This triggers normal screen secrets.
	PermBlockShutter : Block->Shutter secrets in NES Dungeons
	Daira (autoghost)
Removed ffc script PermSecret
Fixed name of 'CanSlash' item script. 
Added item script 'ItemMessage'
Added Daira enemy as npc ID: 177
Added Daira script to classic.zh
Added Daira tiles to tile page 38 (tiles 9880, through 9959)
	( ZoriaRPG, 19th February, 2019 )
Added call to Classic.zh in the buffer.
	Updated all active subscreens to include the new items. 
	Added items: 'Scroll: Learn Slash', 'Scroll: Half Magic'
	Placed default FFCs with scripts attached on map 1, screen 0x82. 
		These have their icon set, and their Ethereal flag set. 
	Added the following scripts:
	Default active script with Tango and Ghost.
	Half Magic Item (item, pickup)
	Learn Slash Item (item, pickup)
	Change Room Guy (ffc)
	Perm. Secrets (ffc) 
	Signpost (ffc)
	
	Added freezeall and freeze only ffc default combos to combo page 3:
		
	Added tiles on page 61 for icons to represent the FFC scripts. 
	(Tile IDs: 16002, 16003, 16004, 16005, 16023, 16024, 16061, 16062)
	Added combos for ffc icons to combo page 3:
		IDs: 892, 893
		Icons for the above, are combos: 888, 889. 
	Added tiles for the icon combos for freeze combos to tile page 61 as 
		tiles: 16000, and 16001. 

Began adding some default scripts to Classic (as Classic.zh), and 
	corrected some constants in the included scripts, to match.

Updated qst.dat, to strip out some remaining rubbish pal cycle data. 

Re-fix 1st.qst Level 9 Rupee issue. I had set the wrong type. 
	( NightmareJames, 16th February, 2019 )

Fixed a secret rupee in Lv9 (1st.qst) not being secret.
	( NightmareJames, 31st January, 2019; file added to Gamma 3, 14th February, 2019 )

Changed the default length of the short hookshot to 8. 
	At one point, the distance was in pixels, then someone
	changed it to tiles. We'll make pixels an option again in 2.55. 


Fixed the following in std.zh:
	Added revised behaviour to RotatePointX() and RotatePointY().
	Added toggle for old/new RotatePointX() and RotatePointY() behaviour.
	Probably fixed issues with catsizes() in ScreenFlag() and ScreenEFlag().
	Swap lit bomb and bomb returns in int WeaponTypeToID(int wpnt).
	Remove extraneous 's' in bool EnemiesAlive().
	Add float LargeDistance(int x1, int y1, int x2, int y2, int divisor).

	Somehow the file size on disc decreased in the process. Not sure on this one.

Fixed Ganon's HP in 1st/2nd. On the NES, he has 30, not 32.
	
	The NES Ganon hurts Link. 
##############################################################################################################

Added const bitmap, const cheat, const combodata, const doorset, const dropset, const dmapdata, const eweapon, 
	const ffc, const gamedata, const item, const itemdata, const lweapon, const mapdata,
	const messagedata, const misccolor, const npc, const npcdata, const palcycle, 
	const palette, const ponddata, const rgb, const shopdata, const spritedata, 
	const musicdata, and const warpring to the system.
Fixed a crash caused by permitting using function returns to initialise constants.
	( Venrob, 6th March, 2019 )

Port over all fixes applied to 2.53 from 2nd December, 2018; through 6th March, 2019.
	
The following log events from the 2.53 changelog have now been committed to 2.55 (between rows of hashes):
##############################################################################################################
Renamed all system-wide screenshot files as follows:
	ZC: 
		zc_screen#####.png
	ZQuest:
		Maps:
			zq_map#####.png
		Screen:
			zq_screen#####.png
	( ZoriaRPG, 6th March, 2019 )

The Export ZScript now uses the .zs extension by default (no ZLIB conflicts).
ZCL version is now 2.6.12:
	Fixed default pane of the ZQuest tab in ZCL.
	Removed duplicate 'Misaligns' option box in ZCL.
Cleaned all intermediates, all project files, and all CMake files.
	Built clean.
Changed l_down sprites on 8-way enemy shots to face down.
	( ZoriaRPG, 5th March, 2019 )
Resize fields for text entry to fit five chars. 
Fixed Init Data (and cheat data) field sizes for:
	Heart Containers (was a field size of 2, now 3)
	Starting HP (in hearts, was 3 now size 5)
	Starting Magic (was size 3, now 5)
	Max Magic (was size 3, now 5)
	Super Bomb Ratio (was size 2, now 3)
2.50.x quests with a build < 31, or quests with a header 
	version < 0x250 will now write hitsfx = WAV_EHIT, for all guys where 
	the hitsfx sound == 0, on saving a quest in 2.53.
Quests made in 2.53 Gamma 0/1 or earlier (build 31) now load
	WAV_EHIT into the enemy editor hitsfx field when the editor opens.
	This prevents corruption of the quest by modifying the value on quest load,
	and ensures that the value only changes if the user saves the quest in 2.53.
2.50.2 AND EARLIER play SFX_HIT even if Enemy Editor Hit Sound is 0. 
	Thus, I added a special case that causes this to happen in guys.cpp, based
	on header version and build. 

	Arbitrary enemy policy 15610. :P
	( ZoriaRPG, 25th February, 2019 )
Fixed Byrna Cleanup Routine killing SFX 30. This was caused by
	`last_cane_of_byrna_item_id` never being able to be -1 because it was declared
	as byte, instead of int.
Added a case for r_down dir on 8-way EW_MAGIC shots. 
	( ZoriaRPG, 22nd February, 2019 )
Fixed ZCL 'Skip Logo' selection not saving. 
	ZCL is now v2.6.11. 
Commented out some conflicting constants in stdExtra.zh
Moved stdWeapons and Laser.zh into an 'extras' path.
Corrected power rating of remote bombs. 
	This will only affect quests saved in 2.53, and 
	only if the power of the bomb is > 1. 
Expanded the Emulation menu toggle to cover builds through 2.50.1. 
	I'm tired of this one, too. 
Fixed the selection mark for Bombchu Emulation, and ensured that
	it is enabled by default for 2.50.0 and 2.50.1 quests. 
Added an emulation option to restore the large blast radius 
	(superbomb) if Link is hit by a charging bombchu.
	This is enabled by default for 2.50.1 and earlier quests, and disabled in 2.53 quests
Fixed 8-way shots always using WAV_FIRE.
	Added an emulation memu option to force using WAV_FIRE for all 8-way shots.
	This is enabled by default in quests < 2.50.
	This menu option is disabled in 2.53+ quests.
	( ZoriaRPG, 18th February, 2019 )
Fixes for Palette Cycle Issues:
	Palettes above 256 were not set up to have palette cycles in 2.50.
	The array in QMisc is [256][3], where it should have been [512][3].

	Because of this, palettes above 0xFF had rubbish data associated to their cycle data.

	To remedy this, I have done the following:

		All palettes > 255 have a null palette loaded into them, in the editor and as
		palette data, to zero out their cycle information.

		This should occur both in ZC, and in ZQuest.

		I disabled clicking the Cycle button in the Level palette editor, and display
		a jwin-alert that the palette doesn't support cycling.

	Let's hope this doesn't cause crashes in any quests, in ZC.
Added leading zeros to the 'Select Item' 'Pow: ' field, so that
items with powers greater than 10 don't carry over digits to items with
powers < 10.
	( ZoriaRPG, 17th February, 2019 )
Updated include 'tango.zh', and its associated demo to current versions of both.
Pressing the Enter key, or the numpad Enter key, while viewing
the Quest Header dialogue now EITHER activates the selected element, 
	or saves the dialogue changes, instead of opening the
	'Change Quest password' sub-dialogue. 
	It will auto-save if the selected element is OK, or any TEXT field.
	Otherwise, it triggers the selected element.
	This should also work from the numpad Enter key. 
	I also made the changes as an EXAMPLE chain, for making all
	JWin DIALOGUES more user-friendly, in the future. 
		See Commits in branch 2.53: 
			b479871e9d38d8245874bc6cffc2f72e93f6cd5a
			c638d67cd856cc09e2e937c5a7da3dc9e0743952
			93956d00d4bb933236c6625cb778eb6ddd5caba4
Added a new function, Link.cleanupByrna() and called it in game_loop() (zelda.cpp).
Added a sfx cleanup for the byrna beam to weapons.cpp.
Added a new LinkClass variable, byte last_cane_of_byrna, that functions similar to
	last_lens_id.
	It inits at -1, then when Link uses a cane, it is set to that cane's ID.
	It is reset to -1 in Link.cleanupByrna().
Added kill_sfx() call to three other possible places where the Cane of Byyrna
	sound should probably be terminated:
	Whenever we call stopCaneOfByrna()
	If we can't pay the cost during item / weapon init
	If the beams aren't created during init, for some reason. 	
Cleared Link's attackclk before calling saved_Zelda(). 
	This prevents a charged sword, or other weapon, from carrying
	over to the ending sequence as a visual artefact. 
Stop playing byrna beam sfx as soon as the beams die in Link.cpp
Fix stunned peahats hurting Link in 2.50+ quests.
	( ZoriaRPG, 14th February, 2019 )
Hardcoded WAV_FIRE in weapons.cpp with version check.
Corrected copyright year in zdefs.h. 
Possibly fix some issues with the hammer.
Fixed screenshots saving without using modifier keys.
	This had nothing to do with the cheat system, but rather, was an invalid sprintf
	format in onNonGUISnapshot.
Emulation: Restrict Repeating DMap Intros to 2.11.x
Enabling or disabling the Debug Console (win32 only) now updates and saves
	the zc.cfg file setting for debug_console under zeldadx.
Fixed Wealth Medals in Bomb/Arrow upgrade rooms which use percentage zero 
	out cost (integer division != double division) (guys.cpp)
	No code was ever in place to give the discount? (link.cpp)
	( Venrob, 11th February, 2019 )
Fixed Combo Aliad dialogue not doing copy/swap for aliases
	greater than 999. Required refactor.
	( ZoriaRPG, 30th January, 2019 )
Updated ZCL to 2.6.10:
	The main in-focus page is once again ZC.
	Added the new UI Coloursets (Dark, and October).
Link was not fully cropped during the credits scroll.
	Pixels of his hat were left behind as artefacts. This fixes the issue,
	by resizing the call to rectfill().
	( ZoriaRPG, 29th January, 2019 )
Fix 'OK' button in joystick button config not saving.
Fix screenshot numbering format to have a width of 5, not 3.
	( ZoriaRPG, 28th January, 2019 )
Added an Emulation toggle to try to permit continuous sword triggers
	in 2.10 and 2.50 quests.
	I'm not sure what the latest 2.50 build is, that should permit this, but if LI
	was saved in a later build, and needs it, then here it is.
Try to fix tall grash animation during scrolling.
Try to fix Ganon's Ashes not spawning.
	( ZoriaRPG, 25th January, 2019 )
Reposition timing of creation of the hammer smack sprites to try to
	prevent them from appearing int he wrong spot if the player changes direction abruptly.
	( ZoriaRPG, 24th January, 2019 )
Added Emulation menu option 'Don't Flip Firetrails'.
	If enabled (2.10 or earlier), then firetrails on brang weapomns
	will not flip on bounce, and may be allowed to hit and harm enemies.
Add jwin alert messages to all Emulation menu options, to explain what they do.
Apply 1.90 Swim Sprites to all calls to linktile() in link.cpp
Increased screenshot numbering cap from 999, to 99999.
	( ZoriaRPG, 22nd January, 2019 )
Apply 2.10 windrobe emulation, also to 1.92.
Final fix of 1.92 vand 2.10 Windrobe mmechanics, removing extra shot.
Clean up tribble emulation.
Implemented Emulation Option 'DMap Intros Always Repeat' for 2.55 quests.
Fix: Try again to fix 2.10 Windrobes.
Fix: Wizzrobes appearing in dungeon walls in 1.84 quests.
Fix GEL and KEESE tribbles, in 1.90 (or earlier) quests.
	This now occurs in readguys.
Remove Emulation flag for OLD TRIBBLES.
	( ZoriaRPG, 16th January, 2019 )
Potentially fixed Triforce Warp-Out in item cellars (2.10 and earlier, no rule, no emulation flag).
	Added a ternary statement in getTriforcePiece()
Begin Adding Emulation Menu Options:
	Restore 2.10 Windrobes
	DMap Intros Always Repeat
	--removed this one, because I have a possible in-source fix: Fix Triforce Cellars
Try to fix wizzrobes in 1.90/1.84 quests.
	They were spawning in walls, and never should.
Try to make it possible for Windrobes in 2.10 quests to nbot line up.
	( ZoriaRPG, 16th January, 2019 )
Fix some emulation options. 
	( ZoriaRPG, 14th January, 2019 )
Fixed emulation (item/segment) appearing in quests older than 1.92. 
Clear emulation array, except on F6/GameOver->Continue.
Added the ability to copy Link#s walking sprites over his swimming
	and diving sprites in 1.90 quests with BS Link Animation.
Begin adding 1.90 BS Animation Toggle
Begin adding 1.9x Tribble Emulation.
Begin adding emulation of half-tile (off-grid) collision.
Fix emulationm of segmented enemy drops.
Fix crash when saving screenshots caused by filename buffer overflow. 
	( ZoriaRPG, 14th January, 2019 )
Added an Emulation Menu option to enable drop-per-segment
	for Lanmola, Manhandla, and Moldorm. 
	This needs testing in older quests, and further verification.
	neither the menu option, nor the config section option
	should work in 2.50+ quests.
	( ZoriaRPG, 8th January, 2019 )
Re-added the 'Menu' button configuration option to
	Joystick Button configs.
	( ZoriaRPG, 8th January, 2019 )
Renamed entry [0] in Emulation Menu to 'Flip-Flip Cancel and Wave Warps'
	Disabled this option if the current quest was made in 2.10 or
	( ZoriaRPG, 22nd December, 2018 )
Added a new menu to ZC Player: 'Emulation'. 
	This is used for enabling/disabling certain internal behaviour, when playing some
	legacy quests where it is desirable to have this option. 
	( ZoriaRPG, 21st December, 2018 )
Fixed vires splitting before their slide() ends.
Fixed MP3s with metadata not playing. 
	Let's hope that this fix doesn't fuck up 2.50.0 or 2.50.1 quests.
	( ZoriaRPG, 16th December, 2018 )
Probably fixed issues that Avataro reported with Vire enemies.
	( ZoriaRPG, 3rd December, 2018 )
##############################################################################################################
	Full commit of ports, to Alpha 14:
	( ZoriaRPG, 6th March, 2019 )

//Alpha 13
Don't allow declaration of empty array literalsm (size of 0), or any array with a size < 1; or > 214748. 
Complete implementation/integration of const bool and const untyped.
	( Venrob, 6th March, 2019 )

Fixed crashes and other issues when saving screenshots. 
	( ZoriaRPG, 5th March, 2019 )

The Export ZScript dialogue now saved with a .zs extension by default. 

	Parser Fixes and Improvements ( Venrob, and ZoriaRPG, cumulative through to 5th March, 2019 )

	You can now declare any type globally.
	You can now declare untyped variables, and arrays.
	You can now have a function return type of 'untyped'.
	
	Typedef now works across multiple files.
	
	Added type 'const untyped'. Can only be initialised with a numeric literal, or const float/int, but typecasts to all datatypes.
	Added type 'const bool' (cannot yet be initialised with true/false). t/b/a
	
	Fixed a bug where division of a constant would result in truncation that did not occur in 2.50.x
	Fixed issues with division by an integer, where values would be truncated.
	Added #option TRUNCATE_DIVISION_BY_LITERAL_BUG as a compiler flag:
		This is OFF by default.
		#option TRUNCATE_DIVISION_BY_LITERAL_BUG on
			Forces old 2.50 behaviour (truncate division by a literal).
		#option TRUNCATE_DIVISION_BY_LITERAL_BUG off
			Use new behaviour (never truncate)

	Added escape character sequences to SINGLECHAR:
		\a     		Alert (Beep, Bell) (added in C89)[1]
		\b    		Backspace
		\f     		Formfeed Page Break
		\n     		Newline (Line Feed); see notes below
		\r     		Carriage Return
		\t     		Horizontal Tab
		\v     		Vertical Tab
		\\     		Backslash
		\'     		Single quotation mark
		\"     		Double quotation mark
		\?     		Question mark (used to avoid trigraphs) 
		\x0 to \xFF   	Normal ANSI characters, as hex value. 
		
	Fixed scope resolution for identifiers and variables when used across
		imported files.
		Example:

			//buffer

			import "bar.zs"
			void foo()
			{
				scrid.bar();
			}
			////////////////////end of buffer
			
			//bar.zs
			
			ffc script scrid
			{
				void run(){}
				voud bar(){ Trace(1); }
			}
		
		This worked in 2.50.x, but broke at some point in 2.55, and the
		correct behaviour has been restored. 
			
		Scoped identifiers must be read-in, in linear order. Thus, this
		would not be valid:
			
			//buffer

			
			void foo()
			{
				scrid.bar();
			}
			
			import "bar.zs"
			////////////////////end of buffer
			
			//bar.zs
			
			ffc script scrid
			{
				void run(){}
				voud bar(){ Trace(1); }
			}
			
		The import directive containing the token that you are resolving must be declared first,
		or be processed first, before it can be used. 
			
	Script errors will now give line and column references prior to the
		error type.
			
		Old:
			Error S007: Variable X can't have type VOID.
				@ LINE 4 COLUMNS 1-11
			
		New: 
			LINE 4 @ COLUMNS 1-11 - ERROR S007: Variable X can't have type VOID.
			
	Fixed some issues where compiler errors improperly carried over. 

	Fixed import directive pathing with backslashes:
		Importing in zscript with a path such as scripts\scriptfile.z used to work, in prior versions. 
		As of 2.55, it reads \ as an escape character, and parses the file path improperly. 
		This has now been corrected, so that you may use / or \ as a valid path token, however, / is the better option.
			
	Added ternary expressions.
		int x = Rand(6,8);
		int y = x > 7 ? 1 : 0;
		
		Assigns, and operations inside ternary blocks must be in parens:
			bool V = true;
			int b;
			int a = V ? ( b =  5 ) ? ( b = 4 );
			
			int c = V ? ( b -= 2 ) ? 0; 
			
			int y; int z; 
			int x = (y += 10) ? (z = 5) : (a -= 2);
			
		In all of these cases, parens are mandatory. 
		
		Further, compound ternary expressions should be placed in parens:
			int a = (V ? 1 : 0) ? 5 : 6
			
		The default, is to evaluate in a linear sequence.
				
		Thus, 
			bool ? int : int ? bool : int
		...would evaluate as: 
			bool ? int : (int ? bool : int)
		
		Using parens to define your order of operations and scope, is prudent. 

Fixed issues with division in the parser, and added some compiler flags:
	Added `isLiteral()` to `ASTExpr`, for the literal int division bug flag
	Renamed `Trace` to `LOGGING`
	Renamed `LiteralIntegerDivision` to `TRUNCATE_DIVISION_BY_LITERAL_BUG`
	Added `scope` to the `BuildOpCodes` class, and everything that comes along with making that work.
	Passed `scope` to all `getCompileTimeValue()` calls from `BuildVisitors.cpp`
	( Venrob, 5th March, 2019 )
	
Update included version of ZCLaunch to 2.6.12.
Allow all ZScript data types to be declared globally.
Add allowing declaration of const untyped and const bool.
	Const untyped will work if the value is a literal number.
	Const bool will not yet accept an assign of true/false, but will accept a numeric literal.
	( ZoriaRPG, 5th March, 2019 )
	
Update: Compile error format.
	Now reads "Line # @ Column # - ERROR # MSG"
	( Venrob, 1st March, 2019 )
	
Docs: Add comments to `putweapon`
Fixed the lens hints for some items crashign ZC. This was caused by the hint graphic trying to run a script: 
	This fixes `putweapon` dummy weapons crashing by attempting to run weapon scripts. -Z
	( Venrob, ZoriaRPG, 28th February, 2019 )
	
Fix: More Bombs / More Arrows rooms and Wealth Medals
	- Wealth Medals which use percentage zero out cost (integer division != double division) (guys.cpp)
	- No code was ever in place to give the discount? (link.cpp)
	( Venrob, 12th February, 2019 )
	
Must always `BEGIN( INITIAL )` before returning! Added `TERMINATE` macro to handle this.
	This fixes an issue where you would get an error, because the parser did not exit a mode.
	( Venrob, 9th February, 2019 )
	
Declare `untyped` data, fix `npc->Script` return *10000
Fix: `npc->Script` return didn't `*10000`
	( Venrob, 7th February, 2019 )
	
Feat: Allow declaration of `untyped` data
	( Venrob, 2nd February, 2019 )
	
Feat: Add `\xFF` hex-insertion escape character for QUOTEDSTRING and SINGLECHAR
Fix: Invalid escape characters should throw error
	( Venrob, 31st January, 2019 )

Updated SINGLECHAR escape characters
	( Venrob, 30th January, 2019 )

Fix scope resolution for local functions and vars in scripts:	
	Typedefs of both kinds must be processed before imports are processed, or they do not properly work across files.
	Only check RootScope->descChildren_ if no valid scope has already been found.
	Scripts were not registered to `RootScope->descChildren_`!
	( Venrob, 28th January, 2019 )

Feat: SINGLECHAR can now accept escape characters
	( Venrob, 27th January, 2019 )
	
Import tokens now use TOK_IMPORTSTRING instead of TOK_QUOTEDSTRING
	- TOK_IMPORTSTRING does not parse `\` as an escape, instead parsing it literally. This allows `C:\User\Test\` as a valid path,
	rather than skipping the backslashes.
	( Venrob, 25th January, 2019 )

Fix: Slight Order of Operations issue
Fix: Missed SemanticAnalyzer.cpp/.h sections
Fix: Add overrides for getReadType() and getWriteType() for ASTTernaryExpr
	Ternary is now functional. The return type is the type of the middle expression.
	Slight issues may occur if the middle expression is untyped.
	( Venrob, 19th January, 2019 )
	
Parser: Preliminary layout for Ternary Expressions
Parser: Add QMark (?) token
	( KoolAidWannaBe & Venrob, 18th January, 2019 )
	
Feat: Ring/PerilRing Flag 2 - "Divisor is Percentage Multiplier"
	As the name says, the number in the divisor field will be treated as a percentage to multiply if the flag is turned on. This allows things
	such as '50%' for halving, or '150%' for increases less than double.
	( Venrob, 14th January, 2019 )

Increased the buffer size for the screenshot name
	to prevent a crash on overflow.
	( ZoriaRPG, 14th January, 2019 )
	
Fire BRang Flag 8: `Triggers 'Fire(Any)'`
	( Venrob, 12th January, 2019 )
	
Modified `LinkClass::ringpower(int dmg)` to handle percentage multipliers 
	instead of divisors, if the flag is set. It can also handle both at once 
	(ring of one mode, peril ring of the other) without issue.
	( Venrob, 11th January, 2019 )
	
Re-added the Menu button to Joypad Config
	( ZoriaRPG, 8th January, 2019 )
	
Added Halt Duration and Acceleration Factor to the
	Enemy Editor, for Peahata, and for Phantom Ghinis.
	Fixed the dialogue to use the correct enemy label fields.	
	( ZoriaRPG, 7th January, 2019 )
	

You can now set the halt duration, and acceleration
	factor for flying enemies in the enemy editor, for keese and
	bats. Perhaps Peahats also need this?
	( ZoriaRPG, 6th January, 2019 )
	
Move item script timing for 2nd frame (and onwards)
	to take place immediate;y after Link.animate().
	This preserved the old system timing for item scripts.
	
Don't try to load an enemy for weapons with eweapon
	IDs, but not eweapon signatures. 2.50 allowed stupid stuff, such as
	Screen->CreateLWeapon(EW_FIREBALL) !!!
Fix: Eweapon scripts check !isLWeapon and run w/o checking Dead()
Fix: Z_eventlog will now use the correct script types when logging events, from new script types.

Fixed one issue with array draws, for Lines()
	where the array iterator was wrong.

	Copied a code block from historical/old-master where Gleeok first
	tried to set this up.

	The issue is that the array becomes invalid (scope) prior to
	the enqueued draws taking place, so there is no data for them to use.

	The values need to be pushed into a vector and used, later.
	( ZoriaRPG, 1st January, 2019 )

Fixed an early return condition in Screen->Lines that
	would always cause it to abort, and fixed use of the wrong args order.
POP the correct number of args for array-based draws,
	such as lines()
Writing to LW_SCRIPT* o_tile works again.

Fixed a spot where an enemy pointer was being used to try
	to load graphics to an lweapon (wRefFireball) because it was based
	on a fallthrough of ewFireball.
	( ZoriaRPG, 27th December, 2018 )
	
WDS_BOUNCE is a write-only condition that calls
	`onhit(false)` for LW_BRANG weapons. It has a literal value of (1)
	and the engine never uses it otherwise.

	LWeapon scripts now interact properly with it.
	( ZoriaRPG, 26th December, 2018 )
	

//Alpha 12
Reset combo animations on Game->Continue()
Call AllOff() prior to running Link's onDeth script.

Fixed new npc functions in ffasm.cpp:
	The 'args' value in ffasm.cpp was set to 0, for
	getter functions. these needed to be set to '1' to return the
	proper value.

Fix new npc functions.
	Correct their bounds checks, change them to use GuyH::getNPC()
	and fix some array size checks.
	
Probably fix wBrang weapon scripts aborting on WDS_BOUNCE.

Fix Script Type LWeapons not running their scripts. 

Refuse to permit CreateLWeapon() or CreateLWeaponDx() to create 
	an lweapon if there are 255 or more on the screen.

Fixed DMap Scripts. They now run properly, at the correct time,
and run when Link warps without massive fiddling. They do not run
forever if they run out of scope (they certaintly DID!!), and they
have the correct refinfo pointer (REFDMAPDATA, not LOADMAPDATA!!).

Fixed issues with LoadBitmapID() and GetScriptBitmap() not liking
the old internal bitmap IDs.

Added the following to ZScript:
	bool Game->SkipF6 : This skips over display of the save/continue/retry MENU
		when the player pressed F6, but it still gives them the 'Exit, Confirm (Y/N)' DIALOGUE.

	Game->ShowContinueScreen() : As Game->ShowSaveScreen(), but gives all three
		choices (SAVE, CONTINUE, RETRY).
	( ZoriaRPG, 25th December, 2018 )
	
Probably fixed a bug in Game->Continue(), where pressing F6 would not show
the continue screen during play, if you call this.
Added mapdata->isSolid(x,y)
Added Game->Continue() to ZScript. This should function
	in the same way as Game->End(), but it should cause the game to
	resume as with the Continue option in the normal game over menu.

Added bool Game->SkipCredits to ZScript. This should cause the game
	to skip over the WIn Game credits, but still advance the quest, normally.

Fixed Link OnDeath and OnWin Clear Script Draws 
	Script Draws do not remain static during Link's onWin
	and onDeath scripts, and now clear normally, every frame.
	This prevents stuff such as DrawTile() from persisting across multiple
	frames.

Re-enable eweapon scripts after some lweapon script modifications.

Fix uninitialised var in ZASM AUDIOVOLUME
Disabled an extraneous call to the lweapon script engine.

LWeapon Scripts: Swords Can Run Scripts & Fix Arrows 
EXPERIMENTAL!!
	The melee part of a sword item will run a script if the value
	of Attributes[9] for its parent item == 50. (Misc10 == 50)
	This also fixes arrows not running scripts.

Fix potentially uninitialised vars in Link.cpp. (Not my fault!!)
	( ZoriaRPG, 24th December 2018 )

Rename Screenshot Base Filename from zelda%03d.png, to zc_quest_screenshot%03d.png
Now showfps does textprint_ex when (frame&1), whic increased the
	running speed of ZC by about 12.5%.
Moved the calls to run LWeapon Scripts back into Lwpns.animate(),
	and removed the deadstate restriction.
	( ZoriaRPG, 23rd December, 2018 )

//Alpha 11
Setters for Screen->LayerScreen[] and mapdata->LayerScreen[] were not
	properly vbounded. 
	^ They needed to be bounded between 0 and MAPSCRS. (Should this be MAPSCRS-1?)
	I also fixed the order of %s and %d parameters in some macros.

Fixed more mapdata macros issuing an error for map 1, screen 0 when
	ri->mapsref == 0.

Changed the behaviour of Screen->LayerMap[], LayerScreen[], and LayerOpacity[]
	so that the array index matches the layer ID used in the editor.
	^ Thus, Screen->LayerMap[1] is Layer 1, not Layer 2.

	I copied this to mapdata->LayerMap[], LayerScreen[], and LayerOpacity[]

	I also added a version check to the MACRO, so that quests made in 2.54, or older
		builds of 2.55 (V_FFSCRIPT < 11 ) will work normally, although if the questmaker
		re-saves them, then they will need to update their scripts!

Fixed a bounds check wrror for mapdata:
	map 1, Screen 0, is ri->mapsref 0, so we can't check != 0!!!
Fixed getters for all of the mapdata->Combo[] arrays.
Fixed issues with npc scripts, causing stack corruption:
	They use the same *ri mechanic as lweapon acripts, but they run in
	enemy::animate(), which is itself a sort of proof that weapon scripts
	could probably also run from animate(), now.
Added checks for do_animation to guys.cpp.
	Segmented boss enemies do not obey do_animation. Script your own
	segmented bosses using the new enemy types.
Note: Added a note about enemy::drawblock()
Enable do_animation for weapons.

Add scriptflip and scripttile to sprite::draw():
	sprite::draw(), sprite::old_draw(), sprite::draw8(), and sprite::drawcloaked()
	will all check scripttile and scriptflip, and use those values in the place of
	tile and flip, if those values are > -1.

	I'm trying this for now. I don't think that it will suffice, though, because
	ZC is still making internal adjustments to those tiles.

	I may add a bool->OverrideEngineTileManagement or something, so that ZScript
	users can have the benefit of either option.

Reverted weapons.cpp to immediately before the last commit.
	We'll do this in sprite::draw(), instead.

Added scripttile and scriptflip to all sprites. Both init at -1.
	Added running code for scripttile to weapons.cpp.

	Added the following instructions to ZScript:
	dmapdata->Script, dmapdata->InitD[8]
	lweapon->ScriptFlip, lweapon->ScriptTile
	eweapon->ScriptFlip, eweapon->ScriptTile
	npc->ScriptFlip, npc->ScriptTile

	VBounded all ScriptTile (including Link!) setters between -1 and NEWMAXTILES-1.
	VBounded all ScriptFlip (including Link!) setters between -1 anbd 256.

	VBounded npc->Script, lweapon->Script, and eweapon->Script between 0 and NUMSCRIPT-1.
	( ZoriaRPG, 23rd December, 2018 )
	
//Alpha 10
Renamed entry [0] in Emulation Menu to 'Flip-Flip Cancel and Wave Warps'
	Disabled this option if the current quest was made in 2.10 or
	( ZoriaRPG, 22nd December, 2018 )
	
Added a new menu to ZC Player: 'Emulation'. 
	This is used for enabling/disabling certain internal behaviour, when playing some
	legacy quests where it is desirable to have this option. 
	( ZoriaRPG, 21st December, 2018 )
	
I forgot to save the weappon InitD[] in guys version 40.
	V_GUYS is now 41.
	InitD[] valuesvare saved, and read by the quest loaders.
	Weapon InitD[] is properly loaded into the weapon, and forwarded
	to ffscript.
Some eweapon types were checking if ScriptGenerated, and that check only applies to one lweapon type.
	I removed the extraneous check.
	( ZoriaRPG, 21st December, 2018 )

//Alpha 9
Fixed crashes when creating lweapons, caused by trying to read
	enemy* for parentID of lweapons (weapon scriot read for eweapon scripts).
Fixed Link Death and Win scripts to run at the proper times.
Link's onDeath script, and Link's onWin script, can both run
	for multiple frames.

//Alpha 8
Fix when Link's Init script runs.
	It now runs after Link.init(), but before setting his entry points
	and before the opening wipe.
	This ensures that any changes that the init script executes,
	such as setting Link->Invisible, aren't seen by the player;
	and that Screen->EntryX, and Screen->EntryY have the correct
	coordinates at the start of the game, if Link's init script sets these.

If the user clears an initD label to a blank link, it will reset to 
	the default value of 'InitD[%d]'.
Added DMap scripts, in entirety.

Added the following variables and arrays to ZScript:
	npc->Script
	npc->initD[8]
	lweapon->Script
	lweapon->InitD[8]
	eweapon->Script
	eweapon->InitD[8]
	npcdata->Script
	npcdata->InitD[8]
	npcdata->WeaponScript
	npcdata->WeaponInitD[8]
	itemdata->WeaponScript
	itemdata->WeaponInitD[8]

	Itemdata was alredy in the system, as were a few of these, but
	I completed the set. I renamed WeaponD to WeaponInitD to prevent confusion.
Added EWeapon Scripts to ZQuest and to the ZC Player
	Added vars to npcs for the weaponscript,m the initD, and for the InitA.
	Added the Enemy Editor dialogue data to set the script and the script InitD.
	Added the code to transfer data from the guys struct to the weapon, when the weapon is generated.
	Added the script control code in ffscript.cpp.
	
	EWeapon Scripts: Make them functional. 
		Added code to transfer the script ID from
		the guys struct to the weapon.
	Added the code that causes the script to run.
	EWeapon Scripts: Add vars to guys.h/cpp and initialise them.
	EWeapon Scripts: Add eweapon script and related fields to the Enemy Editor.
	EWeapon Scripts: Add weaponscript, weap_initiald and weap_initiala to guys.
	( ZoriaRPG, 20th December, 2018 )

Fixed some missing calls to vbound in ffscript.cpp.
Fixed a memory leak caused by not freeing memory used for tile allocation.
	( Peter Hull, 19th December, 2018 )

//Alpha 7
Added the following script types to the 'Compile ZScript' dialogue in ZQuest:
	eweapon, link, dmapdata (DMap), screendata (Screen)
	You can compile all of these, and assign them to slots.

Installed Link scripts into ZC, and expanded their number.
	They work in a similar manner to global scripts, and may call Waitdraw().
	At present, these are the viable slots:
		Init (1)
		Active (2)
		onDeath (3)
		onWin (4)
	Slots 1, 3 and 4 can run for only one frame at this time.
	Increased V_FFSCRIPT to '11'.
	( ZoriaRPG, 19th December, 2018 )
	
//Alpha 6
Fixed Ganon's HP in 1st.qst and in 2nd.qst.
Fix creation and blitting of user bitmaps.
Fix a number of fallthrough cases in ffscript.cpp.
Fix fallthrough cases in Screen->DrawBitmapEx() and bitmap->Blit()
Fix an overflow condition in ffasm.cpp where the command string tempvar
	char array was too small. (Changed from tempvar[20] to tempvar[80]).
	( ZoriaRPG, 18th December, 2018 )

//Alpha 5

Vers: Update to Alpha 5
Remove traces for LWeapon Scripts
	( ZoriaRPG, 17th December, 2018 )
	
LWeapon Scripts: Associate refInfo with each sprite
	This fixes stability issues with them.
	( Peter Hull, 17th December, 2018 )
	
Skip over ID3 metadata to ensure that most MP3 files play.
	*Copied from 2.53b27
Lib: Update csound.lib for MSVC (MP3 fixes)
Fix where vires create new enemies when they split, and the
	distances that they can slide.
	*Copied from 2.53b27.
	( ZoriaRPG, 16th December, 2018 )
	
Try memsetting the sprite stack to 0xFFFF
Fix: Uninitialised weapon values.
	( ZoriaRPG, 13th December, 2018 )

Added some traces

Fixed crash, it seems. needs further testing.
	Sometimes some lweapon types still refuse to run their script, despite
	everything seeming to be correct. I suspect some cleanup code is running
	that should not run.

Fixed issues with incorrect or corrupt stacks, but now scripts
	can crash. it seems as if ri->lwpn and w->getUID() can be mismatched???
LWeapon Scripts: Try getting data by UID instead of by Index
	( ZoriaRPG, 11th December, 2018 )

File: Add screenWipe.cpp from 2.50.2
	( ZoriaRPG, 10th December, 2018 )
	
LWeapon Scripts: Split Up Animate and Run Script
Refactored lweapon scripts.

	Stacks are no longer memset other than on creation.
	They now use doscript = 1 to help determine if they should run.

	Issues: bait once again doesn't want to run scripts once it times out on
	a screen.

	Sword beams still cause stack underflows, but magic seems to be fine.
	( ZoriaRPG, 9th December, 2018 )
	
	
//Alpha 4

Added item->Family and item->Level to ZScript.

Ensured that all classes have ->Family and ->Type. Both do the same thing.
	Weapons use ->Family, ->Type, and ->ID in the same manner.

Set Labels on New Enemy Types: Skipping this would have caused crashes.

Module: Added Default Strings for New Enemy Types to ZQuest
Modules: Added new npc family fields to the modules.

Add New NPC Types for Scripts
	Changelog: Added 20 generic npc types to the system.
	Added 10 'friendly' npc types for RPG-style guys.
Updated build details to Alpha 4.

Implement LWeapon Scripts + Editor Improvements
LWeapon Scripts Fix: Stop Swords from Running Scripts 
	Prevent swords from running scripts (for the present), and
	try to forward the script to the beam.

Disabled calls to al_trace() in module loading, lweapon scripts,
	npc scripts, and date & time code.

LWeapon Scripts: Seem to Have Fixed issues with lweapon script stacks.
Clear script data in order.
Try a different saving order.
FFScript: Add some disassembly information to lweapon scripts. 
	LW Scripts believe that they have all sorts of invalid commands. Something
	awful is happening with their memory map!

LWeapon Scripts: Add code to run them.
LWeapon Scripts: Fix lw->InitD[] in ZScript
LWeapon Scripts: Add lw->Script and lw->InitD[] to ZScript
LWeapon Scripts: Add a way to determine if a weapon is an LWeapon, and
	forward script data to weapons.

You can set the Script, the InitD, and the InitD Labels for
	LWeapon Scripts in the Item Editor. 
	ZQuest will save and retain the data.

Began adding lweapon scripts to ZC and to ZQuest.

Added Item Script InitD Labels to the ZQuest Item Editor UI.
Moved the NPC InitD fields all under the 'Action Script' tab.

	The selection for the script, and all of its InitD values, are now on one tab.

Renamed 'InitD' tab to 'Weapon Script' It is blank at this time.

Started adding the same form of editable fields for Item Script
	InitD to ZQuest.

	Added vars in preparation for item sprite scripts.

	Bumped V_ITEMS by +1.
	( ZoriaRPG, 7th December, 2018 )
	
Added the following to NPCData:
	npcdata->GetInitDLabel(int array[], int d_index)
	npcdata->MatchInitDLabel("label", d_index)
	npcdata->InitD[8]
	npcdata->Script

I also inserted a change into the FFScript.cpp engine, for npc scripts, so
	that when a script exits, it does not set ri->npcref to anything.

	I think that may have been the cause of some earlier, erratic behaviour in npc scripts.

NPC Editor InitD Labels Can Be Changed 
	You can now set custom labels for the eight InitD args used by
	npc scripts. These are saved on a per-npc basis, and set in the enemy editor.

	V_GUYS is now 39, and I prepared guydata for npc weapon InitD labels, too.
	( ZoriaRPG, 6th December, 2018 )
	
Added New npc-> Functions for Use by NPC Scripts:
	bool isDead() //Returns if the NPC is dead, or dying
	bool CanSlide() //Checks if the npc can be knocked back
	bool Slide() //Engine knockback
	void Remove() //Instantly kills an npc
	void StopBGSFX() //Stops the background sounds that the npc is generating.
	void Attack() //Causes the npc to attack with its weapon.
	void NewDir(int arr[]) //The npc chooses a new direction.
	//Uses an array literal for its args.
	void NewDir8(int arr[]) //As NewDir(), but 8-directions
	void ConstantWalk(int arr[]) //Causes the npc to walk.
	//Uses an array literal for its args.
	void ConstantWalk8(int arr[]) //As ConstantWalk(), but 8-dir
	void VariableWalk(int arr[])
	void VariableWalk8(int arr[])
	void HaltingWalk(int arr[])
	void HaltingWalk8(int arr[])
	void FloatingWalk(int arr[])
	bool LinkInRange(int dist_in_pixels) //returns true if Link is within
	//'range' pixels of the enemy
	bool CanMove(int array[]) //Returns true if the npc can move in a
	//given direction.
	//Uses an array literal for varying args.
	//Overloaded for a number of options.
	bool SimulateHit(int array[]) //Simulates hitting the npc with a weapon,
	//another sprite, or an arbitrary set of values passed as an
	//overloaded array literal.
	int LinedUp(int range, bool dir8) Checks if enemy is lined up with Link.
	//If so, returns direction Link is at as compared to enemy.
	npc Create(int array[]) //Similar to Screen->CreateNPC(), except:
	// (1) It uses an arry literal for its args, with varying size.
	// You can either create an npc onnly by its ID, or you can do
	// that and set its spawn coordinates at the same time.
	// (2) It works based on an existing pointer, such as:
	// npc n; n->Create{args});
	//Returns -1 if not lined up. Range is inclusive.
	void BreathAttack(bool seeklink) //Fires the breath weapon set to the enemy.
	bool Collision(int obj_type, untyped obj_pointer)
	//Returns if either an object is collding with the npc,
	//or if an arbitrary set of coordinates would collide.

Fixed crash when creating LW_REFMAGIC by script.
	( ZoriaRPG, 5th December, 2018 )
	
Fixed the accidental removal of itemdata->Getname()
Began to add new npc functions for use by npc scripts.#
	( ZoriaRPG, 4th December, 2018 )

//Alpha 3

Fix crash on calling any decorations sprite, due to tryint to initialise
	EIGHT indices of sprite->InitA[2] to 0 !!
Fix npc scripts mucking up stack pointer:
	Changed memset(stack,0) to memset(stack,0xFFFF).
	( ZoriaRPG, 3rd December, 2018 )

** Known Issue: For some reason, the ri->guysref is either improperly
cleared, or something is reading it improperly:

When you F6->Retry, and there are running npc scripts, they corrupt the ZScript stacks.

Closing ZC and reopening it fixes this, so I must have missed something
that clears this data. 

**

Added npc->InitD[8] to ZScript
Set InitD values on script load.
Removed extraneous vars in sprite class

Update build date.

Added initD[8] to sprites.
Added npc->InitD[8] to ZScript.
Populated ri->d with npc->initD[] when the npc script is called.

NPC Scripts: Add Initial D[8] to Enemy Editor
NPC Scripts: Fix Editor Dialogue
	Somehow, my commit of this editor fix was lost or corrupted.

	This again fixes the editor dialogue object placement.

NPC script stacks will now clear when their scope ends.
I also fixed some issues with the 'this' pointer in npc scripts.

NPCs now run scripts assigned to them.

Modules: Update Default and Classic Module files.

Added the following vars to the file select screen (NAMEENTRY)
	in the mopdule format:

	sels_cursor_tile // The cursor tile. Default is 0
	sels_heart_tile  //The tile used to draw hearts.
	sels_linktile // The base tile used to draw Link. Might be wrong.

	sels_heart_tilettile_cset // The default CSet used to draw hearts.

	draw_link_first // If set to non-zero, then Link's tile will be drawn before other
	decorations (e.g. sword for 2nd quest). Otherwise, if == 0, we use the
	normal Z1 behaviour.

	//If these values are < 15, then the tile will be drawn in the specificed cset
	sels_cusror_cset = 16
	sels_link_cset = 16

Modules: Update Default and Classic ZMOD files.
Modules: Add Name Entry Graphics to Module Format 
	The quest icons (all TEN supported quests) are now set by the
	module, along with their csets and X positions.

	The file select frame tile, and cset is now set by the module.

	The colour shift on quest 3+ is now in the module format, but disabled,
	pending other tests.

Updated the classic module file with the new vars.
	( ZoriaRPG, 3rd December, 2018 )

Modules: Marked locations of hardcoded file select elements to move to modules.
May be a fix for issues with vires.
	My sanity can only take so much more of this.
	Why didn't they just keep vire/polsvoice in their own class, as in 2.10?!

Possible fix for Vires
Added file Vire.cc - 2.10 Vire Code as Reference
	( ZoriaRPG, 2nd December, 2018 )

Cleaned up code for the NPC Script selection in the Enemy Editor,
	and removed traces and unused vars.

It is now possible to set the npc script slot in the Enemy Editor,
	and to properly save your selection in the quest.

Clear script bindings left over from a prior quest. 
	If you set an npc script, then load any other quest; the second
	quest thinks that the script is set there, too.

	The inverse was also possible: Open a quest with scripts saved, after having
	opened (or created) a blank quest, and the blank quest fields would carry over.

	This *should* fix that issue.

Added script bindings for new script types to quest saving/loading.

Increased V_FFSCRIPT to `9`

NPC Scripts: Clean Up Enemy Editor Scripts Pane
Fix: Errors in ScreenPrint()
NPC Scripts: Begin Adding to Enemy Editor
Slight cleanup of FFCore.getTime()
Add LogPrint() and ScreenPrint to string_functions.zh
	( ZoriaRPG, 30th November, 2018 )

Add test quest and script for GetSystemClock()
Removed erroneous +2 from 'month' return.
Changed RTC to a Unary opcode and corrected its inpur param
	value, when read from the stack.

Fix Crash on Saving Scripts: I was trying to save to a NULL pointer.
	The NULL pointer assign (see below) is wrong. I redacted it. 

Add missing constant for RTC_DST
Update std_constants.zh for Link->WarpEx() and GetSystemTime()

I had a unary opcode constructor for GetSystemTime(), where it
	needed a binary opcode constructor. This commit fixes that, and it corrects
	the return value to stack arg 2, by multiplying it by 10,000.

Added GetSystemTIme(int category) to return the current system
	Real Time Clock (RTC) value for a specific field of the time struct (time.h).

	The parameter options are:

	define RTC_YEAR		= 0;
	define RTC_MONTH	= 1;
	define RTC_DAYOFMONTH	= 2;
	define RTC_DAYOFWEEK	= 3;
	define RTC_HOUR		= 4;
	define RTC_MINUTE	= 5;
	define RTC_SECOND	= 6;
	define RTC_DAYOFYEAR	= 7;
	define RTC_LAST		= 8;
	( ZoriaRPG, 29th November, 2018 )

Changed the stack index from const byte to const long.

	Sprite scripts will need this to use as their pointer value, then somehow
	associate that with their stack.

	Perhaps as `stack = &(guys.spr(getbyUID(i))->stack);`

	...although `stack = &(guys.spr(GuyH::getNPCIndex(ri->guyref))->stack);`
	may suffice. Not sure.

Pre-emptively set new script type pointers to null for older quests.
Increased V_FFSCRIPT to `8`.
	Added routines to save, and to load new script types, or to skip
	loading them based on section version.

	Do the pointers for them need to be memset/NULLified for old quests?!

	Scripts that used to load into %wpnscripts now load into &lwpnscripts.
	EWeapon scripts load into a new pointer.
	( ZoriaRPG, 28th November, 2018 )

Added file log.zh to /std_zh
Changed button text on 'Import' button in 'Compile ZScript' dialogue.
	The new button text is 'Load', and the new hotkey is 'L'.
	( ZoriaRPG, 27th November, 2018 )

Added NPC Scripts to the Compile->Assign Script Dialogue.
	They work, and are compiled properly.
	What remains:
		Save the script with the quest.
		(Increment the save format.)
		Read NPC scripts in, when loading a quest that is >- save ID.
		Add the script selection to the enemy editor.
		Call the code in the game_loop()
		Hope that it all works as-is. 
Begin Adding Script Slot Dialogue:
	I need to look at the case values 6, 9, 12 for script types at the point
where I left off for the day.

Fix: Conflict with script types and common identifiers, and begin adding Player.
	Changed screen and dmap script types to screendata and dmapdata
	scripts, to avoid conflicts with the common script variable identifiers
	`int screen` and `int dmap`.

Started adding second instances of `Link->` and `link script` as
	`Player->` and `player script`, respectively.

Started adding new script types to the parser and implementing their slots in ZQuest.

	New types are:
	npc scriptm (this-> is npc)
	lweapon script (this-> is lweapon)
	eweapon script (this-> is eweapon)
	dmapdata script (this-> is dmapdata)
	screendata script (no this-> at present)
	link script (no this-> at present)

Feat: Begin Adding New Script Types to Parser & ZQuest
Fix: Add missing script types to parser/Types.h

Try to Ensure that Item Scripts Have Better Timing
	Calling FFCore.itemScriptEngine() after LWpns.animate() AND calling
	FFCore.newScriptEngine() might do the trick.
	If I only call the former, then ZASM goes bonkers.


//Alpha 2

Updated changelog to current. 
Update version and date strings.
Tests: Update test quest files for item scripts.
Fix: Probably Fix Item Script Stack Corruption 
	When Link.cpp calls a new item script, it also clears the script
	stack. This should prevent multiple instances of a script tryint to use the
	same stack at different stack frames.

	It seems to work now, but obviously, it needs more testing, particularly for
	collect scripts, and with the QR off.
	( ZoriaRPG, 27th November, 2018 )

Update version strings and change Necromancer to AEternal

Fix: Don't continue running item scripts after game exit:
	Stopped perpetual item scripts running from carrying over after
	F6, or otherwise quitting/winning the game.

Made some modifications to itemdata->RunScript()

I disabled bool perpetual for itemdata->RunScript(bool) for the
	present. it corrupts the stacks. I cleared the stack for now, and setting	
	the bool does nothing.

Perhaps clearing the item stack would suffice?
Added itemdata->RunScript(bool perpetual) to ZScript.
	If (perpetual == true), then the script will continue running for more than
	one frame, even if the QR is off. If the QR 'Item Scripts Continue Running'
	is enabled, then this boolean does nothing.
Feat: Item Scripts Can Have Infinite Loops:
	Added a QR (and a new Script Rules category):
	Item Scripts Continue to Run (until they call Quit)
	Added stacks for 256 item scripts.

	Added control code under FFCore.newScriptEngine() to control item scripts
	and all other new script types in the future.
	-->This may have timing issues at present.

	Set up other stacks and code for future implementation.

	If an item script has a Waitframe loop, then it will set runningItemScripts[id].

	If runningItemScripts[id] == 1, then that script will continue to run until aborted.

	I had to put advance_frame(true) in the FFCore.newScriptEngine() function to prevent
	the game loop from running infinitely.

	There must be a better way to do this, for proper timing, but it suffices for now.
	Now the scripts run, as intended, and you can abort them; however if you
	try to run them a second time, ZC crashes.
I decided to try to implement item scripts that run perpetually.
	While I figured out how to make them run, I have yet to fingure out how
	to properly control the loop so that it releases control back to the player
	and so that it only occurs when there are item scripts that are properly
	initialised by the player.
Split weaponscripts into lweaponscripts and eweaponscripts.
Added pointers for script types.
Added set-up code.
Added cases tol ffscript.cpp for running new types.
Generally set up for the new types.
Start setting up for screen, dmap, and Link scripts.
Increased max ZASm registers from 256 to 1024.
Increased stack sizes from 256 to 1024.
Added stacks to sprites.
Completed the addition of Explode(0 to all sprite classes in ZScript.
	Untested at this time. I followed the same methods as npc->Explode, however
	I had to add some functions to the SH classes.
	( ZoriaRPG, 26th November, 2018 )

//Alpha 1

I had an open if statement in enemy::draw, in the statement:
	`if (dontdraw()`

	The statement was: `if (family == eeGANON)`, and this needed its own return instruction
	to prevent drawing enemies that should always be invisible.
	I also added old_draw(), in the event that we need to reference it in the future.

	Further, we need to update enemy::drawblock() for enemies larger than 1x1.	
	( ZoriaRPG, 25th November, 2018 )

I increased the sprite cap from 255 to 255*256.
	This fixed particle issues with npcs, but I don't want particles to end up
	with stack[256] when we add sprite scripts, or to have such an increase
	cause other ill side-effects, so we need a better long-term solution.
Added cset, and colour and other values to sprite::explode.
	The reason that not all enemies explode if called in a loop, is because
	each pixel counts as one sprite, and exploding all of them exceeds the
	per-screen sprite cap!
Calling npc->Explode() no longer crashes ZC, and it works for
	some npcs.
	It seems that explosions only occur for some CSets.
Began adding explode() functions to create particle explosions
	on enemies, and in future, all sprites. (Unstable in this commit!)
	I also renamed the flags for Link->WarpEx(),to clarify their intent, and I
	added flags to WarpEx() to allow setting continue points and entrance points
	on all warp types.
Added Link->Explode(int type) to call the particle explosions
	used by Farore's Wind, at any time, by script.
Corrected placement of call to sfx() in Link->WarpEx() to
	ensure that warp sounds play.
Fixed setting Entrance/Continue Screen and DMap for calls made with a type
	of Entrance/Exit.	
Fixed values in array for Link->WarpEx(int ptr[]) not being
	divided by 10000, and fixed warp return point selection (mapscreen ID).
	( ZoriaRPG, 22nd November, 2018 )
	
Docs: Added docs for Link->WarpEx() as LinkWarpEx.txt
Refactor: Link->WarpEx() Coordinates Versus Warp Return Square 
	I changed the behaviour of selecting either raw coordinates, or
	selecting a warp return square with Link->WarpEx()

		If 'x' and 'y' are both > -1, then they are raw coordinates as always.
		If 'x' < 0, THEN 'y' is the warp return square type, using positive integers.

	This allows using the warp return constants in std.zh, and it prevents a
	possible ID clash from both values trying to establish the square ID.
Added Link->WarpEx(int ptr[])
	This takes an array as its args, sized as either 8 or 9!

	Valid array params are:
	Link->WarpEx({type,dmap,screen,x,y,effect,sound,flags})
	and
	Link->WarpEx({type,dmap,screen,x,y,effect,sound,flags,forcedir}

		If x, or y is < 0, then the function will use the negative value as a warp
		return square.

		e.g., -1 is Warp Return A, -2 is Warp Return B

		You can either accept the engine's setting for what Link's Dir should be
		after warping him, or force a dir.

		Warp Flags are:
		warpFlagKILLSCRIPTDRAWS: Don't kill script drawing during the warp.
		warpFlagKILLSOUNDS: Don't kill playing sounds during the warp.
		warpFlagKILLMUSIC: Don't kill playing music during the warp.

		Their values are:
		warpFlagKILLSCRIPTDRAWS 0x01
		warpFlagKILLSOUNDS 0x02
		warpFlagKILLMUSIC 0x04

		Add them together to calculate a flag.

		Warp types are:

		Warp Effects are:
		warpEffectNONE: No visual effect.
		warpEffectZap: Zap Effects
		warpEffectWave: Wave Effects
		warpEffectInstant: Black screen.
		warpEffectOpen: Calls the opening wipe.

	You may play a special sound (e.g. Magic Mirror) during the warp.
Move private vars and functions into public (Link.h)
	To speed up the process of testing Link->WarpEx(), I moved a
	large number of private vars and functions into public.

	I'll move them back, and make public accessors, once I'm sure that everything
	works as I intend.
	( ZoriaRPG, 21st November, 2018 )

Modules: Allow Suppressing NES Title Screen Animation
Modules: Add Separate Values for All Three Title Screen Types
	Added separate fields for all copyright string values, for each
	of the three title screen types. Further, starting a string with a hyphen
	will prevent it from being displayed.
Updated module files, and set up default strings in Default Module.
	( ZoriaRPG, 20th November, 2018 )

Modules: Add Title Screen Copyright Strings 
	I added vars for copyright strings on the title screen, but I
	only tested them on the 2.5 title screen.
Module Files: Update for new 6th->10th quest fields.
Modules: Added 6th->10th Quests and Use `num_quest_files`.
	Quest filename validation, and quest title screen skip names
	now use `num_quest_files` to determine how many entries exist.

	Added fields for 6th, 7th 8th, 9th, and 10th.

	Clamped valid quest IDs (moduledata.num_quest_files) between 1 and 10.
Modules: Add Default NSF Tracks to Module
Corrected behaviour to display 'Misc. Attr. 10' on Data 2 tab
	of the enemy editor for the enemy types that we added to the EE field name
	functions in 2.55.
	We were cloning eeNONE before, which had a yes/no menu that is not valid on
	these other types.
Modules: Add base_NSF to Modules.
	Removed hardcoded 'zelda.nsf' from source. The base NSF used
	by the title screen, ending sequence, and other game facets is now set
	by the module file.
Modules: Added itemclass help strings.
	All itemclass help strings may now be set by the user.
Modules Fix: Gohma Family String 
	Fixed enemy family type token for module file, for Gohma family.
	( ZoriaRPG, 19th November, 2018 )

Modules Chore: Adjust item class strings.
	Adjusted default values for item classes 89 through 255.
	Fixed 'ic_last' not to display as 'last'.
Module Fixes: Correct Offsets for iclass_script1 and fix crashes.
	Corrected offsets for script type item classes, and for ice rod
	item class. I had forgotten to put "iclass_last" in the string arrays. :/
Fix crash when trying to read item names > 88.
Modules (Fix): Correct order of Custom Items and Special Combined Items 
	Corrected the order of the strings (item class help) for the following:
		Bow & Arrow Class
		Potion Or Letter Class
		Custom 01 through Custom 20
	I previously had Bow/Arrow and Potion/Letter BEFORE custom classes, but they
	belong AFTER them, and before the strings for undefined weapons.
Modules: Added Item Class Help Strings to Modules
	Added help strings for all item classes to the module format.
	If the module fields are blank, then ZQuest will use the internal defaults.

	Module data for these help strings is an OVERRIDE!
	( ZoriaRPG, 17th Noivember, 2018 )
	
Fix: Inverted porting of qr_NONBUBBLEMEDICINE
	If the QR is active, the flag should NOT be active; this behavior was inverted previously.
	( Venrob, 17th November, 2018)
	
Add Modules to ZC and to ZQuest in main 2.55 branch. 
	( ZoriaRPG, 17th November, 2018 )

Modules: Added Counters (in Item Editor) and LWeapon Types (Item Editor, or future)
Modules: Add EWeapon Names in Enemy Editor to Modules
Modules: Add Built-In Guy Names to Modules
Modules: Add Enemy Walk Styles to Modules
Modules: Added Room Types to Modules
Modules: Add Map Flags to Modules
Fix: mcDROPBOSSKEY to mfDROPBOSSKEY
Fixed type of mcLIFTPOT to mfLIFTPOT
	Begin adding map flags to modules.
Modules: Update classic.zmod with Combo Types
Modules: Add Combo Types
	( ZoriaRPG, 16th November, 2018 )

Module: Update Classic Module:
	Added the remainder of the 511 item families to the Classic Module
Module: Support all 511 Item Families:
	The user can now set all 511 Item Families in the module file.
	Families left blank will retain their 'zz' number.
Modules: Add Item Families to Module:
	The user can now establish custom item names (excluding the
	new 'Script' weapon items for the present), in their module files.
	The string values are for the Item Editor, and Link's Init Item Data.
Modules: Next set of strings to add.
Module: Add Enemy Anims to Classic Module
Modules: Add Enemy Animations 
	Added enemy animation types to the module format.
Module: Use Default for Enemy family if Not Set:
	If the module lacks an entry for an enemy family name, we use
	the old default.
Modules: Set Enemy Family from Module File:
	Added the ability to set enemy family type names from a
	module file. This seems to work as expected.
Modules: Begin adding Enemy Family Names
	( ZoriaRPG, 15th November, 2018 )

Fixed when the module filename is loaded, so that we can change
	the filename from default.zmod.
Module: Fix crash on longer `qst.dat` filenames:
	Increased temp_filename[32] to [64] to allow for longer
	filenames for `qst.dat` when using modules.
Modules: Fix crashes with qst.dat
Module: Fix ZQuest not using module datafiles.
Removed extra 's' in EnemiesAlive() [std_functions.zh]
Update build information.
ZC and ZQuest now properly save the current installed module to
	their config files, and ZC now properly releases config(module) back to
	config(zc.cfg) after loading a module.
The number of serialised quests is now set in the module.x
Update `default` module file.
Quest skip names (e.g. ZELDA, JEAN') are now set by the module
	file, and the behaviour for incrementing the quest after winning the game
	is also determined by the module file.
Zelda Classic Player now uses the module data for default quests,
	and for default datafiles. It does not yet use the skip names, or the quest
	ordering var.
Fixed ZC (AGAIN!!) so that fullscreen is NOT the default. 
Ensure we're using zc.cfg where it belongs.
Fix a modules crash.
	( ZoriaRPG, 14th November, 2018 )

Added a byte to determine if we use the old hardcoded behaviour
	for determining in what border the player plays the quests, or if we run
	them in a strict linear sequence.
Added a default module file (default.zmod), and split module file into the following sections:
	[ZCMODULE] : Basic Settings
	[QUESTS] : Quest filenames
	[NAMEENTRY] : Names to enter on the name entry menu to skip quests.
	[DATAFILES] : The main datafiles used by ZC and ZQuest.
	[ENEMIES] : Enemy names, and family names; property names.
	[ITEMS] : Item Family names.
	[COMBOS] : Combo type, and flag names.
Added datafiles to the modules structs and class functions.
Try loading and tracing module data.
Added a debug routine to trace what is loaded into the zcmodule
struct fields as ZCModule::debug() 
Began incorporating modules for ZC and ZQuest in the live code.
	Set up the struct, the class, and the pointers.
Begin adding a module system to ZC and ZQuest:
	This consists of `class ZModule` and `struct module`.

Optimised data loaders to use (unsigned), and fixed BC::checkGuy
	so that it uses 1 to MAX, not 0 to MAX. You can't create npc ID 0!
Optimised npcdata macros to use ( unsigned ).
I also fixed a typo in a screendata macro (that isn't called).
	It was trying to validate ri->npcdataref, but it uses tempscr!
Added a sanity check to mapdata->Get/SetFFCInitD() to validate
	the ri->mapsref value, prior to accessing a map.
	( ZoriaRPG, 13th November, 2018 )

Merge and update cheat modifier keys. 
	( ZoriaRPG, 10th November, 2018 )

Fix: Don't offset blits from bitmaps!
Added Screen->Lines(int layer, int arr[]),
	Screen->DrawTiles(int layer, int arr[]),
	Screen->DrawCombos(int layer, int arr[])
Fixed how user bitmaps work, and fixed bitmap->Blit()
	The user bitmaps now work, although some offsets may be incorrect.
When invoking PutPixels(), the drawing mode wasn't being reset to
	drawing_mode(DRAW_MODE_SOLID, NULL, 0, 0);
	This created visual bugs that modified the UI colours and generated other,
	random colour events.
	This fixes that issue.
Added Screen->DrawPixels() to ZScript
	This is wholly new, and not based on Gleeok's original function PixelArray()
	in the old master repos.
	The args are: int layer, int points[]={x,y,colour,opacity}, int rx, int ry, float deg.

	Example:

	int points[16] = { 20,20,3,128, 20,21,4,128, 20,22,0x11,64, 20,23,0x12,128 };
		Screen->PutPixels(5,points,0,0,0);

Corrected the indices of sdci[] that FastCombo() uses.
Added a fix for ensuring that DrawScreen(),
	DrawLayer(), and FastCombo() respect the CSet2 value of combos.
	It does not yet affect DrawCombo().
Fixed crashes and visual bugs when editing MIDIs that have
	filenames longer than 26 characters.
Clear User Created Bitmap on Creation.
Changed param 2 in Blit(0 from float to untyped.
	This allows passing a bitmap pointer, or specifying a value.
Added all drawing functions to the bitmap type.
Added bitmap->Blit(). This uses the same format as DrawBitmapEx(), except
	that instead of a source bitmap, it uses a destination bitmap.
	( ZoriaRPG, 6th November, 2018 )

Changelog: Added error returns to mapdata->
   GetFFCInitD(), SetFFCInitD(), GetFFCInitA(), SetFFCInitA()
   ...if ffc id or index is out of bounds.
	( ZoriaRPG, 5th November, 2018 )

Allow custom cheat modifier keys: Save/Load config added for cheat mod keys.
Fixed FFC InitD pulling wrong FFC data,. Properly offset FFC indexes
	( Venrob, 31st October, 2018 )

Added FFCBF_ constants to std_constants.zh for use with mapdata->FFCFlags[]
	( Venrob (27th October, 2018 )


Changed array sizes for mapdata ffc arrays from size 32 to size 33.
	Index[0] will now return an error.
	This is to ensure uniformity between the old ffc namespace and the mapdata namespace:
	FFC uses a range of 1 to 32, and mapdata  (previously using a range of 0 to 31), is now identical.-Z

Also fixed compiler error in previous commit -V

Corrected behaviour of all mapdata FFC variables and arrays. -Z
Corrected transposed values for mapdata->FFCEffect*[] and mapdata->FFCTile*[] height 
and width.
Further removed erroneous vbounding madness. What was I thinking?! -Z
	( Venrob, for ZoriaRPG, 27th October, 2018 )
	
Added missing case for BITMAPEXR to script_drawing.cpp switch(command) per ZoriaRPG.
Re-added case for BITMAPEXR that was lost in migration from DD Master. -Z
	( Venrob, for ZoriaRPG, 26th October, 2018 )

Fix VBound range limit on some tints.
	( Venrob, 25th october, 2018 )

Fix Link's invisibility state not being properly cleared. 
	( Venrob, 24th october, 2018 )

Fix: Crash when loading invalid map, dmapdata->Map wrong return:
	Sanity checks added for map data. dmapdata->Map now adds +1 in the getter, 
	and -1 in the setter, to offset the values so 
	that they match Game->LoadMapData's parameter for map.
Fixed crash when compiling any scripts due to gametable 'Create' and not 'CreateBitmap' 
	entry in table. The parser could not match the tokens and was getting confused. 
	* There is no handling for an entry in the arrays with no matching body! -Z
	( Venrob, 23rd October, 2018 )

Began adding drawing commands to *bitmap.
Added Bitmap->Create(h,w), and Game->CreateBitmap(h,w)
Integrated GetPixel with user bitmaps.
	( ZoriaRPG, 23rd October, 2018 )

Fix Tint Palette leaking into title screen and in dark rooms. Added tempgreypal checks 
in loadfadepal and moved palette restore from in game_over to just after all quit 
conditions in main().
	( Venrob, 23rd October, 2018 )

Fix Tint/Monochrome DMap transition issues. There is still an issue with dark rooms! 
	Don't know how to fix it, but pretty much everything else seems okay? 
	I didn't test Ganon/Winning the game/Picking up ganon's triforce from the 
	dust pile, though.
	( Venrob, 22nd october, 2018 )

Fixed tokens for dmapdata, and for combodata, mididata, musicdata.
Added some constants to std.zh.
	(ZoriaRPG, 21st Oct, 2018 )

//2.55 Alpha 1 (Candidates)

//PureZC 2018 Fall Expo Build

Added code for Graphics->Tint(), Graphics->MonochromeHue() and 
	Graphics->ClearTint(), and renamed dummy function identifiers.
	( Venrob, 21st October, 2018 )

Begin adding user/script-created bitmaps to ZScript.
	( ZoriaRPG, 21st october, 2018 )

Fixed Lens QR/Flag inclusive ORs
Fix script input setting being overriden by drunk:
	When an input which has a drunk state is written to, tell the drunk code not to change that input.
	( Venrob, 20th October, 2018 )

Added dummy functions to ZScript so that Venrob can make the Zelda side of them:
	Graphics->Tint(int,int,int),
	Graphics->MonochromeHue(int,int,int,bool) and
	Graphics->ClearTint
		These can be adapted to user palettes, later.
Added Graphics->Monochrome(int mode) to ZScript.
	This allows setting a monochrome state in a number of hues, with two chroma
	luma distribution patterns.

	Modes:
		const int TINT_NONE = 0;
		const int TINT_GREY = 1;
		const int TINT_RED = 2;
		const int TINT_GREEN = 3;
		const int TINT_BLUE = 4;
		const int TINT_VIOLET = 5;
		const int TINT_TEAL = 6;
		const int TINT_AMBER = 7;
		const int TINT_CYAN = 8;
		const int TINT_MODE_UNIFORM = 0;
		const int TINT_MODE_DISTRIBUTED = 1000;

		Usage:
			Graphics->Monochrome(TINT_MODE_DISTRIBUTED+TINT_AMBER); //Set amber, distribuyted
			Graphics->Monochrome(TINT_NONE); //Restore colour palette.
	( ZoriaRPG, 20th October, 2018 )

Properly make Ganon invisible again.
	( ZoriaRPG, 20th October, 2018 )

Fix Item QRs Not Selecting:
	Moved all d_dummy_procs in the item rules dialogue to +500, to move their hitbox out 
	of the way
( Venrob, 20th October, 2018 )

All major game_loop() events will be now logged to allegro.log if LOGGAMELOOP = 1
( ZoriaRPG, 20th October, 2018 )

Added qr_NEVERDISABLEAMMOONSUBSCREEN
	If enabled, inventory items with ammo costs will not vanish on subscreens,
	even if Link is out of ammo, or otherwise cannot pay the cost.
Possible fixes for ZScript:
	Link->SetItemSlot()
	Link->Equipment
	Link->ItemA
	Link->ItemB
Fixed crash when calling getWpnPressed for items with subscreen overrides.
Updated build data.
Fixed Init Data not using new zinit members.
( ZoriaRPG, 20th October. 2018 )

Remove 214747 limit on asm script length. Done with two changes:
	Make OSetImmediate divide any label arguments by 10000 before printing them.
	Adds the RETURN opcode which pops directly from the stack and jumps to
	it, without multiplying by 10000.
	( grayswandir, 20th October, 2018 )

Changed colors coded for jwin_radio_proc, jwin_check_proc, and draw_checkbox
	These were hard-coded to use jcDARK for the foreground and jcLIGHT for the background and
	I changed this to jcTEXTFG and jcTEXTBG respectively.
	I changed the "shadow" on jwin_radio_proc from jcMEDDARK/jcDARK to a hard-coded vc(0) (Black). 
	This is so that it looks proper in both "Light" and "Dark" themes.
	( Venrob, 20th October, 2018 )

Fixed crashes of enemies of type Other, Other(float), Ghini, Peahat, Zora, and Spintile
	Gave these gui handlers for BFlags/Attributes pages (identical to eeNONE)
	The crash was being caused by unhandled cases.
Fixed Dark and Expo theme text unreadable against background.
	( Venrob, 19th October, 2018 )

Fixed Tile editor EXTREME lag issues:
Stopped tracing a message 214500 times per pressing anything in the tile editor.
	( Venrob, 18th October, 2018 )
Added DARK theme to ZC and ZQuest (gui_colorset = 2019)
Temporarily disable Peahat L2
Added a UI colourset for the PureZC Fall Expo of 2018.
The UI case label is 201018 (20th October, 2018) and the GUI colours are
Samhain themed.
	( ZoriaRPG, 18th October, 2018 )

//Preliminary 16 (17th October, 2018)

Fixed Dodongo death sfx in 3rd, 5th, and 4th quests.
Rebuilt clean, fixing some stability issues when ZC and ZQ were running as
background processes.
( ZoriaRPG, 17th October, 2018 )

Fixed Dodongo death sound in 1st.qst and 2nd.qst.
	( NightmareJames, 17th October, 2018 )

Re-fixed the sound that 2.10 Dodongos (and BS Dodongos) make when they die.
The prior patch didn't work, but this one seems fine.
( ZoriaRPG, 14th October, 2018 )

Fixed UI responsoveness to mouse input caused by not listing some d_dummy_proc elements on tabs.
( ZoriaRPG, 14th October, 2018 )

Re-order Item QR dialog, update V_ITEMS to 43
Port qr_WHIRLWINDMIRROR to Whistles ITEM_FLAG3
	Updated V_ITEMS to 43
	Ported QR to flags
	QR renamed to reflect that it still is needed for scripted whirlwinds
	Named flag in zq_custom.cpp
Ported qr_SLOWCHARGINGWALK to ITEM_FLAG10 of swords
	Named ITEM_FLAG10 in zq_custom.cpp
	Set qr_SLOWCHARGINGWALK's checkbox type to dummy
	Ported the flag for V_ITEMS<41
	Marked qr /*DEPRECATED*/ in zq_rules.cpp
Ported qr_SWORDMIRROR to ITEM_FLAG9 of swords  ?
	Renamed QR to reflect its' effect on enemies/scripted sword beams
	Named flag in zq_custom.cpp
Renamed "Sword Beams reflect off mirrors" to "Sword Beams Reflect off Prism/Mirror Combos"
	This required expanding spacing for the items table under the flag 9 column, 
	thus why the entire section is "changed"
qr_SLOWCHARGEWALK and qr_SWORDMIRROR ports
Moved candle porting for FIREPROOF and TEMPCANDLE to be identical to book/dins
	( Venrob, 12th October, 2018 )

Fixed inf magic preventing rupee drain from items, and added compat QR for this. 
Port qr_MELEEMAGICCOST to Swords, Wands, and CByrnas ITEM_FLAG6
	Named flags in zq_custom
	Marked the qr /*DEPRECATED*/ in zdefs.h
	Forwarded to flags in qst.cpp, including forcing default states
	Made new qr_OLDINFMAGIC, which re-enables inf magic preventing items from draining rupees
	Set QR to on when loading any pre-2.55 quest
	QR was added to Compatibility, taking the last slot on the first tab.
Byrna given "No Melee" flag, now can do melee damage and fixed qr_MELEEMAGICCOST.
	Byrna now does damage equivalent to Attributes[3] (item.misc4)
	It will do no damage if "No Melee" is checked, which is the default.
	MELEEMAGICCOST would not charge magic if you could not shoot a sword beam! 
		Now it does, using a new flagset `misc_internal_link_flags`.
Ported qr_NOWANDMELEE to wands, and added the same flag to hammers - ITEM_FLAG3
	Wands + Hammers functional
	Flag named for Wands + Hammers in zq_custom.cpp
	These things set up for CByrna, but commented out; cbyrna is not ready yet
	( Venrob, 11th October, 2018 )

Corrected position of `if(tempitem.fam_type==0)tempitem.fam_type=1;` in readitems()
	( Venrob, 10th October, 2018 )

Added UI text for additional Ganon Behaviour covering:
Using normal Enemy Editor Defences
Using a custom kill shot item.
Put new Ganon code in a comment block, and reinstituted old code for now.
	( ZoriaRPG, 9th October, 2018 )

 Renamed "Sword Beams reflect off mirrors" to "Sword Beams Reflect off Prism/Mirror Combos"
	This required expanding spacing for the items table under the flag 9 column, 
	thus why the entire section is "changed"
	( Venrob, 9th October, 2018 )

Added flags to all enemies (except Ganon):
	Enemy is Completely Invisible
	Enemy Is Revealed by Item Specified in dmisc13
	---> This eventually needs to be a class when positive, and a specific item when negative.
	Draw Invisible as Cloaked
	Render Cloaked Instead of VISIBLE

	All of the above seem to work.

	For GANON:
	Visible if the player has Level 2 Amulet or higher.
	Specific item dispels invisibility (dmisc13)
	When not invisible, show shots.
	Draw cloaked when not invisible.

	This is only PARTLY working. Ganon's shots render, but Ganon does not.

	On the Attributes tab for all enemies, Attributes[12] (misc13) is now
	for the item that removes invisibility from that enemy, and is listed accordingly.
	( ZoriaRPG, 9th October, 2018 )
	
Reworded Enemy Editor BFlag[8]:
	Denoted that a nagative value for invisibility item is its class.
Changed the datatype on itemdata.flags to long.
Bumpted V_Items to 41, and updated quest save/load.
	( ZoriaRPG, 9th October, 2018 )

Ported qr_SLOWCHARGINGWALK to ITEM_FLAG10 of swords:
	Named ITEM_FLAG10 in zq_custom.cpp
	Set qr_SLOWCHARGINGWALK's checkbox type to dummy
	Ported the flag for V_ITEMS<41
	Marked qr /*DEPRECATED*/ in zq_rules.cpp
	( Venrob, 9th October, 2018 )
	
	
-V_ITEMS has yet to be updated; this branch is not ready for merge at this time.

//Preliminary 15 (rolled into 16)

//Preliminary 14 (8th Oct, 2018)
Reworded text on Enemy Editor Flags (Is Invisible):
	With full invisibility now an option, I changed the old text to
	read: Is Invisible (Cloaked).
Changelog: Added fields for Attributes tabs inthe Enemy Editor, for Attributes 11 throug 32..
Moved 'Misc Attrib 11' and 'Misc Attrib 12' from Data 2, to Attributes.
Added automatic string handling insetEnemyLabels()
Set default labels for invisibility-dispelling item.
Set default BFlags for invisibility, plus special flags on Ganon.
Fix: Read guys.misc13, misc14, misc15. I somehow missed these when I edxpanded enemy attributes.
( ZoriaRPG, 8th October, 2018 )

Fixed death sound for Dodongos. 
( ZoriaRPG, 4th October, 2018 )

//2.55 ALphsa 1, Preliminary 13
Rewrote the onSaveMapPic() function to fix issues with it causing
random glitches, including screen drawing glitches while scrolling and other
issues.
	( ZoriaRPG, 4th october, 2018 )

//2.55 Alpha 1, Preliminary 12

Adjusted the UI for the Item Editor and the Enemy Editor, justifying the sixteen miscellaneous
	flag tick boxes to the left of each pane. 
Fixed two errors in the setter for itemdata->Flags[16]:
	The logic was incorrect for setting flag or ~flag.
	The label block lacked breaks at each case!
Added npc->BFlags[16] and npcdata->BFlags[16] to ZScript.
Added auto-label code to the new flags in zq_custom.cpp (seek token `BFlags`).
Added a new 'Behaviour' panel to the Enemy Editor Flags tabset. 
	This contains sixteen multipurpose flags, to match those in the item editor, for use in 
	porting quest rules to individual enemies.
Added a new npc variable, `editorflags` to guydata, and to the guy class. 
	( ZoriaRPG, 4th October, 2018 )

//2.55 Alpha 1, Preliminary 11
Added constants for MIN_COMBO_POS, MAX_COMBO_POS, and NUM_COMBO_POS to std.zh.

Rewrote all SetLayerCombo*() and GetlayerCombo*() functions in std.zh:

	All of these functions now have the option to use `mapdata` instead of old
	Game-> functions, and options to use either the screen Combo*[] arrays, or
	to use mapdata->Combo*[] arrays, for layer 0. 
	
	They also return errors if layer < 0 or layer > 6.

	Added std.cfg flag: SETLAYERCOMBO_ALWAYS_USE_SETCOMBO
		Setting this to '1' will force using Set/GetCombo on maps instead
		of setting or getting Screen->Combo*[] for layer 0, but only
		if SETLAYERCOMBO_USE_MAPDATAis false.
	
	Added flag SETLAYERCOMBO_USE_MAPDATA to std.cfg.
		Setting this to '1' will always use mapdata, rather than the old Game->GetCombo and
		Game->SetCombo funcvtions. This is the default for 2.55.
		
	Added flag SETLAYERCOMBO_ONLY_USE_MAPDATA to std.cfg.
		Setting this will force using mapdata on layer 0. 
	
	Added error logging to these functions. 
	Added TraceError() to string_functions.zh. 
	( ZoriaRPG, 4th October, 2018 )
	
Fix dodongos using the wwrong sound in 2.10 and earlier quests. 
	( ZoriaRPG, 3rd October 2018 )
	
Ported qrSLASHFLIPFIX to item editor flags for candles, canes, and swords. 
	( Venrob, 10th October, 2018 )

Fixed improper warp points in 2nd.qst.
	( NightmareJames, 29th September, 2018 )
	
Ported qrNOITEMMELEE to item editor flags for swords, wands, and canes as ITEM_FLAG7.
	( Venrob, 28th September, 2018 )
	
Marked deprectaed QRs in qst.cpp.
Remove extraneous inclusive ORs on QRs qr_QUICKSWORD, and qr_NODIVING in link.cpp. 
Ported qrRINGAFFECTDAMAGE to an item flag on rings. 
	( Venrob, 28th September, 2018 )
	
Added two additional levels of key files:
	.cheat: This is a ketyfile that only enables cheats for the player in ZC, but does not allow
		opening the quest in ZQuest. The questb password is hashed so that it is not visible as
		plain ASCII text in the .cheat keyfile.
	.zpwd: 	This is a keyfile that only allows editing the quest in ZQuest, but it DOES NOT enable cheats.
	( ZoriaRPG, 28th September, 2018 )
	
Fixed sideview spike combos and ffcs in quests made iin 2.50.1RC2 and earlier. 
Added a QR to enable the old behaviour for any quest under Compatibility rules.
	( ZoriaRPG, 26th September, 2018 )
	
Require using Alt+Shift modifier keys in conjunction with cheat hotkeys.
Fixed hard crash when loading an ASM script if the filename is invalid. 
	( ZoriaRPG, 25th September 2018 )
	
Fixed input getting stuuck as if buttons were being hel down, when released.
	( ZoriaRPG, 25th September, 2018 )
	( credit also: Venrob for think-tank.)
	( credit also: Russ for testing.)
	
Fixed the Cheat Menu 'Max Bombs' so that it is possible to set 
any value from 0 to 0xFFFF.
Fixed and improved the Init Data max starting values. Now all counter items have a starting max amount
and a starting amount cap of 0xFFFF.
( ZoriaRPG, 25th September 2018 )

Allow setting the Catchall on a room with a type of 'None'. The catchall type is 'Generic Catchall'.
Minor touch-up on qrNOGANONINTRO
Should fix: Nayru's Love decorations do not die, and will eventually wrap the screen.
Should fix: Vires freeze when struck, without split-on-hit.
	( ZoriaRPG, 24th September, 2018 )
Should fix: Lens costs rupees with infinite wallet.
Should fix: Diagonal left-down sprites on 8-way shots are mis-oriented.
Should fix: Charged hammer doesn't strike pound blocks.
Should fix: Ganon Triforce holdup when Link is jumping.
Should fix: Ganon's ashes don't fall in sideview.
Expanded QRs from char[20] (160 max rules) to char[100] (800 max rules).
Added a mechanic to determine if a weapon is script generated.
	You can now check: *weapon->isScriptGenerated().
Changed Set/GetLayerCombo*() in std_functions to allow setting or checking on layer 0. 
	( ZoriaRPG, 23rd September, 2018 )
	
Ported 'Temporary Light' and all rules regarding bubbles to item flags:
	Ported qr_NONBUBBLEMEDICINE, qr_NONBUBBLETRIFORCE, and qr_ITEMBUBBLE to Triforce/Potion ITEM_FLAG3 and ITEM_FLAG4.
	Ported qr_TEMPCANDLELIGHT to ITEM_FLAG5 of Din's Fire, Candles, and Books.
	New variable stayLit in pal.cpp for keeping track of permanent light; this fixes a major bug with temp and non-temp light on the same screen.
	Reworked how `lighting()` works (part of the bug fix)

	Scripted and Enemy fire still relies on the QR; do not remove the QR!
	The QR has been renamed to reflect this; "Scripted and Enemy Fire Lights Temporarily"

	Updated V_ITEMS to 39; changes in the next commit will also fall under V_ITEMS 39.
	( Venrob, 23rd September, 2018 )
	
Fix: Scripted Fire/Bombs obey QRs, updated zq_rules names
	( Venrob, 23rd September, 2018 )
	
Store ffcore.quest_format[vHeader] properly.
Added +15 Scipt Combo Types, fixed storing vCSets
	( ZoriaRPG, 23rd September, 2018 )
	
Apply new QRs for broken mirror combos, magic book costs, and
melee weapon magic requirements to their respective components.
QRs are auto-set for quests < 0x250 or 0x250.build < 31 in qst.cpp.

Add QRs to the system for new Wand/Book and other things. 

Attempted fix for two Ganon Room issues:
    Dust Pile does not fall in Sideview
    Triforce hold-up animation is incorrect if Link is Jumping.
2.10 quests will now again use the old 2.10 lens code. --Should we do this, though?

Store all quest header version details in FFCore on quest load, under:
	ffcore.quest_format, with a getter getQuestHeaderInfo() as a universal
	way to read this data at any time. 
    ( ZoriaRPG, 22nd September, 2018 )
    
Added 'Picks up keys' to the boomerang, arrows, and the hookshot in the item editor. 

Port qr_BRANGPICKUP and qr_Z3BRANG_HSHOT to the item editor.
	Updated V_ITEMS to 38 (zdefs.h)
	Forwarded QRs to item flags, on arrows, brang, and hshot (qst.cpp)
	Gave flags names in the item editor (zq_custom.cpp)
Port  qr_Z3BRANG_HSHOT to the item editor.
	Changed check from qr_Z3BRANG_HSHOT to ITEM_FLAG6 (brang/hookshot)
	( Venrob, 22nd September, 2018 )
	
Expand Item Flags from 5 to 16 and added those flags to the Item Editor.
	All item flags are now on their own tab with plenty of room for flavour text.
	Added additional fields to the item in zq_custom.cpp, and the code to aut-name item flags 6 to 16.
Fix crash on subscreen and loading invalid weapon data.
	( ZoriaRPG, 21st September, 2018 )
	
Fixed Sword beam grid-snapping error with Mirror Combos
	( Venrob, 21st September 2018 )
	
Added entry for itype_flippers to zq_custom labels for item editor.
Ported new item flags from QRs on reading quests.
Added and modified labels for the new flags in the item editor.
Added entry for itype_flippers to zq_custom labels for item editor.
Ported new item flags from QRs on reading quests.
Added and modified labels for the new flags in the item editor.
Fixed new fonts looping infinitely on subscreens.
	( ZoriaRPG, 20th September 2018 )
	
Fixed bug with Wand/Book Fire
Ported qr_NODIVING to the item editor as item flags. 
Ported qr_FIREPROOFLINK to the item editor as item flags. 
Ported qr_OUCHBOMBS to the item editor as item flags. 
Fixed Link Drunk code to only rand() once.
	( Venrob, 20th September 2018 )
	
Ported qr_FIREPROOFLIN to the item editor as item flags as ITEM_FLAG3.
	( Venrob, 17th September 2018 )
Ported qr_BRANGPICKUP to item editor as ITEM_FLAG4.
Ported qr_QUICKSWORD to wand and sword as ITEM_FLAG5.
Ported qr_NODIVING to flippers in item editor. 
	( Venrob, 15th September, 2018 )

Fix Tile Page cap in editors when reloading entries that have been set to a tile on page 252 or higher.
Expanded max tiles to 214500.
	( ZoriaRPG, 14th September, 2018 )
	
Drunk RNG now only runs once per frame.
	( Venrob, 13th September 2018 )

Finish porting old lens Quest Rules to Item Editor:
	V_ITEMS is now 35
	Deprecated the QRs: qr_LENSHINTS, qr_RAFTLENS, qr_LENSSEESENEMIES.
	Quests with V_ITEMS < 35 will port their QRs to the item editor flags.
	Removed display of old rules (they won't do anything when a quest is saved as V_ITEMS >= 35.
	Added flag descriptions for flags 4 and 5 to the Item Editor.
	( ZoriaRPG, 13th September, 2018 )
	


Fixed boomerangs with levels greater than 3, triggering inappropriate
map flags. ( ZoriaRPG, 18th September, 2018 )

Added typedef for script type tokens. 
(e.g. [ script typedef ffc scrweapon ] )
	( grayswandir, 11th September, 2018 )
	
Fixed Persisting old, and new Lens of Truth bugs:
	Changed do_lens() to no longer use directWpn for finding the current used item
	Added `getWpnPressed(int itype)` in the same style as isWpnPressed, instead 
	of returning bool it returns the item ID that is pressed.
	These prevent the lens from 'stealing' properties of other items that are used
	at the same time. 
	( Venrob, 9th September, 2018 )
	
Re-fixed Link->Invisible. It's now a trinary state, with 0 == off, 1 == engine, 
and 2 == script_set. 
	( ZoriaRPG, 8th September, 2018 )
	
Use array init code even if not declared an array.
	Fixes issues with some array types not being validated for size.
	( grayswandir, 8th September, 2018 )

Added Flags 4 and 5 to the Lens of Truth item class. 
Lens Flag 4 now enables "Show Raft Paths"
Lens Flag 5 now enables "Show Invisible Enemies"
	( Venrob, 8th September, 2018 )
	

//2.55 Preliminary 10

Moved strFormat() into a new class, XTableHelper--rename it later if you don't like it--, 
and fixed ordering of module files to fix compiling on MSVC:
	The new cpp file, src/parser/CompilerUtils.cpp, was being added to
	the ZScript objects *after* src/parser/CompileError.cpp, which needed
	to access an external reference from CompilerUtils.
	In order for MSVC to be able to Link the objects properly, the file
	order must be arranged so that CompilerUtils is before CompileError. 
	( ZoriaRPG, 7th September, 2018 )
	
Added strings for the three new lens flags to the Item Editor.
	( ZoriaRPG, 7th September, 2018 )

Fixed crash on writing to void types. 
	( grayswandir, 7th September, 2018 )
	
Removed duplicate tokens from flex. 
Split Graphics-> and bitmap-> into two tables. 
Removed warning for script-level variables.
	You can now declare script-scope variables, constants, and arrays.
	These are global, but their identifiers are in the script's namespace,
	so accessing them would use the dot scope resolution token:
		scriptname.variable
		scriptname.CONSTANT
		scriptname.array[index]
	( grayswandir, 6th September, 2018 )

Add type checking to compiler error messages
	This should prevent any more blank error messages popping up. These
	were mainly do to passing a std::string into the format function,
	instead of a c string. Now the error code arguments are type properly
	checked.
		All compile error codes are now generated from the CompileError.xtable
	file. Adding a new line is all that's needed for a new error
	code. Currently it is only set up for up to 2 arguments per
	code. Adding more will require some rewriting.
		CompileError is now an actual value type object that holds onto the
	source AST node and other information when constructed, instead of
	just being the enum-type object it was before.

	Added box_out_err for directly printing out error messages.

	Added a general string format function to CompilerUtils.
	( grayswandir, 5th September, 2018 )

Added three flags to lens items:
	Setting Lens Flag 1 is equivalent to qr_LENSHINTS being set for that item
	Setting Lens Flag 2 will prevent secret combos as well as qr_LENSHINTS hints from being shown by that item
	Setting Lens Flag 3 will prevent Armos/Chest -> Item and Dive -> Item items from being shown.
	
	The lens item ID is tracked by Link.setLastLensID(id) and Link.getLastLensID(). 
	( Venrob, 4th September, 2018 )
	
//2.55 Preliminary 9

Fixed Link->Action[dying] being set at the incorrect frame during Link.gameover(). 
	( grayswandir, 4th September, 2018 )
	
Fixed issues with ZScript namespace compiling on MSVC. 
 ( grayswandir, 3rd September, 2018 )
 
Fixed Link being drawn before running the OnContinue script. 
Fixed various issues with Link->Action being set improperly. 
Fix Lens of Truth showing all new combo flags as secrets.
Fix Greyscale modes causing inproper writes of CSet6 colours to other CSets. 
	( ZoriaRPG, 3rd September, 2018 )
	
Moved ZScript into its own namespace.
	( grayswandir, 2nd September, 2018 )
	
Fixed Game->Misc[] not working on array indices higher than 0. 
	( ZoriaRPG, 2nd September, 2018 )
	
Added a nop to switch statements, to fix while and other loops in switch statements. 
Directly assigning string and array literals now works regardless of
the declaration type.
	( grayswandir, 1st September, 2018 )
	
Added constants for GetScreenEFlags()
	( Venrob, 31st August, 2018 )
	

//2.55 Preliminary 8

Fixed issues with global array pointers.
	( grayswandir, 31st August, 2018 )

Further refactor string.zh for performance.
Corrected value for DIR16_RADS_RIGHTRIGHTUP. 
Added additional defence types and outcomes to NPCD_* and NPCDT_*. ( ZoriaRPG, 31st August, 2018 )
	( ZoriaRPG, 31st August, 2018 )

Added NPCD_Scriptweapon types to std_constants. 
	( Venrob, 30th August, 2018 )


Fix crash when using Game->Misc[] and shopdata. ( ZoriaRPG, 31st August, 2018 )
Fix Link->Misc multiplying/diving by 10000. ( ZoriaRPG, 30th August, 2018 )

//2.55 Preliminary 7

Added npc->HitBy[LW_TYPE] : This stores the lweapon type (ID) that struck an npc.
Added npc->HitBy[LW_PARENTITEM] : This stores the parent Item ID that generated a weapon that struck the npc.
( ZoriaRPG, 29th August, 2018 )

Fixed values for new combo flag constants, starting with 106. 
 ( Venrob, 29th August, 2018 )

//2.55 Preliminary 6

Fixed the `this->` pointer being pushed last instead of first. ( grayswandir, 28th August, 2018 )

//2.55 Preliminary 5

Fix parser function overload typecasting logic. ( grayswandir, 25th August, 2018 )

//2.55 Preliminary 4

Fix switch-case.
	( grayswandir, 24th August, 2018 )

//2.55 Preliminary 3 
Parser Fixes:
	Let you use indexed arrays as left side of pointers.
	Re-Add in missing lexer tokens (mapdata, messagedata, ponddata, rgbdata, shopdata, spritedata), (lost in refactor)
	Re-Add in proper casting to/from untyped (lost in refactor)
	Fix pointer for GetPixel().
	Allow type names as identifiers
	Add back in missing tokens to scanner (lost in refactor)
	( grayswandir, 22nd August, 2018 )

//Alpha 35

Changed the enemy editor default for hitsound from 0 (None)
to 11 (Enemy is Hit) in the quest loader for older quests.
Now if hitsfx is set to 0 (none), the hit will be silent.

The hardcoded enemy hit sound was playing OVER user-set sounds,
causing both sounds to play at the same time on a hit, and if an enemy 
died on the same frame that it was hit, all three sounds would play that frame.

[Applied also to 2.53.0, Beta 16]
( ZoriaRPG, 22nd August, 2018 )

Fixed Link's hurt sfrx not being initialised to the old default.
Fixed npc weapon sprites being read from guysbuf[] instead of the individual enemy.
Fixed an issue where setting npc->Weapon in older quests did not update its sprite. 
( ZoriaRPG, 22nd August, 2018 )

Fixed const float not casting to float.
Fixed function overloads being confused by constants.
Fixed array initialisation with constants. 
( grayswandir, 21st August, 2018 )

//Alpha 34
Redacted some changes, and re=implemented new features from Alpha 32, and 33 
into the new parser branch. (This fixed some instability in Alpha 32 and 33.) 
Fixed a bug where Link->Action would not return swimming, charging, or diving. 
( ZoriaRPG, 21st August, 2018 )

Add escape sequences to string literals

	Added:
	- \a\b\f\n\r\t\v for the standard values,
	- \" for quotes
	- You can escape a newline to make it not appear in the string

	Additionally, adjacent strings are merged by the compiler.

	This also fixed a bug where multiline string literals would count as
	one line.
	( grayswandir, 20th August, 2018 )

Add column numbers to compile error messages

	Most compilation error messages should now properly report the file,
	line, and column numbers.

	Rewrote the scanner to track the line and column numbers. It's
	theoretically faster as well.

Add #option trace for disabling tracing calls

	A call to "#option trace off" will disable all "tracing" function
	calls.

	Currently, "tracing" functions are defined as those which return void
	and start with "Trace" or "print". Later we should change this out to
	a specific designation we can attach to a function.


fix: Make truncation error show properly
fix: Let compile options count in function scope
Add on/off as aliases for true/false in #option
Add inheritance directives for compile options 
Add file-scope compile options

Add option support to scopes and OPTION_VALUE expr

	Scopes now maintain their own map of set option values, and the value
	of an option under a scope can be looked up.

	The OPTION_VALUE(option_name) expression returns the current value of
	a given option in the current scope.

Make each imported file have its own scope

	Renamed ASTProgram to ASTFile.

	Renamed GlobalScope to RootScope. Introduced FileScope. RootScope now
	pretends to locally have all objects that its FileScope children
	register in it, except for options.

Add setting options to scripts and statement blocks

	The syntax is:
	\#option name value_expr.

	The parser will give a warning if anything comes before the options in
	the blocks.

	Global or file level options are currently not allowed.

( grayswandir, 19th August, 2018 )

//Alpha 33

Fixed *bitmap->GetPixel(int x, int y). It now work swith the screen (and offset flags),
	and with off-screen bitmaps. ( ZoriaRPG, 18th August, 2018 )

Fixed Untype(), moved Null() to Debug-> pointer as:
	Debug->NULL(), Debug->Null(), Debug->NULL, and Debug->Null ( ZoriaRPG, 18th August, 2018 )

Allow global level compile errors 
Allow script level compiler errors
	Can now insert a compile_error statement inside of script definitions.

Add Array Literals

	Of the following forms:
	- {0, 1, 2}
	- (int[]){0, 1, 2}
	- (int[3]){}
	- (int[3]){4}

	Currently broken in the global scope, but the existing string literals
	are also broken in the same way, so both will be fixed later in the same
	commit.
	( grayswandir, 23rd July, 2018 )

//Alpha 32

npc->Attributes[32], itemdata->Attributes[32], and npcdata->Attributes[32] are now untyped, for the same reason as Misc[].

npc->HitBy[10] now has indices for object UIDs. The valid indices are:
#define HIT_BY_NPC 0
#define HIT_BY_EWEAPON 1
#define HIT_BY_LWEAPON 2
#define HIT_BY_FFC 3

#define HIT_BY_NPC_UID 4
#define HIT_BY_EWEAPON_UID 5
#define HIT_BY_LWEAPON_UID 6
#define HIT_BY_FFC_UID 7

#define HIT_BY_COMBO 8
#define HIT_BY_MAPFLAG 9

Obviously, only indices 2, and 6 are in use at this time. 
	Some melee weapons do not register a hit at this time. 
	
When a weapon hits an npc, both the screen index, and the script UID are stored in npc->HitBy[], in indices
2 and 6 respectively. I tried to apply a similar change to Link, but this wasn't stable, so I reverted it for now. 
( ZoriaRPG, 16th August, 2018 )
	
Resized npc->HitBy[] and Link->HitBy[] to a size of [10] each. ( ZoriaRPG, 16th August, 2018 )


Temporarily rename some internal allegro functions so they don't
	conflict with some new functions that glibc defines. ( grayswandir, 15th August, 2018 )
Fixed return values and setter values (div/mult by 10000) for npc->HitBy[] and Link->HitBy[] based on index of the array. ( 15th August, 2018 )
Fixed npc->Attributes. it was a size of 14, not 32. ( 15th August, 2018 )
Fixed datatype->Misc[]. The values above index 15 weren't set up properly, or initialised. ( 15th August, 2018 )
Fixed typecast for npc->HitBy[]. It's now 'untyped'. ( 15th August, 2018 )
Revised Untype() function, and NULL() function.  ( ZoriaRPG, 11th August, 2018 )
Added NULL, Null, and Null() as alternatives to NULL() ( ZoriaRPG, 11th August, 2018 )
Added expanded ZScript docs. ( ZoriaRPG, 10th August, 2018 )
Added bitmap->Getpixel(x,y) ( ZoriaRPG, 10th August, 2018 )
Removed deprecated functions carried over from '2.future' and old 2.54 alphas that 
	have been replaced by datatype members. ( ZoriaRPG, 10th August, 2018 )


//Alpha 31
Added mock-up layout for revised Enemy Editor ( ZoriaRPG, 65th April, 2018 )
Segregated Enemy Editor Defences ( ZoriaRPG, 16th April, 2018 )
Moved Enemy Size tab into basic properties tab as a sub-tab. ( ZoriaRPG, 15th April, 2018 )
Fixed enemy editor defence sub-tabs. ( ZoriaRPG, 15th April, 2018 )
Fixed default enemy sounds. ( ZoriaRPG, 15th April, 2018 )


//Alpha 30
Added cascading tabs to the Enemy Editor:
	The Defs 1, Defs 2, and Defs 3 tabs have been moved 
	into a *nested* tab interface.
	The new tab, `Defenses`, has three tabs that cascade
	below it.
	This will save some room and remove some UI clutter. ( ZoriaRPG, 14th April, 2018 )


//Alpha 29
Fix: Fix enemies not seeking link at some angles. ( Tamamo, 13th April, 2018 )
Added a heap of variables to npcs:
	misc16 -> misc32
	npcscript, initD[8], intiA[2]
	movement[32] (for patterns, args)
	new_weapon[32] (for weapon movement patterns and args)
	firesfx


//Alpha 28
Added whistle defence to enemies.
Added whistle Can Damage flag, and a damage attribute field to
	the whistle item (in the Item Editor). ( ZoriaRPG, 10th April 2018 )

//Alpha 27
Added bool dmapdata->Sideview to ZScript.

The user may now enable the following effects on DMap-Basis, in 
	addition to a per-screen basis (as DMap flags, instead of as Screen Flags):

1.	Sideview Gravity on All Screens (uses Dmaps[].sideview, new var.
2.	Layer 3 is Background on All Screens (uses DMaps[].flgs&dmfLAYER3BG)
3.	Layer 2 is Background on All Screens (uses DMaps[].flgs&dmfLAYER2BG

This works in ZC, but does not yet display properly in ZQuest.

I am not sure how to best do this, as the ZQ screen has no way to tell 
to what DMap it is bound.

It may need to be a view option, as `View Layer 3 as Bckground` and 
	`View Layer 2 as Background` via the menus. 

Fixed size of tabs in DMap editor to fit additional flags.
Added DMap flags `Treat Layer 2 as Background on all Screens` and
	`Treat Layer 3 as Background on All Screens` to the DMap Editor (Flags).
	These use Dmaps[].flags
	This works in ZC, but does not yet display properly in ZQuest.
		Im not sure how to best do this, as the ZQ screen has no way to tell to what DMap it is bound.
Changed wording for DMap sideview (DMaps Editor, Flags) to `Enable Sideview on All Screens`. 
	All screens of that DMap will be treated as sideview.
	This is NOT Xor`d with the screen flag!
	This uses a new vriable, DMaps[].sideview
		( ZoriaRPG, 8th April, 2018 )
Added byte sideview to struct dmaps and updated V_DMAPS to 10.
	Updated quest loading and saving. ( ZoriaRPG, 7th April 2018 )

//Alpha 26
Class FFScript is now shared between zc and ZQuest
NPCs, Items, and Weapons now have special UIDs (in class FFScript) that can be used
	to track them either in-engine, or by script. 
Added lweapon->UID, eweapon->UID, npc->UID, and item->UID to ZScript
	( ZoriaRPG, 7th April, 2018 )

//Alpha 25
Added a compatibility fix for DrawInteger() and DrawCharacter() for quests made
	using the old (broken) scaling factors. ( ZoriaRPG, 4th April, 2018 )
	* Also implemented in 2.53.0 Beta 15
	
//Alpha 24
Added byte ScriptGeneratd param to weapon.add() 
Fixed default weapon sprites for Gleeok, Fire Gleeok, Gohma, and Aquamentus
Added bool EnemiesAlive() and int NumberEnemies() to std_functions.zh.
	( ZoriaRPG, 1st April, 2018 )

//Alpha 23

Added Extra Rule for older quests so that swords with a magic cost only apply it to beams,
	and backported it to 2.53.0. 
	!! This needs to be an item editor flagset: Beams use Magic, Blade Uses Magic
Added a QR No Intro String in Ganon Rooms and backported it to 2.53.0 (beta 14)

Made all enemies, including unimplemented types, visible in the Enemy Editor for Tamamo. 
Moved the code that sets default weapon sprites for NPCs (for old quests) from the Enemy Editor
	and into quest loading code ( qst.cpp, readguys() ). 
	This should have fixed a bug with fire gleeoks in old quests. ( ZoriaRPG, 28th March, 2018 )

//Alpha 22
Fixed arrows not working; and making sword sprites. ( ZoriaRPG, 3rd March, 2018 )

Fixed swords not obeying magic costs. ( ZoriaRPG, 15th January, 2018 )

Added tooltips to the 'Quest Rev' and 'Min Rev' fields in the
Quest Header dialogue. 

Cleaned up Header dialogue and made the quest number visible (but disabled)
by default. Holding Right Shift while opening the dialogue makes it an editable field. 
* Also applied to 2.53.0 Beta 12 at this date. 	( ZoriaRPG, 14th January, 2018 )

MISSING: npcdata->FireSound; npc->FireSound
NEEDED: npc-Defence for LW_SPARKLE.
NEEDED npc->FrozenTile offsets for facing dir, or something so that ZC chooses the
	tile based on the same tile offset as the npc has before being frozen.
	e.g. If they are facing left, on the third tile of a 4-tile animation,
	the frozen tile should be the same offset. 
	NOT simply setting a static tile. 

Reserved some mapscreen variables for future use. 

Corrected the tooltip for Slash->Item combos (zq_misc.cpp). 

Improved efficiency of string.zh functions, and updated the docs.
	( ZoriaRPG, 10th January, 2018 )
	
Fixed swords and melee weapons conflicting with npc->HitBy[LWEAPON].
Added preliminary bool npc->Core. Cores of segmented enemies should set this true, segments false.
	parentCore will be a bit trickier, and I'll add it only once I verify that this component works.
Added npc->HitBy[4]. Only lweapons attempt to set this at present, and link class weapons (e.g. swords) are, for some
	reason, not doing it, but other lweapons work fine.
	( ZoriaRPG, 5th January, 2018 )

Link->HitBy[] is set non-zero, and only persists for one frame.
Because it is set by Link.checkhit(), the timing is a bit bonkers...
	Link->HitBy[] is valid AFTER WAITDRAW through to the next WAITDRAW.
Why is ZC timing so bonkers?!

Fixed Link->Misc[] not being divided or multiplied (internally) by 10000.
--also applied to 2.53.0b12 at this date. 
Fixed Link->HitBy[] and Link->Defense[], which were copy/pasted from Misc[]
	and thus, were not doing div/mult by 1000.
	( ZoriaRPG, 4th January., 2018 )

! This should be set when damage is applied to Link ! --Now I forgot what this was intended to mean. -Z

Added a pair of Link class arrays. The first, stores the last weapon or npc that hit Link.
This is not yet cleared every frame. The values only change when Link is hit. 
The ZScript interface for this is Link->HitBy[4], where index 0 is the last npc screen index that
hit him, and index [1] is the last eweapon.
The second, is Link->Defense[256], and while the ZScript array is r/w. 
there is no code to swet up defences in the quest, nor anything that makes use of them.
They are not yet saved at all, and this will need an Init Data panel, plus code to save it
with the quest, and to load it. Heck, it'll need new section info. :(
It will also need code to modify the damage value of weapons that hit Link. 
	( ZoriaRPG, 3rd January, 2018 )

Fixed a bug where the return for Link->Action when rafting was only returning
LA_RAFTING on the first frame of the action, and LA_SWIMMING during the rafting animation.
	( 31st December, 2017 )
	
Applied Item Editor fix for InitD values. (They were clamped from -31768 to 327678, and
	now they are clamped between -214748.3647 and 214748.3647.
	Applied to 2.54 Alpha 22, and 2.53 Beta 12. 

Added the following datatypes:
	dropdata, ponddata, warpring, doorset, misccolors, 
	rgbdata, palette, zcmidi, palcycle, gamedata, cheats
	
	NOTE: 	None of these have any variables at this time. 
		Some of these may later be discarded, or repurposed; or they
		may not be used in 2,54, but instead will be implemented fully
		in 2.55, or later. 

Trace() now supports any datatype. (If you trace a bool, false will trace 0
and true will trace 0.0001.) 

//Alpha 21
Fixed a bug in Game->LoadComboData that could crash ZC, and copied
the fix to all of the other, new Game->Load functions, in the event that
they also have this issue.

The problem was caused by setting their ref to LONG_MAX, which could
cause memory corruption; trying to access invalid memory areas.

Added combodata variables and arrays:
	Type, Tile, Flip, Walk, CSet, Foo, Frames, NextData,
	NextCSet, Flag, SkipAnim, NextTimer, SkipAnimY, AnimFlags,
	Expansion[6], Attributes[4], TriggerFlags[3], UserFlags,
	TriggerLevel, BlockNPC, BlockHole, BlockTrigger, BlockWeapon[32],
	ConveyorSpeedX, ConveyorSpeedY, SpawnNPC, SpawnNPCWhen, SpawnNPCChange,
	DirChange, DistanceChangeTiles, DiveItem, Dock, Fairy, 
	FFCAttributeChange, DecorationTile, DecorationType, Hookshot,
	Ladder, LockBlock, LockBlockChange, Mirror, DamageAmount, DamageDelay,
	DamageType, MagicAmount, MagicDelay, MagicType, NoPushBlocks,
	Overhead, PlaceNPC, PushDir, PushDelay, PushHeavy, Pushed, Raft,
	ResetRoom, SavePoint, FreezeScreen, SecretCombo, Singular (self-only),
	SlowWalk, Statue, Step, StepChange, Strike[32], StrikeRemnants,
	StrikeRemnantsType, StrikeChange, StrikeItem, TouchItem,
	TouchStairs, TriggerType, TriggerSensitivity, Warp, WarpSensitivity,
	WarpDirect, WarpLocation, Water, Whistle, WinGame, BlockWeaponLevel.

Fixed TypingMode not cleared on 'Reset System' from FKeys/menus.
	( ZoriaRPG, 26th December, 2017 )

Added Game->TypingMode : This sets a flag in FFCore that disables KB input from
	moving Link, or using his button items, and so forth, to ensure that all keypresses
	are read as char keys, instead of controller keys. 
	It is reset to false on every quest load, and on F6 (or death, save, etc.)

Fixed a packfile error with loading combos (V_COMBOS was not set to 10).
Renamed 'Script n' counters to 'Custom n'.
Changed how item 'magic cost' works, allowing the user to set it to any counter. 
Added this to ZScript as itemdata->CostCounter. 
itemdata->MagicCost still exists, but I have added a second interface to it as itemdata->Cost 
to reflect that Cost is no longer tied to magic.
	( ZoriaRPG, 25th December, 2017 )

Expanded triggerflags[2] to triggerflags[3] so that there is enough room for more weapons
that we will be adding. V_COMBOS is now 10, and V9 only uses the lowest two.
Added UI links to set the triggerflags[] and triggerlevel values from the Combo Editor. 
Added combo vars long triggerflags[2] and long triggerlevel. 
Finished the 'Attributes' tab of the Combo Editor. 
Added mock-up 'Triggered by' (1) and (2) tabs for all weapon types, with a level requirement field. 
Added mock-up 'Attributes' tab to the Combo Editor. (The fields are in place, but they do nothing.)
Moved the ZASM label for Version (ZELDAVERSION) to a code that was accessible by 2.50.3 and earlier. 
Changed combo editor dialogue to add tabs 'Data' and 'Attributes'
Added long Attributes[4] and long usrflags to *newcombo 
	combodata->Attributes[] and Screen->GetComboAttribute(pos, indx) / SetComboAttribute(pos, indx)
	combodata->Flags and Screen->ComboFlags[pos] -- Maybe ComboMisc[pos] to avoid confusion?
	Combo QR rules will become ComboMisc[] ! 
		( ZoriaRPG, 18th December, 2017 )
Added Link->Stun (When Link is stunned he cannot move, or attack, but he can change direction)
Added a 32-index array of questmisc[] to the misc struct.
	This is to be used in quest Init Data, to set up global quest
	values for use by scripts. The Init Data dialogue is not yet done,
	but the ZScript interface is, under Game->Misc[32].
Added  char questmisc_strings[32][128] to store the user-defined names of each of the Game->Misc[] fields.
Added subscreen counters Life, Max Life, Magic, Max Magic. ( ZoriaRPG, 12th December, 2017 )
Added Graphics->Wavy(bool), Zap(bool), Greyscale(bool).
These replace Screen->WavyIn(), WavyOut(), ZapIn(), ZapOut()
GreyscaleOn(), and GreyscaleOff(). 

Added Link->Pushing. This returns the number of frames for which Link has been 
walking in place, pushing on a solid object.
	Note: I decided that this was better than hacking
	a real pushing action in, or adding a fake action, as the latter would conflict
	with existing scripts that use LA_WALKING for /n/ frames, to determine if
	Link is walking in place, and thus, pushing on an object.
	Link.cpp now sets script-engine only actions. Reading Link->Action reads these
	rather than the actual, internal 'action' variable. 
		( ZoriaRPG, 9th December, 2017 )
	This allows setting actions arbitrarily in Link.cpp to give scripts more useful access,
	or adding arbitrary script actions, without affecting the hardcoded action stuff and 
	general frame timing. 
	I would prefer these set action bits, but then clearing them would be a mess. 
	Link->Action == DYING is still never set, despite setting (the fake ffcore) var earlier 
	than the engine variable. :(
	( ZoriaRPG, 7th December, 2017 )
Revised the priority of Init and Continue scripts, to run immediately prior to the opening wipe.
Changed the priority of global Init and OnContinue scripts so that
they can affect environmental values before the opening wipe. 
Let's hope that this didn't break anything. (Tosses coin).  ( ZoriaRPG, 5th December, 2017 )
Added an automatic shop script (untested) to /testscripts.
Added a new path, /testscripts/* to the repo.
Added a flag to items/itemdata->PickupFlags that prevents the engine from
marking the string as having been played, as value 0x04, 'itemdataPSTRING_NOMARK'.
	( ZoriaRPG, 3rd December, 2017 )
//Alpha 20
Fixed a conflict with item messages in shops, and shop messages.
The new behaviour is this:
	1. Buying an item in a shop plays the shop string, not the item pickup string.
	2. It does not set the FFCore flag for that item.
	3. A placed or dropset item that is in a shop room will play the item string.
	4. Placed / dropset items in shop rooms set the flag.
	5. Shop items ignore if the flag for them is set.
Fixed an error in messagedata->Font
Fixed two missing commands in script_command command_list[]
	( ZoriaRPG, 3rd December, 2017 )
Renamed Audio->AdjustVolume() to AdjustMusicVolume()
Items now have info strings that the user may set in the item editor.
These have a default behaviour, as follows:
	1. If the user has never acquired the item in the current game session,
	the string plays, and a flag is set in FFCore that that item has
	displayed its string.
	2. These flags are cleared on a complete exit on the game (not just a continue).
	3. The user may set an ALWAYS flag to cause the string to always appear.
	4. The user may set a flag ON_IP_HOLDUP, so that the string is always shown, if
	the item is held over Link's head.
The string value, and the flags for it, are accessible in ZScript both from item, and 
from itemdata.
The string is clamped in the item editor to valid strings.
If an invalid string ID is set, ZC does not play it. 
		( ZoriaRPG, 1st December, 2017 )
ZQuest Shops now have an info string. When you buy an item, if this is set to a valid string, ZC will display that string.
I'm working on making that work from items, too.
Increased combo aliases to 8192 (for Lut).
Added an info string to the item shop editor, and to the struct.
I think that the default behaviour for this, should be to show the
string when a player buys an item.
Added Audio->AdjustVolume(int percent) and AdjustSFXVolume(int percent)
	 ( ZoriaRPG, 30th November, 2017 )
Began implementing the FFCore class. ( ZoriaRPG, 29th November, 2017 )

//Alpha 19

Added dmapdata with the following syntax.
	dmapdata dmd = Game->LoadDMapData(id);
	Functions:
	SetName(), GetName(), SetTitle(), GetTitle(), SetIntro(), GetIntro()
	SetMusic(), GetMusic();
	Variables:
	int Map, Level, Offset, Compass, Palette, MIDI, Continue, Type;
	int MusicTrack, ActiveSubscreen, PassiveSubscreen, Grid[8];
	int MiniMapTile[2], MiniMapCSet[2], MapTile[2], MapCSet[2];
	int DisabledItems[256], Flags

Fixed missing Screen->WavtIn, WavyOut, ZapIn, and ZapOut.
Added messagedata vars and functions:
messagedata msgd = Game->LoadMessageData(msg_id);
	msgd->Set("String");
	int buffer_str[80];
	msgd->Get(buffer_str);
	Vars:
	msgd-> 
		int Next, Tile, CSet, Font, X, Y, Width, Height;
		int SoundListPosition, VSpace, HSpace, Flags;
		bool Transparent; (unused at this time).
	
( ZoriaRPG, 27th November, 2017 )	

Added Audio->Volume[4] and Audio->PanStyle ( ZoriaRPG 26th November, 2017 )

Added bool Shield[5] to npc-> and npcdata->
	The indices are { up, left, right, back, can_break } ( ZoriaRPG, 25th November, 2017 )

Added shopdata for item shops, and info shops.
Both types use the same ref, and thus, the same pointer type, called using:
shopdata shop = Game->LoadShopData(shop_id);
shopdata info = Game->LoadInfoShopData(shop_id).
The latter offsets the ID by +256. If the shop id is > 255, it is an info shop.
The members are:
shop->Price[3]
infoshop->Price[3]
infoshop->String[3]
shop->Item[3]
shop->HasItem[3]

If the user attempts to r/w to a variable that is inappropriate for the shop type, 
ZScript will log an error informing them of the nature of the error. 

Changed lweapon->ParentItem to lweapon->Parent.
Added eweapon->Parent (parent npc).
Added lweapon->Level and lweapon->ParentItem. ( ZoriaRPG, 24th November 2017 )

Un-typed initD and SizeOfArray().
Added preliminary, untyped Null() and an Untype() function to the global pointer. ( ZoriaRPG, 23rd November, 2017 )

Rebased 2.54 while backporting fixes to switch-case from master.
Renamed the 'nil' type to 'untyped'. ( Grayswandir, 22nd November, 2017 )

//Alpha 18
Added new datatypes: dmapdata, messagedata, shopdata, nil.
THe 'nil' type is untyped data. ( ZoriaRPG, 21st November, 2017 )

//Alpha 17
Fixed Game->LoadMapData(int map, int scr)
Added Link->ScriptFlip.
Added extra padding for Link->ScriptTile to prevent the engine
choosing the tile based on LTMs and other factors.
Added a routine to Link::setEntryPoints(x,y) to store the entry points
for a given screen in that screen's data (mapscr->entry_x, entry_y)
This data should be available to ZScript, and (I hope) will be appropriate
for all warps as well as screen scrolling entry points.  ( ZoriaRPG, 17th November, 2017 )


//Alpha 16

Added mapdata->variables, and matched them all to Screen->
New variables are:
int Valid
int Guy
int String
int RoomType
int Item
int HasItem
int TileWarpType[4]
int TileWarpOverlayFlags
int DoorComboSet
int WarpReturnX[4] //2.50 warp return squares (blue). 
int WarpReturnY[4]
int WarpReturnC
int StairsX
int StairsY
int ItemX
int ItemY
int CSet
int EnemyFlags
int Door[4]
int TileWarpDMap[4]
int TileWarpScreen[4]
int ExitDir
int Enemy[10]
int Pattern
int SideWarpType[4]
int SideWarpOverlayFlags
int WarpArrivalX //old 2.10 warp arrival point (green). 
int WarpArrivalY
int MazePath[4]
int SideWarpScreen[4]
int SideWarpDMap[4]
int SideWarpIndex
int UnderCombo
int UnderCSet
int Catchall
int CSensitive
int NoReset
int NoCarry
int LayerMap[6]
int LayerScreen[6]
int LayerOpacity[6]
int TimedWarpTimer
int NextMap
int NextScreen
int SecretCombo[128]
int SecretCSet[128]
int SecretFlags[128]
int ViewX
int ViewY
int Width
int Height
int EntryX
int EntryY
int ScriptEntry
int ScriptOccupancy
int ExitScript
int OceanSFX
int BossSFX
int SecretSFX
int ItemSFX
int MIDI
int LensLayer
int Flags[10]
int D[8]
int ComboD[176]
int ComboC[176]
int ComboF[176]
int ComboI[176]
int ComboT[176]
int ComboS[176]
int State[32]
int Flags[10]
int EFlags[3]
int NumFFCs
int FFCEffectWidth[32]
int FFCEffectHeight[32]
int FFCTileWidth[32]
int FFCTileHeight[32]
int FFCData[32]
int FFCCSet[32]
int FFCDelay[32]
int FFCX[32]
int FFCY[32]
int FFCVx[32]
int FFCVy[32]
int FFCAx[32]
int FFCAy[32]
int FFCFlags[32]
int FFCLink[32]
int FFCScript[32]
bool FFCRunning[32]
 //Functions
int GetFFCInitD(int ffc_index, int init_d)
void SetFFCInitD(int ffc_index, int init_d, float value)
int GetFFCInitA(int ffc_index, int init_a)
void SetFFCIniA(int ffc_index, int init_a, float value)
(ZoriaRPG, 15th November, 2017)

//Alpha 15

Added Weapon Classes for all ten script weapon types, and for the ice rod; plus cpntrol code for all of the script types.
An item set to a Script *n class will generate a weapon with the script *d LW type, and will pull its power, step, and
its graphics from the item editor. The user may set an item editor flag to disable automatic sprite flipping. ( ZoriaRPG, 4th November, 2017 )


//Alpha 14
Converted the 'power' attribute of itemdata from a byte to a long. Item power now has a valid range of -LONG_MAX to +LONG_MAX, 
however the cap is realistically -214747 to 214747, for ZScript. This allows inverting the effects of many items/weapons, and 
scaling to obscene levels. (Negative values now work in the power field, and in Attributes[], for rings, and similar.)
Converted the 'family' attribute of itemdata from a byte to a long. This is in perparation for adding new classes (hardcoded),
and allowing the user to create custom item classes.
Begin adding mapdata variables. 
Changed Game->LoadMapData(int map) to Game->LoadMapData(int map, int screen). 
Fixed a bug that was causing spritedata variable to return 'Cannot find function label NNN': This is caused by not adding
the instructions into the vector, in globalsymbols.cpp (LibrarySymbols::addSymbolsCode(LinkTable &lt)), on a given table.
Added variables to the datatypes 'spritedata' and 'npcdata'. These have the same syntax as 'ffc', or 'npc' types. ( ZoriaRPG, 2nd November, 2017 )


//Alpha 13
The 'Weapon Size' tab now works, but the values do not always make sense. (They need hardcoding wizardry.) ( ZoriaRPG, 31st October, 2017 )


//Alpha 12

Added ZScript variables to itemdata-> for all of the new item editor fields under the 'Size' and 'Weapon Size' tabs.

Began adding a 'Weapon Size' tab to the item editor. The editor fields work, but they do not yet affect anything in-game.

Added a 'Size' tab to the item editor. The user may now set the following mfields for items in ZQuest, without scripts:
TileWidth, TileHeight, HotWidth, HitHeight, HitXOffset, HitYOffset, DrawXOffset, DrawYOffset, HitZHeight
The editor has an 'Override' flag for each. The values will only work if the override flag is enabled, and this will
override any other internal sizes and offsets normally applied by the engine. ( ZoriaRPG, 31st October, 2017 )


//Alpha 11

Added Game->LoadNPCData(), LoadMapData(), LoadComboData(), LoadSpriteData(), LoadScreenData() (unused) and LoadBitmapID(). 

Added 'npcdata' datatype. The user may now declare a type of
npcdata in ZScript, and the declared pointer references NPCData-> functions,
and more important, variables /t/b/a/ for the class.
	
Added 'spritedata' datatype. The user may now declare a type of
spritedata in ZScript, and the declared pointer references SpriteData-> 
functions, and more important, variables /t/b/a/ for the class.

Added 'mapdata' datatype. The user may now declare a type of
mapdata in ZScript, and the declared pointer references MapData-> 
functions, and more important, variables /t/b/a/ for the class.
	
Added 'combodata' datatype. The user may now declare a type of
combodata in ZScript, and the declared pointer references ComboData-> 
functions, and more important, variables /t/b/a/ for the class.

Fixed SetScreenGuy, GetScreenGuy, SetScreenDoor, GetScreenDoor positions in ffscript.cpp switches. ( ZoriaRPG, 30th October, 2017 )


//Alpha 10

Renamed 'Timer' to 'M.Cost TImer' in the item editor dialogue, and adjusted the positions of elements accordingly. ( ZoriaRPG, 29th October, 2017 )
Changed 'Frames:' for magic cost timer, to 'Timer:' in Item Editor.
Fixed Enemy Editor Weapon Sprite not forwarding to enemy weapons.
Added itemdata->MagicCostTimer to ZScript
Added 'Magic Cost Timer' to the Item Editor. ( ZoriaRPG, 28th October, 2017 )

//Alpha 9

Add4d std_keyboawrd.zh to std.zh, and made some minor adjustments. ( ZoriaRPG, 28th October, 2017 )

Fixed all one-input, one-return NPCData functions. ( ZoriaRPG, 28th October, 2017 )

Added switch-case to the ZScript syntax.
Added constant experssions to the ZScript parser. 
Added array declaration sizing with constant expressions. ( Grayswandir, 27th October, 2017 )

//Alpha 8

Disabled all new pointer types, except for bitmap. They seem to have a clash when sharing a table with a global pointer. ( ZoriaRPG, 27th October, 2017 )

Added ZScript pointer objects and RefVars: bitmap, npcdata, spritedata, mapdata, combodata and screendata (unused). These
correspond to Graphics->, NPCData->, SpriteData->, MapData->, and ComboData-> (respectively). 
The screendata type would probably mate with Screen->. Declaring these types now works, and calling functions seems
to work both from the typed pointer, and the global pointer for each, so BOTH of these work: 
npcdata n; int x = n->GetVar();
int x = NPCData->GetVar.
Next, I'll need to add LoadData() functions for each class, and variables/indexed variables for them. ( ZoriaRPG, 27th October, 2017 )

Fixed issue with ZQuest crashing when compiled with MSVC. ( Grayswandir, 27th october, 2017 )
Added string literals. These work only at script/function scope. Global scope of string literals is forbidden. ( Grayswandir, 27th October, 2017 )

//Alpha 7 
Backported Enemy Editor 'Size' tab from 2.60 to 2.54. 
Installed new enemy editor defence types and results. 
Fixed Item editor fields for new itemdata script capabilities.

//Alpha 6

Fixed missing typecasting calls in ffscript.cpp. 
Fixed ffc->ID and item->AClock

//Alpha 5
Made global global declaration of special types and special-typed arrays legal. They give a compiler warning. 
Added comment blocks to ZScript. ( ZoriaRPG, 25th October, 2017 )

//Alpha 4
Fixed ZQuest combo editor flag lister (crashing). 
Fixed ZScript pointers

Added Input->Mouse[6]



//Alpha 2


Added the ability to customise the Save screens.  ( ZoriaRPG, 21st October, 2017 )

Added combo flags 104 through 255 to ZQuest, with temporary IDs

Added Input-> Pointer with control over joysticks, button presses, keyboard, and mouse. 

Added to ZScript:

(Global->) SizeOfArrayBool(), SizeOfArrayFFC(), SizeOfArrayNPC(), SizeOfArrayItem(), SizeOfArrayItemdata(), SizeOfArrayLWeapon(),
	SizeOfArrayEWeapon(), OverlayTile(), TraceFFC(), TraceNPC(), TraceLWeapon(), TraceEWeapon(), TraceItem(),
	TraceItemdata()
	
Game->GetItemScript(), GetBoolPointer(), SetBoolPointer(), GreyscaleOn(), GreyscaleOff(), DMapPalette[], SetMessage(),
	SetDMapName(), SetDMapTitle((), SetDMapIntro(), Version, Build, Beta, DisableActiveSubscreen, SetScreenFlag(),
	NumMessages, MapCount(), GameOverScreen[], GameOverStrings[]
	
Audio->PauseSound(), ResumeSound(), EndSound(), PauseMusic(), ResumeMusic(), PlaySound()

ffc-> ID ( Seems to be missing ?? )


itemdata->Attributes[10], Sprites[10], Flags[5], 
ID, Modifier, Tile, CSet, Flash, AFrames, ASpeed, Delay, Script, PScript, MagicCost, MinHearts, 
Combine, Downgrade, KeepOld, RupeeCost, Edible, GainLower, InitD, GetName(), Family, Level, Power, Amount,
Max, MaxIncrement, Keep, Counter, UseSound,
//Unimplemented for Weapon Editor: Weapon, Defense, Range, Duration, WeaponD, Duplicates, DrawLayer, 
CollectFlags, WeaponScript, WeapomnHitXOffset, WeaponHitYOffset, WeaponHitHeight, WeaponHitWidth, WeaponHitZHeight,
WeaponDrawXOffset, WeaponDrawYOffset, WeaponDrawZOffset, 

item->ACLock ( Seems to be missing? ), Misc[32]

npc->InvFrames, Invincible, HasItem, Ringleader, Defense[42], Misc[32]

lweapon->Range (unimplemented), Misc[32]
eweapon->Misc[32]

Screen->TriggerSecret(int secret), CreateLWeaponDx(), DrawBitmapEx()

Link->Link->DisableItem[256], InvFrames, InvFlicker, HurtSound, SetItemSlot(), Eaten, Diagonal, BigHitbox, Misc[32]

NPCData->GetFlags(), GetFlags2(), GetWidth(), GetHeight(), GetSTile(), GetSWidth(), GetSHeight()
	GetETile(), GetEWidth(), GetHP(), GetFamily(), GetCSet(), GetAnim(), GetEAnim(), GetFramerate()
	GetEFramerate(), GetTouchDamage(), GetWeaponDamage(), GetWeapon(), GetRandom(), GetHaltRate()
	GetStep(), GetHoming(), GetHunger(), GetDropset(), GetBGSFX(), GetHitSFX(), GetDeathSFX()
	GetDrawXOffset(), GetDrawYOffset(), GetDrawZOffset(), GetHitXOffset(), GetHitYOffset()
	GetHitWidth(), GetHitHeight(), GetHitZHeight(), GetTileWidth(), GetTileHeight(), GetWeaponSprite()
	GetDefense(), GetSizeFlag(), GetAttribute()
	SetFlags(), SetFlags2(), SetWidth(), SetHeight(), SetSTile(), SetSWidth(), SetSHeight(), SetETile()
	SetEWidth(), SetHP(), SetFamily(), SetCSet(), SetAnim(), SetEAnim(), SetFramerate(), SetEFramerate()
	SetTouchDamage(), SetWeaponDamage(), SetWeapon(), SetRandom(), SetHaltRate(), SetStep(), SetHoming()
	SetHunger(), SetDropset(), SetBGSFX(), SetHitSFX(), SetDeathSFX(), SetDrawXOffset(), SetDrawYOffset()
	SetDrawZOffset(), SetHitXOffset(), SetHitYOffset(), SetHitWidth(), SetHitHeight(), SetHitZHeight()
	SetTileWidth(), SetTileHeight(), SetWeaponSprite(), SetDefense(), SetSizeFlag(), SetAttribute()
	
Text-> (No attributes at this time.)
Graphics-> (No attributes at this time.)

ComboData-> GetBlockEnemies(), GetBlockHole(), GetBlockTrigger(), GetConveyorSpeedX(), GetConveyorSpeedY(),  
	GetCreateEnemy(), GetCreateEnemyWhen(), GetCreateEnemyChange(), GetDirChangeType(), GetDistanceChangeTiles(),
	GetDiveItem(), GetDock(), GetFairy(), GetFFComboChangeAttrib(), GetFootDecorationsTile(),  
	GetFootDecorationsType(), GetHookshotGrab(), GetLadderPass(), GetLockBlockType(), GetLockBlockChange(),  
	GetMagicMirror(), GetModifyHPAmount(), GetModifyHPDelay(), GetModifyHPType(), GetModifyMPAmount(),  
	GetModifyMPDelay(), GetModifyMPType(), GetNoPushBlocks(), GetOverhead(), GetPlaceEnemy(), GetPushDirection(),  
	GetPushWeight(), GetPushWait(), GetPushed(), GetRaft(), GetResetRoom(), GetSavePoint(), GetScreenFreeze(),  
	GetSecretCombo(), GetSingular(), GetSlowMove(), GetStatue(), GetStepType(), GetStepChangeTo(),  
	GetStrikeRemnants(), GetStrikeRemnantsType(), GetStrikeChange(), GetStrikeItem(), GetTouchItem(),  
	GetTouchStairs(), GetTriggerType(), GetTriggerSens(), GetWarpType(), GetWarpSens(), GetWarpDirect(),  
	GetWarpLocation(), GetWater(), GetWhistle(), GetWinGame(), GetBlockWeaponLevel(), GetTile(), GetFlip(),  
	GetWalkability(), GetType(), GetCSets(), GetFoo(), GetFrames(), GetSpeed(), GetNextCombo(), GetNextCSet(),  
	GetFlag(), GetSkipAnim(), GetNextTimer(), GetSkipAnimY(), GetAnimFlags(), GetBlockWeapon(),   //[32]          
	GetExpansion(),   //[6] 
	GetStrikeWeapons(),   //[32] 
	
	SetBlockEnemies(), SetBlockHole(), SetBlockTrigger(), SetConveyorSpeedX(), SetConveyorSpeedY(),  
	SetCreateEnemy(), SetCreateEnemyWhen(), SetCreateEnemyChange(), SetDirChanSetype(), SetDistanceChanSetiles(),
	SetDiveItem(), SetDock(), SetFairy(), SetFFComboChangeAttrib(), SetFootDecorationsTile(),  
	SetFootDecorationsType(), SetHookshotGrab(), SetLadderPass(), SetLockBlockType(), SetLockBlockChange(),  
	SetMagicMirror(), SetModifyHPAmount(), SetModifyHPDelay(), SetModifyHPType(), SetModifyMPAmount(),  
	SetModifyMPDelay(), SetModifyMPType(), SetNoPushBlocks(), SetOverhead(), SetPlaceEnemy(), SetPushDirection(),  
	SetPushWeight(), SetPushWait(), SetPushed(), SetRaft(), SetResetRoom(), SetSavePoint(), SetScreenFreeze(),  
	SetSecretCombo(), SetSingular(), SetSlowMove(), SetStatue(), SetStepType(), SetStepChanSeto(),  
	SetStrikeRemnants(), SetStrikeRemnantsType(), SetStrikeChange(), SetStrikeItem(), SetTouchItem(),  
	SetTouchStairs(), SetTriggerType(), SetTriggerSens(), SetWarpType(), SetWarpSens(), SetWarpDirect(),  
	SetWarpLocation(), SetWater(), SetWhistle(), SetWinGame(), SetBlockWeaponLevel(), SetTile(), SetFlip(),  
	SetWalkability(), SetType(), SetCSets(), SetFoo(), SetFrames(), SetSpeed(), SetNextCombo(), SetNextCSet(),  
	SetFlag(), SetSkipAnim(), SetNextTimer(), SetSkipAnimY(), SetAnimFlags(), SetBlockWeapon(),   //[32]          
	SetExpansion(),   //[6] 
	SetStrikeWeapons()   //[32] 
	
SpriteData->GetTile(), GetMisc(), GetCSets(), GetFrames(), GetSpeed(), GetType(),
	SetTile(), SetMisc(), SetCSets(), SetFrames(), SetSpeed(), SetType()

Input->Press[18], Button[18],  Hold[18], Key[127], ReadKey[127] ( should become a function ReadKey() )
	Joypad[18], Mouse[6]

MapData-> GetEnemy(), GetDoor(), GetWidth(), GetHeight(), GetViewX(), GetViewY(), GetGuy(), GetString(), 	
	GetRoomType(), GetEntryX(), GetEntryY(), GetItem(), GetUndercombo(), GetUnderCSet(), GetCatchall(),
	GetLayerOpacity(), GetSecretCombo(), GetSecretCSet(), GetSecretFlag(), GetLayerMap(), GetLayerScreen(), 
	GetPath(), GetWarpReturnX(), GetWarpReturnY(), GetEnemy(), GetDoor(),				
	SetEnemy(), SetDoor(), SetWidth(), SetHeight(), SetViewX(), SetViewY(), SetGuy(), SetString(), 	SetRoomType(),
	SetEntryX(), SetEntryY(), SetItem(), SetUndercombo(), SetUnderCSet(), SetCatchall(), SetLayerOpacity(),
	SetSecretCombo(), SetSecretCSet(), SetSecretFlag(), SetLayerMap(), SetLayerScreen(), SetPath(),
	SetWarpReturnX(), SetWarpReturnY(), SetEnemy(),	SetDoor(),
	
Debug->GetFFCPointer(), SetFFCPointer(), GetItemPointer(), SetItemPointer(), GetItemdataPointer(), SetItemdataPointer()
	GetNPCPointer(), SetNPCPointer(), GetLWeaponPointer(), SetLWeaponPointer(), GetEWeaponPointer(),
	SetEWeaponPointer(), RefFFC, RefItem, RefItemdata, RefLWeapon, RefEWeapon, RefNPC, SP
,

ChangeLog for 2.53.0 Beta 16

The hardcoded enemy hit sound was playing OVER user-set sounds,
causing both sounds to play at the same time on a hit, and if an enemy 
died on the same frame that it was hit, all three sounds would play that frame.
( ZoriaRPG, 22nd August, 2018 )

//Beta 15
Added a compatibility fix for DrawInteger() and DrawCharacter() for quests made
	using the old (broken) scaling factors. ( ZoriaRPG, 4th April, 2018 )

//Beta 14
Added Extra Rule for older quests so that swords with a magic cost only apply it to beams,
	and backported it to 2.53.0. 
	!! This needs to be an item editor flagset: Beams use Magic, Blade Uses Magic
Added a QR No Intro String in Ganon Rooms and backported it to 2.53.0 (beta 14)
	( ZoriaRPG, 28th March, 2018 0
	
	
//Beta 13
Fixed swords not obeying magic costs. ( ZoriaRPG, 15th January, 2018 )

Added tooltips to the 'Quest Rev' and 'Min Rev' fields in the
Quest Header dialogue. 

Cleaned up Header dialogue and made the quest number visible (but disabled)
by default. Holding Right Shift while opening the dialogue makes it an editable field. 
	( ZoriaRPG, 14th January, 2018 )


10th January, 2018

Corrected the tooltip for Slash->Item combos.

Improved efficiency of string.zh functions, and updated the docs.
	( ZoriaRPG, 10th January, 2018 )
	
Fixed Link->Misc[] not being divided or multiplied (internally) by 10000.
	( ZoriaRPG, 4th January., 2018 )
	
Applied Item Editor fix for InitD values. (They were clamped from -31768 to 327678, and
	now they are clamped between -214748.3647 and 214748.3647.
	Applied to 2.54 Alpha 22, and 2.53 Beta 12. 
	
VBound ZQuest combo editor fields: Cset to -15/+15, Aframes (0,255), ASpeed (0,255) to prevent rollover from lack
of sanity bounding. ( ZoriaRPG 16th october, 2017 )

Optimised some functions in std.zh that returned boolean values and were comparing against != 0. 
VBund ZQuest combo editor fields: Cset to -15/+15, Aframes (0,255), ASpeed (0,255) to prevent rollover from lack
of sanity bounding. ( ZoriaRPG 16th october, 2017 )

Fixed game ending sequence clipping from carrying over to another quest if ZC is reset during the ending.
Possible fix for the crash reported by Lut where scrolling through a specific pixel of the lower-left corner
of screens would crash ZC. ( ZoriaRPG, 16th October, 2017 )

Fixed a bug in std.zh where GetHighestLevelItem() would fail to return the correct values if the item IDs and levels
were not in a matched ascending order (e.g. item 16 is level 2, item 18 is level 1), and similar.
Added GetHighestLevelItemOwned() to std.zh. ( ZoriaRPG, 15th October, 2017 )

Fixed button interface commandline filenames in ZCL. Updated version to 2.6.4. ( ZoriaRPG, 15th October, 2017 )

Fixed issues with 1.84 quests.
Added possible fix for Win10 slowdown. ( Gleeok, 15th October, 2017 )

Reworded language for controller button dialogue:
The controller button input dialogue used the wording 'Use Analogue Stick Instead of Buttons', which is misleading. 
On standard USB game pads, with a DPad, ZC recognises the DPad as an analogue stick (when using Windows), and thus, 
the controller DPad buttons cannot be mapped on an individual basis. This adjusts the wording to 'Use Analogue Stick/DPad'. ( ZoriaRPG, 10th October, 2017 )

Split up ag.cfg into ag.cfg (RomView, ZCL), zc.cfg (Zelda Classic), and zquest.cfg (ZQuest) to fix some issues with 
ZC/ZQuest creating an access clash with one config file. 
Updated ZCl to use the new files. ZCL is now 2.6.3. ( ZoriaRPG, 6th Oct, 2017 )

Reverted all of the Game->SetCombo* and Game->GetCombo* functions to their 2.50.2 states. 
The revised (2.50.3) functions broke quests using these functions in a way that cannot be resolved
within the scope of the 2.50.x branch of Zelda Classic. ( ZoriaRPG, 2nd October, 2017 )

Fixed DrawInteger() displaying a value that was off by one when sprinting with no decimal places. ( ZoriaRPG, 2nd October, 2017 )

Fixed the array sizes of Game->LKeys[] and Game->LItems[] (256 to 512), and constrained the values on setting them
so that they do not overflow (roll over). ( ZoriaRPG, 2nd October, 2017 )

Added a warning when opening the debug console. ( ZoriaRPG, 1st October, 2017 )

Removed an extra constant declaration in std_functions.zh.
Changed the 'Import Script]' file selection dialogue. It now shows files with types of .zh, .zs, .zlib,
.zscript, and a few other minor typed used by the userbase, rather than solely showing '.z' files. ( ZoriaRPG, 24th September, 2017 )

Refactored the sanity checks for Game->Get/SetCombo* (except for SetComboSolid). These functions will now report
any invalid refs passed to them (invalid map, screen, position) to allegro.log and abort, or return -1 to the user. 
The prior code either allowed passing an invalid ref, or never informed the user that it was invalid. ( ZoriaRPG, 23rd September, 2017 )

Modified GetHighestLevelitem() in std.zh, to use a setting in std.cgf: This setting determines the highest item ID
that GetHighestlevelitem() will check, rather than one version stopping at 143, and another at 255. ( ZoriaRPG, 22nd September, 2017 )

Added a somewhat hackish fix for dungeon maps displaying when Link does not have them, during scrolling warps. ( ZoriaRPG, 22nd September, 2017 )

Fixed issue with NPCs behaving as if they were drunk. ( Gleeok, 21st September, 2017 )

Fixed issues with flying/floating/teleporting NPCS. ( Gleeok, 20th September, 2017 )

Slightly adjusted left and right doors in 8-way movement. ( ZoriaRPG, 20th September, 2017 )

Removed std_constants_shortcuts.zh from std.zh.
Removed extra (unintended) array 'GlobalBuggr[214747] from std.zh. 
Fixed some issues with NPCA_* constants. 
Added NPC Attribute constants for all npc types, and every field with a lister.
Fixed values for Direction to Degree and Radian conversions in std_functions and std_constants. ( ZoriaRPG )

Fixed a bug where Link's weapons hurting him, in water, would cause buggy (uncontrolled) movement or land-swimming. ( DarkDragon ) 

Fixed NES Dungeon Doors with diagonal movement. ( ZoriaRPG )

Fixed a crash when using arrow and bow subscreen objects. ( Saffith )

Updated qst.dat. Now, new quests will autosave, if you have timed save, or quest backup enabled. The error 'This quest
was created in an older version of ZQuest' will no longer appear on new quests. ZoriaRPG, 1st September, 2017 )

Applied a fix for numerous packfil_password() related problems. 
Fixed PNG saving in ZQuest. ( ZoriaRPG, 1st September, 2017 )

Re-added New favourite commands, for Quest Reports (Combo Locations, Combo Type Locations, Enemy Locations, Integrity Check
Item Locations, Script Locations, and What Links Here) to the Favourite Commands list. (This was in 2.future, but never
ported to orthodox ZQuest.) ( ZoriaRPG, 1st September, 2017 )

Fixed file selection dialogues in Zelda Classic. After selecting a quest in the Load Quest dialogue, the default button
is now 'OK', rather than browse, so hitting the enter key after selecting a file does not put you into a file select loop.
This was likewise something that I did before, but it was somehow lost in various commits. ( ZoriaRPG, 1st September, 2017 )

Unfixed buggy wizzrobe compat issue. Proper fix is still pending... ( Gleeok, 28th August, 2017 )

//Beta 7

Initial update of ZLaunch, to add a ROMView launch button.
Fixed a bug where the Tile Editor refused to load image files on the first attempt. ( ZoriaRPG, 27th August 2017 )

Fixed a crash when loading corrupt 2.50.2 (and earlier) quest data; and recompiling scripts. ( DarkDragon, 25th August, 2017 )

Fixed crash when viewing Compatibility Quest Rules. ( ZoriaRPG, 20th August, 2017 )

Fixed a bug where the lens of truth stole the script of the last item used, and ran it every frame. ( ZoriaRPG, 20th August, 2017 )

New Allegro libraries using Allegro 4.4.3, with some patches.
Fixed issues with the infinite wallet.
Fixed Link's attack not being cancelled when he is frozen.
Fixed the race condition issue with keyboard input in Allegro 4.4.3. ( DarkDragon, 13th August, 2017 )

Fixed an issue with scrolling between land and water. ( DarkDragon, 11th August, 2017 )

Fixed an issue where the subscreen did not always update, by checking item validity when changing dmaps. ( DarkDragon, 10th August, 2017 )

Reverted the quest rule for COMBOSDM. We'll come back to this, later. ( DarkDragon )
Added compatibility rule for old quests that rely on screen item pick-up disabling hunger, for old quests. ( DarkDragon, 21st July, 2017 )

//Beta 6
Added a few functions to std.zh. ( ZoriaRPG, July 2017 )

Fixed a bug in ZQuest that was corrupting ag.cfg. ( DarkDragon; and ZoriaRPG, July, 2017 )

Fixed a bug where MIDI files could not be loaded in ZQuest. ( DarkDragon, July 2017 )

Updated std.zh to 2.50.3 version, plus some rearranging in a std_zh path.
Updated all included headers to their current versions. 
Pruned some files.
Unlocked 1st.qst and 2nd.qst. ( ZoriaRPG, 11th July, 2017 )

Fixed incorrect types for CollDetection and some other boolean return variables in ZScript. 
    This includes Link->CollDetection, Link->Invisible, npc->CollDetection, lweapon->CollDetection and 
    eweapon->CollisionDetection ( ZoriaRPG, 2nd July, 2017 )

Seem to have fixed reported bug of ZC crashing if the user shifts focus when assigning joypad buttons. 
In any case, I can not replicate it in this build, and I did change a read_button function that was a bit bonkers. ( ZoriaRPG, 2nd July, 2017 )
	
ZC and ZQuest now use Allegro 4.4. (DarkDragon, 2nd July, 2017)

Fixed 3rd quest with zero deaths not going to 5th quest. ( ZoriaRPG, 20th June, 2017 )

Reverted COMBOSDM change made by Saffith, as it caused different bugs with older players. 
This is properly fixed in 2.51+. ( ZoriaRPG, 20th June 2017 )

Fixed long-standing bug where setting Link->Item every frame causes lag. ( ZoriaRPG, May 2017 )

Fixed lweapon->Behind not working. ( ZoriaRPG, May 2017 )

Fixed ffc->Link being unable to be cleared, or otherwise set to 0 ( ZoriaRPG, May 2017 )

Fixed scale args for DrawChar() and DrawInteger(): Both of these now scale per zscript.txt documentation. ( ZoriaRPG, Jan 2017 )

Zelda Classic Menus: Added Etc->Show Debug Console. This opens the Allegro debug console or closes it if it is open. ( ZoriaRPG, Jan 2017 )

ZScript Variables in scope are destroyed when their scope exits. ( DarkDragon, Jan 2017 )

Fixed long-standing keyboard issues with alt+tab, and hopefully) issues with the keyboard losing focus. (DD/Z, Dec 2016-Jan 2017)	

//2.50.3RC1 (Abandoned) 

Added a checkbox to disable analog stick movement.
Changed joystick config dialogues to match keyboard config dialogues. 
Added more joystick options to ag.cfg. 
Small fixes to joystick input. 
Fixed minor issues in key config dialogues. ( Saffith, 18-Dec-2016 )

Additional fixes with Link exiting water. ( Saffith, 15-Dec-2016 )

Fixed an invalid read in draw_wavy(). ( Saffith, 14-Dec-2016 )

Fixed Link's position being offset improperly on continue when quakeclk > 0. 
Ensure overscan rectangle is black while the screen is shaking. 
Fixed an issue with Link exiting water. 
Fixed Stone of Agony sensitivity. ( Saffith, 11-Dec-2016 )

Fixed an issue where bitmaps may be drawn improperly based on ZQuest version. 

Fixed incorrect screen calculation and possible crash in warp with combos that carry over. ( Saffith, 6-Dec-2016 )

Global script OnExit now works. In prior versions, this script did not run. 

Fixed a crash when loading a sfx file with more than 35 chars or without any extension. ( Gleeok, 2015-12-30 01:05:05 )

Fixed negative constants being read incorrectly.
Fixed incorrect screen calculation and possible crash in Game->SetComboSolid(). ( Saffith, 2015-12-19 19:41:38 )

Fixed a crash when importing combos. ( Saffith, 2015-11-27 09:30:31 )     

Replaced the built-in MIDIs with versions edited by zaphod77 to sound more like the NES game. ( Saffith, 2015-10-14 10:41:20 )

//!! Older Versions
//!! What follows are the old Shardstorm.com SVN log entries for 2.50.2 and earlier. 

//2.50.2
Build 1793 - linux , windows
* Not a new build, just a launcher update. ( Saffith, 2015-10-13 22:54:03 )

* Fixed a couple of issues with moldorms.
* Fixed some errors in zscript.txt. ( Saffith, 2015-10-13 09:51:14 )

* It's now possible to scale up ZQuest in large mode. This hasn't been extensively tested, but it seems to work fine. Keep in mind that it runs at multiples of 800x600, so the next size up is 1600x1200.
* Fixed an issue with using -fullscreen and -scale arguments together. ( Saffith, 2015-10-11 19:44:50 )

* Reworked mass combo creation (what happens when you select multiple tiles and press M). ( Saffith, 2015-10-11 18:51:32 )

* Added a mass recoloring tool to the tile editor. ( Saffith, 2015-10-11 11:37:23 )

* When a script hangs the game, it's now possible to rest or quit with F9 and F10 (F7/F8 on Mac). These are the only options; the menu still won't open, and F6 won't work.
* Fixed an issue with drawing after Waitdraw() while scrolling.
* Drawing transparent text should work correctly now. ( Saffith, 2015-09-28 13:25:16 )

* Alt+click will now select a combo. You can also hold shift to select the CSet and ctrl to scroll to the combo. ( Saffith, 2015-09-24 21:31:19 )

* Fixed half-solid lock blocks not always unlocking.
* Fixed some issues with walking enemies firing weapons on death.
* Projectile shooters will no longer shoot at Link if he's too close.
* Shooters that fire single fireballs will once again fire double shots occasionally. ( Saffith, 2015-09-10 19:56:31 )

* Fixed some long withstanding relative and absolute path bugs in ZC when loading from save files. You can move things like quests and save files around now without ZC freaking out about it. ( Gleeok, 2015-07-15 00:40:42 )

* Enter "JEAN" at the name select screen to play the 5th quest. ( Gleeok, 2015-07-09 20:44:13 )

* Added the 5th quest winning contest entry bu BigJoe. Congrats and thanks again to everyone who participated!
* Beating the 3rd quest without dying will let you skip straight to the 5th quest, and beating the 5th quest without a perfect no-death game will drop you to the 4th quest. ( Gleeok, 2015-07-09 18:51:23 )

* After changing screens while walking against a conveyor belt, Link will not immediately be pushed back to the previous screen.
* Added a right-click menu to copy and paste level palettes. ( Saffith, 2015-07-07 08:40:15 )

* Added a compatibility rule allowing weapons with collision detection disabled to move offscreen. ( Saffith, 2015-06-12 13:19:44 )

* Fixed itemdata->Keep and itemdata->MaxIncrement compiling incorrectly.
* Fixed subscreen items jumping when scrolling from sideview to top-down. ( Saffith, 2015-06-04 10:42:53 )

* Fixed weird values of Link->Jump above about 3.2. ( Saffith, 2015-05-29 13:51:13 )

* Added more information when script errors are logged. ( Saffith, 2015-05-19 20:57:11 )

* Added an even faster screen scrolling option. Name pending.
* Fixed the 'correct offset eweapon collision' rule, which was a bit tricky. Firstly, the toggling of this rule may have swapped behavior sometime after build 400, or just stopped working altogether, or both. Secondly, this is now enabled for compatibility reasons in all older quests. ( Gleeok, 2015-05-19 06:11:53 )

* Fixed an issue with the "Continue With Full Life" rule in old quests not working correctly.
* Grabbing tiles from a pre-2.50 quest will no longer clear combo aliases. ( Saffith, 2015-05-10 16:49:59 )

* Using an invalid index with Link->Item[] will no longer crash the game.
* Game->SetDMapEnhancedMusic() will no longer reset the DMap's subscreen. ( Saffith, 2015-05-10 15:13:11 )

* Fixed some issues with wealth medals. ( Saffith, 2015-05-10 11:59:24 )

* Scripts can now save only once per frame per script. This prevents while(true) Game->Save(); from nearly guaranteeing a corrupted save file. ( Saffith, 2015-04-12 15:38:19 )

* Fixed a bug where scripts drawing to bitmaps before drawing to a screen layer un-offset the sub-screen offset causing them to be rendered in wrong position on screen. ( Gleeok, 2015-03-25 09:43:09 )

* Users Choice Award winner of 2014 is in: "Dmaps Spam'd" - Now you have the ability to Copy/Paste Dmaps in the Dmap dialog with the usual keys 'C' and 'V' respectively. ( Gleeok, 2014-12-12 23:08:38 )

//2.50.1

Build 1703 - linux , macosx-Tiger-and-Leopard , windows
* Let's try this again... ( Saffith, 2014-10-05 08:49:40 )



Build 1700 - linux , macosx-Tiger-and-Leopard , windows
* Red potion or heart container rooms will no longer be usable repeatedly when not in caves. ( Saffith, 2014-10-01 20:26:28 )

* The "Items Disappear During Hold-Up" rule no longer stops guys in special item rooms from disappearing when the item is taken. ( Saffith, 2014-10-01 10:46:26 )

* The screen saver is now disabled by default. ( Saffith, 2014-09-27 23:04:17 )

* Weapons with collision detection disabled can no longer move offscreen without limit. ( Saffith, 2014-09-27 21:36:07 )

* Fixed vires being knocked back too fast and sometimes splitting in the wrong place.
* Fixed some issues in new quests.
* Updated the credits. ( Saffith, 2014-09-27 15:22:28 )

* Since the string editor's "Duplicate" button is no longer needed, it's been replaced with a button to add a new string after the one currently selected.
* Clicking a text field in large mode should now put the cursor in the right place. ( Saffith, 2014-09-27 10:00:07 )

* Added a right-click menu to the string editor with options to copy and paste a message's style.
* It's now possible to select a message to use as a template when adding a new one. ( Saffith, 2014-09-26 21:44:37 )

* Added a right-click menu with copy and paste options to the enemy and item editors. ( Saffith, 2014-09-26 11:08:52 )

* Corrected the way ZC selects directories to search for music files. ( Saffith, 2014-09-22 21:38:43 )

* Setting Link->Action will now remove Link from whirlwinds and cancel Farore's Wind if the casting hasn't finished. ( Saffith, 2014-09-22 16:27:00 )

* In the subscreen editor, editing an object's properties will now affect all selected objects of the same type. This attempts to behave intelligently and only copy properties you would want applied to multiple objects. For instance, the heart container number of a life gauge piece or the text of a text object will not be copied.
* Added copy and paste properties options to the right-click menu, which behave in the same way.
* Also, canceling out of the properties dialog when creating a new subscreen object will now cancel the creation of the object. ( Saffith, 2014-09-04 16:25:27 )

* Sped up the spawning of traps a bit. ( Saffith, 2014-09-01 09:47:19 )

* Tweaked the tile grabber's recolor algorithm. ( Saffith, 2014-08-31 17:03:00 )

* Fixed a crash when shifting blocks of tiles at the beginning or end of the tile buffer. ( Saffith, 2014-08-31 13:07:53 )

* In the tile grabber, you can now press 4 or 8 to switch between grabbing tiles as 4-bit or 8-bit.
* You can also press Shift+R or hold Shift while clicking the Recolor button to recolor in 8-bit mode. ( Saffith, 2014-08-30 19:10:05 )

* Items of type Bow and Arrow and Letter or Potion can no longer be made equipment items.
* Improved compatibility with ID3-tagged MP3s. ( Saffith, 2014-08-27 12:22:25 )




Build 1669 - windows
* Fixing the Windows build; the last few changes weren't included before. ( Saffith, 2014-08-27 08:30:48 )



Build 1667 - linux , macosx-Tiger-and-Leopard , windows
* 2.50.1 RC3 ( Saffith, 2014-08-26 19:36:05 )

* Link can no longer turn around while charging the hammer.
* Timed saves will no longer fail for new quests. ( Saffith, 2014-08-24 16:14:59 )

* Hopefully fixed the issue where the GUI occasionally stops responding to the keyboard. ( Saffith, 2014-08-23 23:08:32 )

* Made a change to input reading in hopes of fixing screen saver issues. ( Saffith, 2014-08-21 10:54:13 )

* Fixed a few issues with favorite combos and aliases. ( Saffith, 2014-08-18 08:47:50 )

* Improved Link's interaction with damage combos in sideview. ( Saffith, 2014-08-17 23:00:28 )

* The Cane of Byrna will no longer continue running when it's removed from Link's inventory.
* Canceling out of the Link sprites dialog works correctly now. ( Saffith, 2014-08-17 14:12:37 )

* Improved selection of item-carrying enemy when unbeatable enemies are around. ( Saffith, 2014-08-17 13:06:45 )

* Fixed Screen->DrawInteger(). ( Saffith, 2014-08-17 12:49:19 )

* The "Lens Shows Raft Paths" quest rule now includes raft bounce flags.
* Fixed an issue with letter/potion slots not being selectable in the subscreen editor. ( Saffith, 2014-08-03 16:10:12 )

* Saving a map with F5 now follows the same rules as viewing the in-game map in deciding which screens to include. ( Saffith, 2014-08-03 15:39:02 )

* Loading and saving an old quest using the "Continue With Full Life" rule no longer leaves that rule permanently enabled. ( Saffith, 2014-07-31 10:21:14 )

* Fixed an issue with the trigger enemy loading incorrectly in the editor. ( Saffith, 2014-07-23 10:03:43 )

* Reverted the change that fixed push blocks leaving pushable under combos, since that caused other problems. ( Saffith, 2014-07-23 08:41:03 )

* [ZCL] Cosmetic Fixes ( Sean, 2014-07-01 20:07:26 )

* [ZCL] Added some pretty icons to the sub tabs. - Deviance ( Sean, 2014-07-01 19:38:28 )

* [ZCL] Finished saffith's implementation of the multiple instances for ZC option for ZCL -Deviance (Sean) ( Sean, 2014-07-01 18:49:33 )

* ZCL's source updated to the latest Lazarus build.
* Tnotebook property was removed from the newer Lazarus builds thus breaking the source code. Has been replaced with the TPageControl property instead thus making the source code working again.
* More to come ;) -Sean ( Sean, 2014-07-01 18:14:05 )

* Fixed magic sometimes not triggering flags on magic-blocking combos. ( Saffith, 2014-04-29 20:45:21 )

* Link can buy free items and info again. ( Saffith, 2014-04-29 20:06:23 )

* Fixed a script drawing crash when attempting to draw a bitmap with out-of-range source rectangle arguments. (Bad Zecora, bad. No treat for you!) ( Gleeok, 2014-04-08 00:43:19 )

* Added new project directories for Visual Studio and C::B projects. ( Gleeok, 2014-03-13 15:26:05 )

* Fixed an issue with enemies spawning in incorrect location. ( Saffith, 2014-02-13 07:40:46 )

* Peahats are invincible while moving again. ( Saffith, 2014-02-07 13:16:12 )



Build 1634 - linux , macosx-Leopard , windows
* 2.50.1 RC 2 ( Saffith, 2014-02-04 20:40:07 )

* Blocks with two push flags should no longer make under combos pushable. ( Saffith, 2014-02-04 19:04:44 )



Build 1632 - linux
* Hopefully fixed some issues with tracker files playing incorrectly. ( Saffith, 2014-02-04 13:02:23 )

* Added a compatibility rule to make peahats vulnerable when frozen by clocks.
* Also fixed an issue with their behavior when that rule is disabled.
* Adjusted patra orbiters' hitboxes.
* (None)-type subscreen objects no longer have editable properties from every other object type. ( Saffith, 2014-02-04 09:52:05 )



Build 1629 - linux
* Again, ignore the download link. It's not a new build.
* It's possible to run multiple instances of ZC again with the -multiple command line argument.
* FFCs placed via the right-click menu should no longer appear in the wrong place.
* The compiler will now provide filenames when reporting lexical errors. ( Saffith, 2014-02-03 13:23:51 )



Build 1628 - windows
* Ignore the download link; this isn't a new build.
* Enabling the quickload option in the launcher should work correctly now. ( Saffith, 2014-02-03 09:58:41 )

* Fixed an issue with push blocks with both secret-triggering and silent flags.
* Opening locked chests will no longer open unlocked chests on the same screen.
* Link will no longer become invisible if picked up by a whirlwind while using the hookshot. ( Saffith, 2014-01-31 16:54:44 )

* Fixed some issues in the 4th quest.
* Importing DMaps should work again.
* Fixed a crash when changing music tracks in ZQuest.
* Moving Link while on a fairy ring flag should no longer cause him to be permanently stuck. ( Saffith, 2014-01-31 08:31:10 )

* The reset and quit functions have been moved from F7 and F8 to F9 and F10.
* F6 is now disabled when the "Skip Continue Screen" rule is enabled. Game > End Game still works.
* Enemy shields should no longer block ignored weapons. ( Saffith, 2014-01-31 06:31:29 )

* Fixed an issue where changing Link->Action might leave his sword stuck in place.
* Fixed float-to-text functions in string.zh.
* Added BPAL_DODONGO to std_constants.zh. ( Saffith, 2013-11-29 10:48:08 )

* Hopefully fixed the problem with clicking at the ends of sound effects. This was a quest saving and loading issue, so any sounds already affected will need to be reloaded. ( Saffith, 2013-11-23 17:01:47 )

* Possibly fixed the screen-saver idle freeze bug.
* Added "ss_enable=1" to the config file. ( Gleeok, 2013-09-08 15:09:51 )

* Fixed a 60 FPS/CPU usage issue on various windows platforms. ( Gleeok, 2013-09-08 14:14:05 )

* Fixed price alignment when an item has a price of 0. ( Saffith, 2013-09-06 12:18:41 )

* Improved speed while palette cycling is active. ( Saffith, 2013-09-05 21:16:00 )

* Fixed Link being unable to enter water in some places. ( Saffith, 2013-09-04 21:41:26 )

* Fixed an issue with Link->Equipment when arrows are selected.
* Here are the major changes in 2.50.1 RC1, since I failed to list them before.
* Crashes fixed:
* - Enemy has "Breath" firing type but no weapon
* - Warp with wavy effect while the screen is shaking
* - Too many drawing commands used in one frame
* - Tribble carrying an item
* - Parts of segmented enemies are killed in unexpected ways
* - Selecting an item
* Compatibility changes:
* - Adjusted the hammer's hitbox
* - The hookshot can pass downward through a solid combo in old quests
* - Adjusted the hookshot's grab point in old quests
* - Overworld DMaps can be offset in old quests
* Other problems fixed:
* - Other-type enemies can have bomb blast weapons
* - Clocks no longer make Peahats vulnerable
* - Tile select screens that should allow flip always do so now
* - Quest->Defaults->Map Styles now resets map styles instead of tiles
* - Fixed some errors in the first and second quests
* - After loading a quest, it no longer lists the scripts from the previously loaded quest
* - Link can no longer through pushed blocks
* - Fixed item scripts sometimes being unable to set ffc->Script
* - Wizzrobes should no longer get stuck in the corner
* - The hookshot and raft work better in sideview now
* - Fires created by scripts no longer permanently light the room when the temporary lighting rule is enabled
* - Five-digit string control code arguments should now be read correctly
* - Inherent flag 10 on pound combos works now
* - The info type editor should now handle reordered strings correctly
* - Fixed the Bow & Arrow item class not displaying the items' names
* - Fixed some bugs in std.zh
* - Fixed possible graphical corruption on the file select screen
* - Rocks' misc. attributes are displayed correctly now
* Other changes:
* - Only one instance of ZC may run at a time (Windows and Linux only so far)
* - Added a compatibility rules dialog
* - The game window doesn't close until it's finished saving
* - Added an optional save indicator
* - Added help text for the Bow & Arrow and Letter Or Potion classes and made it clearer that they shouldn't be assigned to items ( Saffith, 2013-09-04 08:51:59 )



Build 1608 - linux , macosx-Leopard , windows
* 2.50.1 RC 1 ( Saffith, 2013-07-29 13:08:26 )

//2.50.0

Build 1606 - linux , macosx-Leopard , windows
* Updated build number and date.
* Set IS_BETA to 0. ( Saffith, 2012-12-21 07:47:07 )

* Fixed Moldorms and Lanmolas never returning after only one segment was destroyed. ( Saffith, 2012-12-20 12:59:38 )



Build 1586 - linux
* Reverting patches.dat (really shouldn't have changed it in the first place). If this creates a download link, ignore it; it won't be a new build. ( Saffith, 2012-12-19 21:35:04 )

* Fixed a bug that allowed Link to jump through solid combos.
* Fixed mouse position handling in ZScript.
* Fixed a couple of issues with whistle whirlwinds.
* String control codes should no longer cause the message preview to show extra characters.
* String control codes can now take five-digit arguments, up to a maximum of (I think) 65278.
* Made the hidden counters usable; script counters now go up to 25. ( Saffith, 2012-12-19 21:13:20 )

* Fixed crashes when passing invalid maps to Game->SetScreenState and Game->GetScreenState.
* Fixed blue leevers appearing simultaneously when the BS-Zelda Animation rule is enabled.
* Life meters should no longer revert to two rows whenever a quest is reloaded. ( Saffith, 2012-12-18 12:58:09 )

* Fixed boomerangs and hookshots not reflecting weapons correctly.
* Weapons and miscellaneous sprites should now update when their tiles are moved. ( Saffith, 2012-12-18 07:43:06 )

* Fixed an issue with stepping on a fairy flag while charging a spin attack.
* Made Link a bit less picky about scrolling onto raft flags. ( Saffith, 2012-12-17 18:52:14 )

* Hopefully fixed a possible hang when terminating the screen saver.
* Fixed some issues with the active ring color not updating when it should.
* Fixed rafting between screens in dungeons. ( Saffith, 2012-12-13 09:37:04 )

* Fixed an issue with drawing FFCs that wrap around the edge of a tile page.
* Fixed a possible crash in ZQuest when displaying side warp info. ( Saffith, 2012-12-07 10:18:49 )

* Fixed certain enemies gettins stuck at the edge of the screen.
* Fixed Aquamentus sometimes walking in one direction forever.
* Fixed an issue with the ladder on half-solid tiles.
* Fixed a problem that could unload MIDI patches on some Windows systems.
* Changing the title screen type no longer resets the game. ( Saffith, 2012-12-04 10:05:58 )

* Added a couple of shops missing from the second quest.
* Whether rupees already being drained can be used is now controlled by a quest rule.
* Lanmolas and Moldorms now have an attribute that determines whether each body segment drops an item.
* Fixed some issues in the shop and info editors.
* Shop prices can now be set up to 65535 rupees.
* Added Game->GetFFCScript(). ( Saffith, 2012-11-20 12:58:30 )

* Peahats are now vulnerable when frozen by clocks. ( Saffith, 2012-11-18 23:06:47 )

* Fixed a bug that could make Ghinis immobile.
* It's no longer possible to use Game > End Game to get out of a door repair charge.
* Added Game->DMapMap[]. ( Saffith, 2012-11-17 14:41:27 )

* Unbroke the ladder.
* Fixed splitting enemies background sounds. ( Saffith, 2012-11-15 07:24:32 )
 


Build 1571 - linux , macosx-Leopard , windows
* 2.50 RC5 ( Saffith, 2012-11-04 17:30:55 )

* Fixed some issues with the ladder when diagonal movement is enabled.
* Added functions to get the current screen's side and tile warp data. ( Saffith, 2012-11-04 14:26:25 )

* Fixed music not playing in ZQuest.
* Expanded enhanced music filenames to 255 characters. This affects scripts using enhanced music functions.
* Script import statements can now use either / or as a path separator on all platforms. ( Saffith, 2012-11-03 10:32:20 )

* Fixed the "Is continuation of previous string" flag.
* Fixed Link getting stuck going through walk-through walls. ( Saffith, 2012-10-30 20:39:53 )

* Hopefully fixed issues with enemies walking offscreen.
* Added Game->DMapOffset.
* Added functions to std.zh to convert between map and DMap coordinates. ( Saffith, 2012-10-26 22:55:28 )

* Fixed a crash when leeching tiles.
* Fixed joystick index and scanlines.
* Multiple whistles with different warp rings now work correctly. ( Saffith, 2012-10-11 09:14:57 )

* Split std.zh into multiple, smaller files to make them more easily peruse-able. There is no need to have to alter scripts that import std.zh. ( Gleeok, 2012-10-03 00:08:12 )

* Fixed a bug with DrawLayer not drawing layer 6 correctly. ( Gleeok, 2012-10-02 23:53:32 )

* Removed the map and screen flipping functions, as they were extremely buggy and not that useful.
* Added the ability to paste a screen's palette.
* Fixed Paste to All not pasting CSet data. ( Saffith, 2012-09-26 22:14:40 )

* Fixed 1st-4th quest handling. ZC will now allow them to be in either the ZC directory or the quest directory.
* Fixed an issue with DMap intros when Link arrives via whirlwind.
* Wizzrobes' misc. attribute 4 now controls whether teleporting wizzrobes can appear on solid combos. This is enabled for old quests.
* Palette cycling no longer functions in ZQuest when interpolated fading is disabled.
* Fixed an issue that could stop projectile shooters from spawning. ( Saffith, 2012-09-25 11:00:37 )

* It's no longer possible to buy items with rupees that are already being drained away.
* Fixed a problem with large sprites using incorrect tiles.
* Drawing transparent ellipses on offscreen bitmaps works now.
* Added Link->SelectAWeapon() and Link->SelectBWeapon(). ( Saffith, 2012-09-23 13:03:38 )

* Fixed the sword sometimes failing to hit Like-Likes from the inside.
* Fixed a warp arrival issue that could break some quests. ( Saffith, 2012-09-13 22:19:45 )



Build 1558 - macosx-Leopard , windows
* RC4 with the support files fixed. These zips do not incorporate Saffith's latest changes (below) ( DarkDragon, 2012-08-26 14:08:08 )

* Fixed ZQuest sometimes showing solidity incorrectly.
* Solid damage combos no longer function in quests made before those were implemented.
* Adjusted bombs' flag-triggering area.
* The bomb, super bomb, and key counters are no longer capped at 255. ( Saffith, 2012-08-25 07:30:57 )



Build 1555 - linux
* Rebuilt RC4 for Linux to fix a mistake in linking. If the previous build worked, you don't need this one. ( Saffith, 2012-08-24 08:00:59 )

* Shardstorm scripts fixed ( DarkDragon, 2012-08-23 14:52:31 )

* More testing ( DarkDragon, 2012-08-23 14:50:21 )

* Test of the Shardstorm scripts ( DarkDragon, 2012-08-23 14:45:37 )



Build 1550 - linux , macosx-Leopard , windows
* This is RC4. Again, the links won't work, so check the forums. ( Saffith, 2012-08-18 20:11:50 )

* Fixed a crash when opening certain old quests in ZQuest.
* Fixed some hitbox issues.
* New quests will no longer have weird combo cycling set up. ( Saffith, 2012-08-18 10:29:50 )

* Fixed Link walking a pixel too far into a new screen in dungeons. ( Saffith, 2012-08-16 20:34:46 )

* Improved Link's behavior with walkable water. ( Saffith, 2012-08-15 13:39:30 )

* Guy fires and fairy guys will now continue to animate during messages if the Messages Freeze All Action quest rule is enabled.
* Added ZScript variables to handle moving blocks and under combos.
* ZC will now treat a 0 byte save file as a new file rather than an invalid one. ( Saffith, 2012-08-14 09:16:32 )

* Fixed a couple of errors in std.zh.
* ZC now checks for the 1st-4th quests in the quest directory rather than the game directory. ( Saffith, 2012-08-12 20:13:41 )

* In the palette editor, you can now drag colors between CSets. Ctrl+click to swap, Ctrl+Shift+click to copy. ( Saffith, 2012-08-08 16:08:47 )

* The timed warp timer will now pause when the screen is frozen.
* In the tile editor, you can now use Alt+plus/minus to shift colors in 8-bit tiles by a full CSet. ( Saffith, 2012-08-06 12:34:03 )

* Fixed tile flipping sometimes ignoring tiles in rectangle select mode.
* Rotating tiles now affects all selected tiles.
* In the CSet editor, you can now rearrange colors by pressing Ctrl+left/right or clicking and dragging. ( Saffith, 2012-08-04 13:07:20 )

* Corrected the size of subscreens in ZQuest's large mode.
* Adjusted when subscreens are updated during certain warps. ( Saffith, 2012-08-03 23:14:58 )

* Fixed BS Patra's hitbox.
* In the tile editor, you can now press ctrl+plus or ctrl+minus to shift the selected pixels' colors up or down by one. Hold shift and transparency will be ignored. ( Saffith, 2012-08-03 18:21:47 )

* Fixed Mapmaker crash on OS X. ( Saffith, 2012-08-01 15:09:25 )

* Fixed text wrapping when a message is skipped by pressing B.
* Added Game->ClickToFreezeEnabled. ( Saffith, 2012-07-29 08:35:31 )

* Updated zscript.txt: -- New zscript.txt format for 2.5. This will allow zscript documentation to be put into a nicer doc/html/pdf etc.. format in the future. ( Gleeok, 2012-07-26 19:31:30 )

* Hopefully fixed a bug where Link's sprite and hitbox could become misaligned.
* Fixed blank slots appearing in the FFC script list.
* Added Game->LastEntranceDMap and Game->LastEntranceScreen. ( Saffith, 2012-07-26 09:19:11 )

* Fixed tiles not redrawing correctly after overlaying a tile over a blank one.
* Fixed boomerang movement when made to bounce by a script.
* Added opacity constants for drawing commands to std.zh. ( Saffith, 2012-07-24 09:23:51 )

* FFCs will now be drawn on the correct layer again.
* Link will now stop charging his sword when picked up by a whirlwind.
* Enemies that leave fire trails should no longer leave lots of fires when knocked back.
* Added copy and paste functionality to the string editor.
* Added Game->ShowSaveScreen() and Game->ShowSaveQuitScreen(). ( Saffith, 2012-07-22 17:29:26 )

* Stairs will no longer trigger if no combo is set.
* Added a new command line argument, -standalone <quest>. This will run ZC using the given quest and a single save slot.
* Added Game->Standalone.
* Added another command line argument, -notitle. This will always skip the title screen, even when resetting. ( Saffith, 2012-07-21 13:54:41 )

* Fixed some age-old combo cycling bugs. ( Saffith, 2012-07-19 12:03:37 )

* Door repair rooms will no longer function more than once.
* Fixed an error in std.zh. ( Saffith, 2012-07-18 19:41:58 )

* Fixed Armoses walking upward through solid objects when first activated.
* Fixed spinning tiles spawning incorrectly on entering a screen.
* Fixed slowdown when using a Lens of Truth with a large radius.
* Fixed a bug that could cause unvisited screens to be shown on dungeon maps.
* Added misc. attribute labels for enemies that didn't have them yet. ( Saffith, 2012-07-08 10:22:57 )

* Increased the maximum usable combo aliases to 2048. Pro Tip: Don't use them all for trees! :P
* Added Import and Export Combo Aliases functionality in the File->Import/Export Menu. ( Gleeok, 2012-06-11 01:06:28 )



Build 1527 - linux , windows
* Launcher update. Disregard the links. ( Saffith, 2012-06-04 09:25:41 )

* Fixed a compatibility bug where ladder-only combos were broken in 2.10 and allowed the hookshot also ( Gleeok, 2012-06-03 21:26:19 )

* std.zh: Added Clamp(x,min,max) as a sane alternative to VBound() which takes the arguments backwards. Aaaah! ( Gleeok, 2012-05-25 22:12:16 )

* Added npc->Hunger and npc->BreakShield(). ( Saffith, 2012-05-25 17:24:54 )

* std.zh: Fixed a bug with Round(). Added boolean utility functions IsOdd(int), and IsEven(int); ( Gleeok, 2012-05-23 19:12:19 )

* ZQuest: Implemented a new feature in the Graphics->Edit Door Combo Set Dialog: Now holding down shift and clicking "Auto" will, in addition to the normal auto behavior, auto-generate all the door types based on what you have set for the "Passage" door combos. Right now this duplicates the passageway set, which can still save a lot of time editing these.
* ZQuest: Added two new menu functions: Import/Export Guys. This will allow you to save and load the Enemy List as set up in the Enemy Editor. ( Gleeok, 2012-05-22 16:39:18 )

* Fixed the bug where setting Link->Dir while attacking would make the sword sprite vanish. ( Gleeok, 2012-05-21 21:06:13 )

* Fixed a possible crash when Link's weapons go offscreen.
* Fixed screen state carry over to the same screen on the previous map not working.
* Raised the limit on the number of heart and magic containers that can be set via cheats. ( Saffith, 2012-05-19 20:39:35 )

* FFCs will now respond to the same changer repeatedly after wrapping around the screen.
* Fixed incorrect screen calculation in Game->Guys[].
* Reorganized the item editor's pickup tab a bit. ( Saffith, 2012-05-18 14:09:12 )

* Fixed bookmarking strings with --
* Rewrote the tile recoloring code, hopefully fixing some of its bad color choices. ( Saffith, 2012-05-14 13:26:35 )

* Fixed the longstanding "skip y" combo animation bug. Fun fact: This has actually been "fixed" three times before, so due to it's ever changing undefined behavior no backwards compatibility for this broken feature is given If you have used this previously.
* Fixed a possible truncation when setting animation frames to large numbers. ( Gleeok, 2012-05-13 19:11:07 )

* Increased the maximum editable and usable enemies in the Enemy Editor from 256 to 512. Now there is no fear of running out of free enemy slots to customize! This changes the way quests are saved so once again you cannot open them in older versions.
* Now when updating quests to 2.5, the unused enemy default names are updated to use newer naming convention so there are no problems with list ordering in the Enemy Editor.
* ZC: Added "vsync" option to the config file. This generally shouldn't be needed, however it may fix some rare screen tearing issues on some hardware. ( Gleeok, 2012-05-12 19:02:17 )

* Fixed possible crashes when trying to load music files with long filenames.
* Link->PressMap works now.
* Game->GetScreenFlags and Game->GetScreenEFlags now correctly expect map numbers to start at 1. ( Saffith, 2012-05-12 07:52:19 )

* ZQuest: Fixed the bug where only one combo could be inserted or removed. Now pressing 'I' or shift-I properly inserts or removes a number of combos as what you have currently selected. ( Gleeok, 2012-05-09 23:25:37 )

* Fixed a bug where a crash can occur while using the 'grab' option in the tile pages, or possibly any other place where memset is used on potentially unallocated memory. ( Gleeok, 2012-04-28 05:04:36 )

* Now FFCs created or pasted with the right-click menu are initially placed 'snapped-to-grid'. This is more intuitive and requires less dragging of FFCs. ( Gleeok, 2012-04-28 02:16:09 )

* Added copy/paste functionality to the Enemy Editor. !
* Added "force_exit" to the config file to fix a rare bug where allegro may hang after being closed. ( Gleeok, 2012-04-28 01:09:37 )

* ZC EARTH DAY UPDATE. Making the Earth a greener place one CPU cycle at a time.
* Added a "frame_rest_suggest" option to the config file. What this does is suggest to ZC what argument to use when putting the main thread to sleep. This should alleviate the 100% CPU bug in most cases (I hope). For most users the default value should be sufficient. ( Gleeok, 2012-04-18 19:55:34 )

* In the combo editor, it's now possible to change a combo's tile by 20 (one row) by pressing Ctrl + Shift + [+]/[-].
* Pasting combo solidity works correctly now.
* Added Link->Flip to complement Link->Tile.
* Fixed an incorrect error message in Game->GetMessage().
* Fixed an error in GetMessage() in std.zh. ( Saffith, 2012-04-13 07:19:58 )

* Fixed a problem that could cause moldorms to move offscreen. ( Saffith, 2012-03-10 15:52:12 )



Build 1497 - linux , windows
* Disregard the links again.
* Timed saves and automatic backups can now be disabled in the launcher.
* Added Link->Tile, which is effectively read-only (it can be set, but it'll be reverted before it would make a difference).
* Successful timed saves no longer prompt you to click OK. ( Saffith, 2012-03-08 16:37:52 )

* Reverted a change that hurt the game's framerate on many systems. ( Saffith, 2012-03-08 07:19:46 )

* Damaging boomerangs and hookshots should no longer hit enemies repeatedly.
* Fixed another issue with the subscreen cursor disappearing.
* The cursor should now initially appear over the A button item if nothing is assigned to B. ( Saffith, 2012-03-05 22:37:27 )

* It is now possible to change CSets in combo alias mode. This works differently than in other drawing modes; only the current alias is affected, and it resets when a new one is selected.
* Fixed Farore's Wind making Nayru's Love's sound effects loop forever. ( Saffith, 2012-03-04 08:55:10 )

* Added a joystick index option to the config file in ZC so you can specify which gamepad id to use if you happen to have a bunch of those things plugged in. ( Gleeok, 2012-02-29 22:04:30 )

* Disabled by default the win_proc arguments in the config. This fixes some crash problems.
* Fixed the scanlines resolution scaling bug.
* Fixed the numerous DrawLayer() and DrawScreen() bugs. It should now draw, rotate, and not crash on invalid map sceens as expected. ( Gleeok, 2012-02-28 17:23:57 )



Build 1489 - linux , windows
* This is 2.50 RC3. These links won't work; check the forums instead. ( Saffith, 2012-02-26 15:13:03 )

* The "Cool Opening/Closing Wipes" rule has been renamed "Circle Opening/Closing Wipes" and uses a circle wipe like it did in 2.10.
* The Super Mario All-Stars type wipe now has a separate rule, as do the previously inaccessible triangle and oval wipes. If more than one rule is enabled, wipes will be chosen randomly. ( Saffith, 2012-02-24 11:43:18 )



Build 1485 - linux , windows
* Same thing again. ( Saffith, 2012-02-23 09:38:26 )



Build 1484 - linux , windows
* Updating the launcher with new resolution options. Again, not a new build, ignore the links. ( Saffith, 2012-02-21 12:39:47 )

* The compiler should now give a line number for lexical errors. ( Saffith, 2012-02-21 08:39:06 )

* ZC: Enlarged the AG Logo to better fit the selected screen resolution.
* ZC: Fixed a bug where the input resolution settings might of been altered from the config file.
* ZC: Deprecated the "sbig" and sbig2" arguments. These now do nothing as commands and are removed from the config file.
* ZC can now be opened in any arbitrary sized screen, and will now properly scale the graphics by integral values to match the window resolution based on a "best fit" policy. For example: 1600x1200 will fit exactly inside the window the equivalent of a pixel-scale x5, whereas a screen resolution of 1600x797 will scale by 3 and center the playable area of 960x720 within the window with a surrounding black border. To put it another way, this is basically the same as a "preserve aspect ratio" flag on a resizable window. I hope this makes sense. &_& ( Gleeok, 2012-02-21 04:14:20 )



Build 1478 - linux , windows
* Disregard the links. This isn't a new build, and they probably don't work, anyway. ( Saffith, 2012-02-20 11:23:39 )

* Large Mode: enlarged the Combo Aliases Editor. Also, fixed the font for Item Editor buttons. ( _L_, 2012-02-17 05:09:20 )

* A trapped enemy's fire breath will no longer come from the top-left corner of the screen. ( Saffith, 2012-02-12 18:31:28 )

* Sideview: Fixed the bug where enemies sometimes start moving into the ground after falling more than 2 combos' distance.
* Item Editor: Added a 'Falls in Sideview' checkbox to Din's Fire, which is on for all prior quests. To be honest I can't recall if the 'flattened sideview Din's Fire' was originally a bug or a thing I thought was appropriate for the side-on perspective, but now you can toggle it.
* Item Editor: Fixed the bug where the 'Defaults' button wouldn't default the right-most flag checkboxes.
* Enemies with a Summon (Layer) attack will now stop summoning when there are 40+ enemies onscreen, rather than 200+. This is the same as the current limit for the standard Summon shot type. ( _L_, 2012-02-12 02:10:27 )

* Updated std.zh. Also since pivot rotation and x,y scaling arguments are not consistent across all script drawing and other vector or 2D functions, I've added the following functions to std.zh: RotateScalePointX(), RotateScalePointY(), ScalePointX(), ScalePointY(), RotatePointX(), RotatePointY(). ( Gleeok, 2012-02-11 21:31:21 )

* Fixed a bug where file save dialogs used the wrong font in Small Mode.
* New Default: Fixed the Walk-through Walls markers in all of the Door Combo Sets, and fixed the 'Auto' button's visual dimensions and responsiveness.
* Large Mode: Added tooltips for the eight buttons in the main panel and the Enemies pane.
* Large Mode: Enlarged ZC's Screen Saver Settings dialog.
* Quest Reports: Now, the palette names for listed locations have padding spaces, to ensure that the data appears in straight columns. Also, you can now save quest reports to a text file.
* About the Windows debugging console.. Mac OS X comes with a Console program designed for displaying .log files such as Allegro.log, so the OS X version of ZC will come with an alias to Allegro.log inside the ZC application bundle. ( _L_, 2012-02-11 06:17:30 )

* Fixed the bug with the flip arguments in all the other script drawing.
* Added two new functions: 1)Screen->DrawLayer(), which will draw all the combos from any layer on any screen on any map to a location on the current screen or bitmap with opacity or rotation. 2)Screen->DrawScreen(), which is similar to the above with the exception that it draws all the available layers from a screen to the current screen or bitmap. --Example usage, Minimaps: Draw a block of 4 screens once to a bitmap, then scale that down to a small rectangle when you draw it to the screen. ( Gleeok, 2012-02-10 02:38:43 )

* It should no longer be possible for the item selector to disappear when the subscreen changes. ( Saffith, 2012-02-05 07:50:04 )

* Hungry Goriya rooms are no longer useless if messages disappear. ( Saffith, 2012-02-04 07:34:03 )

* ZScript: Rewrote Quad3D() and Triangle3D() Screen Functions (Which have been completely broken for a long time) so they don't crash anymore. ( Gleeok, 2012-02-04 01:48:31 )

* New quest rule: enemies flicker when hit. ( Saffith, 2012-02-02 19:11:59 )

* Certain warps would reset enhanced music, but not MIDIs. They now should not reset any music.
* Added ZScript functions to control enhanced music.
* Modified the way quest filenames are read when loading saved games. Hopefully, this will make zc.sav files somewhat compatible across platforms. ( Saffith, 2012-02-02 13:40:53 )

* Favorite combos and combo aliases are now saved in quest files.
* Fixed bomb bags' "Super Bombs Also" flag. It's been broken for a long time, and a lot of quests depend on incorrect behavior, so the flag is enabled in existing quests. It is also now enabled by default. ( Saffith, 2012-01-31 20:27:32 )

* Tektites can spawn on solid combos again.
* FFCs in quests from RC1 and before will run while Link is holding up an item.
* Finally found a fix for stuck MIDI notes on Linux.
* Fixed CSet 5 not being reset after warping out of a dark room. ( Saffith, 2012-01-31 10:51:31 )

* Fixed scrolling warps not setting continue screens correctly. ( Saffith, 2012-01-30 15:18:47 )

* Increased the range of values that can be set for enemies' misc. attributes. ( Saffith, 2012-01-30 09:00:42 )

* Fixed some errors in the string editor. It may still do odd things with invalid control codes, but it should work otherwise. ( Saffith, 2012-01-29 15:15:18 )

* Homing Moldorms should now animate correctly. ( Saffith, 2012-01-27 23:09:13 )

* Fixed the bug where Quad() and Triangle() would sometimes display garbage pixels. ( Gleeok, 2012-01-27 20:41:27 )

* Invisible Link's weapons will be invisible again. ( Saffith, 2012-01-26 09:54:29 )

* ZScript: Upped the Off-screen Bitmap dimensions to 512x512 - the maximum size allowed by most script drawing routines. ( Gleeok, 2012-01-25 16:27:42 )

* Fixed the drop in framerate when magic is refilling or Link has a magic ring.
* Fixed some weapons not working when Link is invisible. Incidentally, this also makes those weapons visible. ( Saffith, 2012-01-25 14:51:20 )

* Shields' unused ice magic block/reflect flag is now used for script weapons instead. By default, the Magic Shield blocks them and the Mirror Shield reflects them. For compatibility, all shields in existing quests will block script weapons.
* Replaced the unused ice flag (97) and combo (previously hidden) with No Ground Enemies.
* Fixed enemies ignoring the No Enemies combo when entering from sides.
* The selected item name subscreen object now shows the name of whatever item the selector is on. ( Saffith, 2012-01-25 08:10:14 )

* The game should no longer fail to save control changes.
* Goriyas' boomerangs will no longer go all the way across the screen.
* Link should now always collect items retrieved with a boomerang.
* Shields and spawn animations can now be set for other- and other (floating)-type enemies. ( Saffith, 2012-01-24 14:52:03 )



Build 1437 - windows
* Added a rotation argument to Screen->DrawBitmap(), which if used rotates the destination rect about its center in degrees. ( Gleeok, 2012-01-23 17:34:11 )

* Adding counter items (rupees, bombs, etc.) via string control codes will no longer ignore the counter's maximum.
* Fixed current items on the passive subscreen disappearing after buying something or picking up a special item.
* Tile warps and side warps can now have different warp returns set.
* Scripts will no longer see a trapped enemy's direction as -1.
* Modified the script interpreter to increase the limit on script size. ( Saffith, 2012-01-23 15:12:52 )

* Fixed the Cane of Byrna's sound not stopping.
* Added FFCF_IGNOREHOLDUP and LW_CANEOFBYRNA to std.z.
* Reworked the undercombo dialog. It now shows current and new combos side by side again, with the new combo defaulting to the currently selected one. ( Saffith, 2012-01-22 13:32:28 )

* Fixed the ladder incorrectly activating over dried water and direct warps.
* Fixed possible graphical errors when Link has bombs, but not the bomb item.
* Fixed the screen not going dark if a fire is removed by a script. ( Saffith, 2012-01-21 14:21:24 )

* ZScript: Fixed a bug where flip arguments were not respected with DrawCombo() and FastCombo().
* Optimized all internal per-combo drawing.
* Windows: Fixed any rare windows-specific crashing that a few people may have seen - which I accidentally introduced to ZC - between RC2 and current revision. If anybody still has issues with obscure crashing from this you can disable the newer 2.5 windows-specific fixes all at once via the "*_win32_proc_fix" option in the config file. ( Gleeok, 2012-01-21 03:53:51 )

* Fixed a bug that made Link unable to get out of water by unwalkable combos.
* Screen freeze combos now work as FFCs. ( Saffith, 2012-01-15 17:14:11 )

* ZC: Fixed the bug where reading the color depth setting in the config file would reset it to 8 before it could be used. Sorry!
* ZC: (Windows) Now zconsole (dbebug console) respects the Quest Rules in the 'Other' category: "Log game events", and "Show Script Errors". ( Gleeok, 2011-12-05 12:05:37 )

* Fixed a recent problem with deleting and reordering strings.
* Corrected the name of item->DrawStyle. ( Saffith, 2011-12-02 06:20:04 )



Build 1427 - windows
* Let's try this once more... ( Gleeok, 2011-12-02 04:38:25 )



Build 1425 - windows
* WINDOWS version update to 2.5RC2. ( Gleeok, 2011-12-02 04:00:00 )

* Fixed the bug where items in the active subscreen animated at double their proper speed.
* ZQuest: Fixed the bug where the last rows of the file list in the Open dialog were sometimes unresponsive.
* NES Consistency: now, Moldorms use the Default item drop set in New Default and all four 'official' quests (excluding the boss Moldorms in 4th.qst).
* Also, for NES consistency purposes, Moldorm segments no longer drop items individually when killed.
* Fixed the bug where Line of Sight Traps placed via ZScript wouldn't return to their 'rest location' correctly. Just a note: if you move an existing Line of Sight Trap via ZScript while it is lunging or returning, it will keep trying to return to its original rest location until it has done so, but if it is moved while at rest, it will correctly regard its new location as its rest location the next time it lunges. ( _L_, 2011-10-23 05:41:17 )

* ZQuest: Newly added to the right-click menu is 'Follow Tile Warp', which lets you right-click any tile warp combo and find out where it goes, instantly! This should make navigating your quests' environments in ZQuest slightly easier.
* Also, there's 'Edit Tile Warp' which lets you quickly edit the appropriate Tile Warp (A, B, C or D) for that combo instead of having to reach up to the Screen menu then shuffle through the Tile Warp dialog tabs.
* Also, removed the 'Properties' right-click menu item, as the tooltips provide the same functionality in a more convenient format.
* String Editor: Added a dropdown menu to the string list. It lists all of the strings in your quest that begin with two hyphens ('--'). Selecting one will jump to that string in the list. The idea is that you should place 'unused' strings, beginning with two hyphens and containing some identifying words, at the beginning of large blocks of strings in your quest, so that the dropdown menu serves as a quick index to these string blocks.
* String Editor: Deleting a string now just clears the string instead of physically removing it and decrementing the IDs of all strings after it (which, in this age of ZScript, might be more trouble than it's worth). Since you can re-order the string list at will, you can shuffle this empty string to the end of the list as you will.
* ZQuest: The 'Flip Screen Horizontally/Vertically' and 'Flip Map Horizontally/Vertically' features are no longer tied to hotkeys, due to their being too esoteric. They are now in the Maps submenu of the Edit menu.
* ZQuest: 'Show Squares' is now on by default. ( _L_, 2011-10-07 09:17:07 )

* Fixed the bug where teleporting Wizzrobes ignored No Enemy flags and other restrictions, and also fixed the NES inconsistency where teleporting Wizzrobes wouldn't appear over water.
* Game Event Logging: There is now a log message when Link warps, indicating the DMap and screen destination, and a log message for entering screens, which lists the screen's states. ( _L_, 2011-09-22 09:05:23 )

* Large Mode: Fixed the bug where alert dialogs' text lines would get cut off at the bottom (so that g's, p's and y's would lose their tails).
* Enemy Editor: Renamed 'Is Transparent' to 'Is Translucent'.
* ZQuest: Clicking the Flag button in the Main Panel now opens the Select Combo Flag dialog instead of the more obtuse option of using the last placed flag. Since the last placed flag is already selected in the dialog when you open it, this should only add an extra click to the process of its 'normal' usage.
* ZQuest: Clicking on an item on the screen itself will allow you to reposition it, as if you had clicked the main panel button. Also, clicking the Item button in the main panel will now open the Select Item dialog as well as letting you reposition it.
* ZQuest: Right-clicking on Commands will now bring up the dialog to change them. Previously you had to control-click them to erase them and then click them again.
* Tile Editor: The 'rectangle selection method' in the Select Tile dialog is now the default.
* Large Mode: Fixed the bug where pressing the Drawing Mode button wouldn't alter the checkbox in the Drawing Mode submenu in the Tools menu. Also, now selecting a non-Normal drawing mode (in either the submenu or the Commands menu) will switch the mode back to normal.
* ZQuest: If the quest rule 'Use Warp Return Points Only' is set (which is true for all new quests), clicking the green square arrival point button will notify you that it has no function under the current quest rule settings, before letting you move it.
* Large Mode: Screen information now includes a line telling you how many screens use this screen as a layer, and the first screen which does so. (Since most layer screens are only used by one screen, this should be sufficient.)
* Addendum: The word 'set' in the first line of the previous set of changes should read 'unset'. Thanks and take care. ( _L_, 2011-09-18 07:49:51 )

* Fixed the hookshot handle damage. A thorough examination of the 'hookshot chain damage' behaviour from 2.10 confirms that the source of damage is not actually the chain but the handle. Now, if the Item Editor checkbox is set, the handle does damage to a) Walking Enemies with the Pols Voice walk style or a shield, b) Wizzrobes that don't Ignore the Hookshot, c) Peahats, d) Aquamentuses and e) Manhandlas.
* Renamed the 'No Chain Damage' checkbox to 'No Handle Damage' and made it set by default. Since the handle damage is a 2.10 bug that doesn't even make sense within this game's internal videogame logic, it is recommended that future quests keep the box checked.
* Fixed the NES consistency bug where stunned Dodongos could be killed by sword beams.
* Renamed 'Summoner' to 'Wizzrobe (Summoner)'.
* Addendum: last line on previous set of changes should also say that 'Cane of Byrna Defense' is renamed 'Byrna Beam Defense'. ( _L_, 2011-09-15 05:44:38 )

* Fixed the bug where the inner eye offset for Patras was equal to the outer eye offset if none of the eyes fired projectiles. Now it is equal to 40 if the centre eye does not shoot projectiles, and 120 if it does.
* Fixed the bug where 'Other (Floating)' enemies could not have their Z set by a script. (However, since they don't obey gravity, it is not possible to set its Jump via script.)
* Due to popular demand, Lanmolas no longer obeys gravity. For the record, the following enemy families don't obey gravity: Manhandla, Moldorm, Lanmola, Gleeok, Zora, Leever, Aquamentus, Rock, Ganon, Trap, Projectile Shooter, Spin Tile.
* Fixed the bug where Peahats couldn't be hit with fire boomerangs while in flight.
* Now, damaging sparkles only damage foes if the foes do not have a damage-preventing Defense for the weapon that created the sparkles. This prevents Darknuts, Pols Voices, Wizzrobes and various bosses from incorrectly taking damage from sparkles from boomerangs, arrows, and canes. Note that script-created LW_FIRESPARKLEs will still damage these foes. Also, you may remember that in 2.10 the Pols Voices would appear to take damage from damaging sparkles, but not actually lose HP. This seems to be a 2.10 bug, and in 2.50 they will ignore damaging sparkles properly.
* New Default: Now, the Darknuts have the 'Hammer Can Break Shield' flag set.
* Enemy Editor: Renamed 'Wand Defense' to 'Wand Melee Defense' and ( _L_, 2011-09-12 09:40:06 )

* ZQuest: Fixed the bug where choosing View Map more than once wouldn't refresh the displayed map.
* Fixed the bug where defaulting enemy data would give the Gleeok some incorrect misc. values.
* Fixed the bug where, if a non-Projectile Shooter enemy was generated by the 'Shooting Statues' screen flag, that enemy would sometimes be incorrectly generated twice.
* ZQuest: Fixed the bug where typing the first letter of an enemy's name in the Select Enemy list would not instantly update the enemy tile preview.
* Enemy Editor: Now you can edit the 'Turn Freq' of flying enemies, which is a previously hard-coded value used in their shared movement routine. This determines how often they decide whether or not to change direction. By default this is 16 for Digdoggers and Manhandlas, 9 for severed Gleeok heads, 8 for Patras, Keese and Peahats, and 12 for phantom Ghinis. This takes up the 'Halt Rate' position.
* Peahats, Keese, Ghinis and Big Digdoggers now have editable Random Rates. Previously they were hard-coded at 4 for Peahats and Ghinis and 2 for Keese and Big Digdoggers. Note that Patras, Manhandlas and Digdogger Kids already had editable Random Rates.
* All flying enemies can now use their Homing Rate to affect their direction, in a manner identical to ground enemies. Note that Digdogger Kids already had editable Homing Rates.
* Gleeoks now use Random Rate, Halt Rate, Step Speed and Homing Rate for their severed heads.
* Manhandlas now have an editable Step Speed. It starts at 50 and increases by 50 when it loses a head. It is internally capped at 450.
* Unified the Keese and Keese Tribble enemy families. They had only a few lines of code differentiating them. ( _L_, 2011-09-08 05:18:22 )

* Fixed a couple of subscreen issues.
* Fixed a few enemies not responding to bait correctly. ( Saffith, 2011-08-18 12:53:17 )

* Fixed the bug where menus become unusable when ZC is run in non-8bit color. This also fixes the wrongly colored border issue in zc.
* Finally got around to optimizing certain drawing commands to re-use memory. Functions like Screen->Quad() for instance should be a lot faster. These are about as good now as they're ever going to get.
* (Windows) Added various config file options based on previous commits. ( Gleeok, 2011-08-16 01:31:11 )

* ZC: (Windows) Will now become inactive when minimized or focus lost. (Don't panic, you can still listen to the music!)
* ZC: Added the following command line arguments: -0bit, -8bit, -15bit, -16bit, -24bit, -32bit. -- Also added a "color_depth" option to the config file which can be set similarly. These default to 8. *Note that setting these to 0 will use the current color depth of your monitor, so if you need to change these for any reason it is recommended to use 0 or -0bit for that very reason, which should have the best performance. ( Gleeok, 2011-08-14 01:47:12 )

* Fixed some inconsistencies with DrawString and optimized cache read, insertion etc.. of Script Drawing with large amounts of drawing. Basically a whole bunch of not very interesting stuff. ( Gleeok, 2011-08-11 04:48:19 )

* Pushing a heavy block no longer triggers secrets regardless of which push flag is used.
* Jumping and landing on the ladder over water should no longer play the splash sound.
* Tweaked zscript.txt, std.zh, and std.txt. ( Saffith, 2011-08-06 09:49:31 )

* Now, the Show Walkability cheat in ZC and ZQ shows Hookshot-crossable and Ladder-crossable combo types with gray and brown, respectively. Ladder & Hookshot combo types have brown and gray checkers. Also, damage combos are now shown in yellow checkers (to denote if they are walkable or solid).
* Now, the Show Walkability cheat in ZC (but not ZQ) draws the solidity boxes between layers 2 and 3. This is to prevent flying enemies from being hidden by the boxes. Of course, the overhead layers can obstruct your view of the solidity boxes, but you can already switch those off at will.
* Fixed the bug where generating a Super Bomb via script would cause it to have a small bomb explosion.
* As you know, if you create an LWeapon via script, it is automatically given the qualities of an item of the appropriate family with a Level of 1. Now, instead, ZC finds an item of the appropriate family with the lowest possible level.
* Tweaked the wording of the help string for 'Ladder Only' combo types, to say that they only work on layer 0 (unlike the 'Hookshot Only' type).
* Added a missing potion shop to the Second Quest. ( _L_, 2011-07-28 04:43:52 )

* Fixed the bug where killing a single Patra (BS Zelda) eye would set the 'No Return' screen state (if the enemy was set to 'Never Return After Death').
* Fixed the bug where, when warping to a DMap that played a different track from the same enhanced music file as that used by the previous DMap, the music sometimes wouldn't change to that track.
* Now, Link's jumping animation speed is related to the Gravity constant's setting - if Gravity is lower, the animation is slower, and if Gravity is higher, it is faster.
* Added a ZC setting, 'Click to Freeze', which lets you pause to bring up the ZC menubar by clicking instead of just pressing Esc (as you could for all versions up until around build 749). You can disable it at will in case you're playing a quest that uses the InputMouseB ZScript function to use mouse-clicks for something. I called it 'Freeze' instead of 'Pause' because there's seriously four different ways to pause this damn game (Subscreen, Overworld Map, F3, Esc) and not enough differentiating terminology to go around. ( _L_, 2011-07-13 10:18:59 )

* ZQuest: Added "fps" option to the config file. Accepted arguments are between 12 and 60 frames-per-second. (Default is 60)
* ZQuest: (Windows) Added "frameskip" option in the config file.
* ZQuest: (Windows Fix) : Will now become inactive when minimized or focus has become lost. This will put ZQ in an Idle (Sleep) state and use 0% CPU while it is inactive. Also ZQ now undoes any thread priority set by allegro worker threads; ( Gleeok, 2011-07-09 17:25:59 )

* ZC: (Windows) Added a debugging console. ..(*waits for gasps of terror and astonishment to subside) Yes, that's right: A debug console.
* Now you can view system (allegro.log info), user logging (via zscript trace commands), and extra debugging info regardless of setting any extra flags, quest rules, or command-line args, in real time as they happen. ...I don't know why I didn't add this sooner.
* To enable zconsole use command line switch "-console", "-con", or set the appropriate ag.cfg option to 1.
* ZSCRIPT: Added Bitmap drawing and further transformed script rendering into a state machine with the following Screen functions: SetRenderTarget(int target); and DrawBitmap(...);
* Screen->SetRenderTarget(): sets 'target' as the destination Bitmap for all successive zscript drawing commands. This can be directly to screen or in one of 7 off-screen buffers.
* Screen->DrawBitmap(): draws a source region of one Bitmap to a destination region of another Bitmap, including the screen layer as a possible target. I will post an example of using these pending next release. ( Gleeok, 2011-07-04 02:51:58 )



Build 1402 - linux


Build 1401 - macosx-Leopard , windows
* This corresponds to ZC Release Candidate 2. I'm not sure if I'm supposed to put RC builds in this changelog, but maybe people will be less likely to miss it if I do.
* Item Editor: Now you can't set the Equipment Item status of a Level-Specific Key item. Also, renamed 'Full Max' to 'Refill Max', which is slightly less opaque and tautological than the former. ( _L_, 2011-06-30 08:46:13 )

* Fixed several cases where a DMap's Disabled Item settings were being ignored.
* Changed the 2010 copyright to 2011. ( _L_, 2011-06-30 07:37:19 )

* Fixed the bug where Link, with diagonal movement, couldn't step sideways out of water, and would instead continue swimming on land.
* Fixed the bug where ground enemies couldn't walk on dried water combos. ( _L_, 2011-06-27 10:15:42 )

* New Default: Fixed the boomerang tiles so that they function correctly with BS-Zelda Animation.
* New Default: Rearranged some dungeon combos and added a few more.
* ZQuest: Tile pages and map images are now exported using the set snapshot format (default being PNG).
* OS X: Screenshots and map images are now saved outside of the application bundle.
* Item Editor: Added a help button next to the item class dropdown menu that provides a brief description of the item class. ( _L_, 2011-06-20 00:10:34 )

* Added help buttons to the Combo Editor that provide help messages explaining the currently selected combo type and/or inherent combo flag.
* Changed the call to Allegro's rest function used by the FPS capping mechanism, such that it now rests instead of just yielding. The result of this should be reduced CPU usage for most systems. ( _L_, 2011-06-18 08:07:02 )

* Fixed the bug where the Show Walkability cheat wouldn't reflect changes to combos on layers.
* Added an extra game event log message involving the Hit All Triggers screen flags.
* Made some combo flag help descriptions less ambiguous.
* New Default: Fixed the Nayru's Love Shield (Back) sprite.
* Item Editor: Counter Reference is now a dropdown menu with 16 entries plus 'None'. Since all counters above 16 are reserved for future expansion, you can no longer set an item to use them. ( _L_, 2011-06-06 04:54:41 )

* Fixed possible crashes in ZQuest when viewing screens with invalid combos.
* Fixed a possible crash if Link dies while the screen is shaking.
* Screen->Quake and Screen->Wavy are now reset when Link dies.
* Expanded the number key usage in preview mode to cover all eight possible warps. ( Saffith, 2011-05-23 14:56:50 )

* Fixed problems with the rising fireball weapon in the enemy editor.
* Fixed some issues with enemy sounds stopping at the wrong times.
* Enemies now have a defense for script weapons. ( Saffith, 2011-05-18 12:55:58 )

* 2.10 Consistency Fix: Ladders are now allowed in all NES Dungeon screens regardless of any quest rule or screen flag.
* Fixed the Patra's eyes' CSet in pre-Enemy Editor quests.
* Fixed the upward movement of Fire passing through solid combos in Sideview screens.
* Overworld Map: Fixed the display of Doors of NES Dungeon screens while in non-NES Dungeon DMaps.
* Now, scrolling warps between NES Dungeon and non-NES Dungeon DMaps correctly observe the Secrets screen state and the Door states of the destination screen. ( _L_, 2011-05-14 02:18:11 )

* Fixed the bug where items wouldn't appear in the subscreen after picking up a Triforce piece.
* Fixed an issue with whistle-altered palettes not being reset after warping. ( Saffith, 2011-05-01 17:01:54 )

* Fixed a problem with loading a game when Link's max health includes a fraction of a heart.
* Importing a ZGP will no longer replace all the items; only their graphical data will be changed now.
* Fixed a bug where Link couldn't walk past a moving block on the left.
* Fixed ffc->InitD[] being written incorrectly.
* ffc->Script is now writable. ( Saffith, 2011-04-27 19:50:20 )

* Fixed a crash where sfx.dat was too old to have all the current sound effects, but not old enough that someone bothered to change the version. ( pkmnfrk, 2011-04-23 16:10:27 )

* Fixed a crash when displaying certain compiler error messages.
* Damaging sparkles created by boomerangs shouldn't easily bypass enemy shields anymore.
* Drawing commands are once again cleared when Link is holding an item.
* Relatedly, FFCs now have a flag that controls whether they're updated when Link is holding an item. By default, they're not. ( Saffith, 2011-04-22 14:07:46 )

* Quests opened automatically by the "Reload Last Quest" option no longer bring up the "Save As" dialog when saved.
* Fixed more problems with pushing blocks over damage combos.
* Tweaked drawing while scrolling a bit.
* std.zh: Fixed a mistake in one of the Choose() functions. ( Saffith, 2011-04-19 08:12:28 )

* Fixed the bug where equipment items with magic costs would sometimes vanish from the subscreen whenever you changed screens with 0 magic.
* Fixed the Candle and Cane of Byrna slash animations. ( _L_, 2011-04-11 08:07:47 )

* Fixed the bug where ladders couldn't be used on 'Ladder Only' or 'Ladder/Hookshot Only' combos.
* New Default: Fixed four duplicate water-edge combos. ( _L_, 2011-04-10 03:53:51 )

* Items that decrease counters should no longer cause them to wrap around to very high numbers.
* Link's HP should now be set correctly when continuing when his maximum HP includes a partial heart. ( Saffith, 2011-03-23 09:51:58 )

* The most desired feature in ZC history has been added: Now you can set the Flame sprite for Din's Fire and Magic Book items.
* Fixed the bug where saving sometimes wouldn't work for an unsaved quest in the Mac version.
* Filled in the new ZQuest.txt with the remaining features from the Quest menu, features in the Edit and View menus, and Screen Data. ( _L_, 2011-03-19 07:05:43 )

* Gleeoks, Moldorms, and Lanmolas with 0 segments will no longer crash the game. ( Saffith, 2011-03-16 21:09:06 )

* If a trigger combo and a misc. secret flag are on the same combo, the misc. secret combo will now be the one that appears if the secret is triggered. ( Saffith, 2011-03-16 08:40:01 )

* The start page option is no longer ignored when importing a combo table.
* Canceling out of the "Scroll to Combo Page" dialog will no longer cause it to scroll to page 0. ( Saffith, 2011-03-14 15:48:07 )

* Fixed a bug that could cause strings to be changed incorrectly after deleting one. ( Saffith, 2011-03-12 07:29:34 )

* Finishing one of the NES quests shouldn't screw up the next one anymore.
* Fixed a bug that could make FFC changers fail to activate. ( Saffith, 2011-03-10 18:06:11 )

* Keese should no longer get stuck on the left edge of the screen.
* Step triggers will trigger repeatedly as long as Link is standing on them in 2.10 quests.
* Z3-animated Link now animates when entering and exiting caves. ( Saffith, 2011-03-10 10:18:39 )

* Fixed a possible crash on sideview screens.
* Current Items on the passive subscreen animate now.
* Fixed (none) not appearing in the item override menu. ( Saffith, 2011-03-07 11:55:12 )

* Fixed possible errors and crashes after the active global script has quit.
* Enemies can once again move over walkable water if "Link Drowns in Walkable Water" is unchecked. ( Saffith, 2011-03-01 17:34:54 )

* Fixed a possible crash when saving in ZQuest.
* Fairy flags on solid combos should work the way they did in 2.10 again.
* std.zh: Corrected a few IC_ constants and added the missing ones. ( Saffith, 2011-02-28 20:58:43 )

* New Default: Adjusted the level of the Key (Level-Specific) item to 1.
* New Default: Fixed the tiles of the subscreens' magic gauges.
* New Default: Adjusted the (unused) tiles for the (nonexistent) Bat Wizzrobe 2's bat form.
* Presumably fixed the Kill All Enemies cheat killing non-beatable enemies. ( _L_, 2011-02-27 23:40:07 )

* Fixed pasting of screen warps (previously, it would not paste the side-warp side selection trigger thingies) ( pkmnfrk, 2011-02-21 02:14:32 )

* Fixed the bug where the ladder would sometimes appear when scrolling vertically with Walkable Water on.
* New Default: Fixed some non-animated water combos, and made the Outlands waterfall tiles fit in better with the other water tiles. ( _L_, 2011-02-09 02:58:45 )

* Added a default sound effect for the Cane of Byrna.
* Changed the Cane of Byrna's default Beam Speed Divisor to match the sound effect.
* Now, the Cane of Byrna's beam appears within the hook of the cane regardless of Link's direction.
* Changed the default Zelda's Fanfare sound to one with less noise.
* New Default: Changed some sprites for various Traps and Octoroks.
* Added the 'Show/Hide Walkability' level 4 cheat. This has the same functionality as the Show Walkability option in ZQuest.
* Non-Gameplay Items' Equipment Item checkbox can no longer be set. ( _L_, 2011-02-06 21:36:54 )

* Boomerangs are no longer treated as swords when determining whether they do damage.
* Boomerangs should no longer be able to bypass enemy shields.
* Fixed npc->Defense[] being read incorrectly.
* Fixed the problem of screens showing up on the map when they shouldn't, hopefully without causing any problems.
* Individual Lanmola segments will drop items again.
* std.zh: Corrected Randf(). ( Saffith, 2011-02-04 13:33:10 )

* Warping into a dark room no longer makes it all black.
* Fixed some issues with transparent sprites and drawing commands in dark rooms.
* Fixed transparency not being updated when ESP enemies appear.
* The Triforce pickup jingle should no longer get cut off. ( Saffith, 2011-02-02 09:08:41 )

* Fixed another little enemy animation issue.
* Changed the way conveyor belts are detected to fix issues with standing halfway on one.
* Fixed Link getting stuck on corners while swimming.
* Implemented Arrange->Reverse in the subscreen editor.
* Renamed the Enemies->Perm. Secret enemy flag to make it clearer what it actually does. ( Saffith, 2011-01-28 06:55:06 )

* Fixed Gohmas moving randomly when they first appear.
* Fixed some internal issues with local arrays and strings in ZScript. ( Saffith, 2011-01-27 08:36:02 )

* Fixed Gohma 4's fire in old quests.
* Link should no longer be hurt by a damage combo he's pushing a block onto.
* Fixed the button list for button items in the subscreen editor.
* FFCs now freeze when Link is holding up an item.
* Shadows should now be centered correctly under extended enemies.
* A boomerang's sound will now stop when it's removed by a script.
* Timed saves work normally again. ( Saffith, 2011-01-25 14:03:05 )

* Changed the way enemy halt time is determined. It should work more like before now.
* Rings can now use all 30 extra sprite palettes.
* Enemies should no longer be drawn too high after being carried over through a warp.
* Fixed an issue with the hookshot hitting solid combos on layers. ( Saffith, 2011-01-24 14:30:55 )

* Drawing commands should work while scrolling again, and now without little glitches. ( Saffith, 2011-01-23 22:13:20 )

* Fixed another walking enemy animation error.
* Dodongos should no longer avoid the right edge of the screen.
* Screens on new maps will again have the lens effect set to normal.
* Winning a quest should no longer reset its icon to the green tunic icon.
* A couple of small tweaks in std.zh. ( Saffith, 2011-01-08 21:39:29 )



Build 1352 - macosx-Leopard
* I'd like to again apologise for my absense. My hard drive broke down. Don't worry; I lost nothing except for my dignity.
* New Default: Fixed some enemy tiles (Goriya L3, Magic Pols Voice) and altered some other tiles (Digdogger, Zol & Gel Tribble, fast Octoroks).
* New Default: Spin Tile (Enemy Sprite) now uses the 4-Frame 4-Dir animation type.
* Hopefully this new build works on other people's systems... ( _L_, 2010-12-22 22:01:14 )

* Hopefully fixed issues with rings and peril rings with a damage divisor of 0.
* The hookshot should now pause while the subscreen is active. ( Saffith, 2010-12-22 09:07:18 )

* Fixed a graphical issue with walking enemies with odd frame rates.
* Sparkles now disappear after their animation completes. ( Saffith, 2010-12-17 10:43:12 )



Build 1348 - linux , windows
* Did what I could to fix hanging MIDI notes on Linux. It's an Allegro issue that we probably can't fully fix, but it should be less severe now.
* Added Game->DMapMIDI[] to zscript.txt. Turns out it's been available for quite a while.
* It's been using the wrong numbers, though. It's about fixed as possible now; not all built-in MIDI's numbers match Game->GetMIDI() and Game->PlayMIDI(). ( Saffith, 2010-12-15 10:55:32 )

* Zols and gels move correctly now.
* Pressing A or B with no weapon in that slot should no longer fire a 0-damage sword beam.
* Weapon types that aren't supposed to be affected by gravity aren't anymore.
* "Tall Grass->Next" combos now leave items when slashed. ( Saffith, 2010-12-13 21:18:57 )



Build 1346 - linux , windows
* Fixed some more alternate music crashes.
* The CSet editor should have a black background now. ( Saffith, 2010-12-13 06:04:05 )

* Fixed some alternate music-related crashes.
* ZC now checks the quest directory as well as the program directory when searching for alternate music.
* Killing enemies created by scripts should no longer decrement the screen's enemy count.
* Fixed incorrect warps out of level 5 in the 4th quest. ( Saffith, 2010-12-12 12:21:44 )



Build 1343 - linux , windows
* The previous fix turned up another array issue. Everything's good now, hopefully... ( Saffith, 2010-12-10 14:38:39 )



Build 1342 - windows
* New Windows build. I haven't done one of these before, but now seems a good time to try it. ( Saffith, 2010-12-10 12:35:19 )



Build 1341 - linux
* Fixed a major problem with saving games in quests with global arrays. You should probably start a new save file; this was seriously messing stuff up.
* Normal ghinis are once again opaque in old quests.
* Fixed a small error in zscript.txt. ( Saffith, 2010-12-10 07:33:17 )



Build 1340 - linux
* Items created by scripts should no longer be hard to pick up.
* Projectile shooters' breath firing type works now. ( Saffith, 2010-12-04 09:09:32 )

* ZC should no longer overflow the stack when initializing save data.
* Optimization/Fix: Drawing primitives should no longer be called multiple times on layers 3,4,5,6. This might of caused some lag for render-intensive scripts. ( Gleeok, 2010-12-02 15:14:48 )



Build 1337 - windows
* Fixed the bug where quest icons would sometimes change to those of other quests. Saves that already have the wrong icons won't be fixed. ( Saffith, 2010-12-01 22:41:14 )

* Fixed a saving and loading problem that came up a few builds ago. Saved games might be affected.
* Fixed Link reappearing in the wrong place when he drowns after warping with the whistle. ( Saffith, 2010-11-29 15:49:01 )

* Corrected length of default short hookshot.
* Fixed crashing bug with carried items and tribble enemies.
* Fixed bug where using the hookshot downwards directly above a hookshot combo would allow the hookshot to pass through it. ( DarkNation, 2010-11-27 08:35:40 )

* Adjusted some weapons' hitboxes. The sword should no longer hit enemies a full tile to its right.
* Fixed a bug that could make the active global script run twice a frame.
* Changed the way ZScript's drawing functions work when scrolling. ( Saffith, 2010-11-26 08:56:03 )



Build 1331 - macosx-Leopard
* Fixed the bug where the 'Holding Up Items Does Not Restart Music' and 'Leaving Item Cellar/Passageway Does Not Restart Music' rules would restart the DMap music instead of the screen-specific MIDI.
* New Default: added yet more tiles for enemies.
* New Default: phantom Ghinis now flash, and Pols Voice (Magic) have been slowed down to 50.
* Trigger enemies (which are '(None)'-type in ZQuest) added to new quests now continue working as they always did. However, they are left in purely for backwards-compatability, and aren't really recommended for use in modern quests.
* Fourth Quest: reduced Ganon's HP from 300% of normal to 200% of normal.
* Also removed the two top statues from Level-2's boss room because, to be honest, the bottom statues are already hard-boiled murder as it is (and I like the geometric symbolism of Link in a triangle of fire between 2 statues and Gohma). ( _L_, 2010-11-26 02:22:58 )



Build 1330 - windows
* The 'Win Game' combo type is now labelled 'Unused'.
* A new build. My apologies for its delay. ( _L_, 2010-11-25 23:15:45 )

* Items once again bounce a bit when they fall.
* Push blocks' combo types should no longer be ignored in on sideview screens.
* The application windows should now use the appropriate icons on Linux. ( Saffith, 2010-11-20 19:29:14 )

* Added Screen->RoomType and Screen->RoomData, which correspond to the Screen->Room Type and Screen->"Catch all" menus in ZQuest.
* Also added RT_* constants to std.zh to go with this. ( pkmnfrk, 2010-11-17 15:15:51 )

* Fixed a few internal issues.
* Fixed a mistake in some of the new std.zh functions. ( Saffith, 2010-11-17 11:36:16 )



Build 1326 - linux
* Fixed Game->SetScreenState() getting the wrong screen on higher-numbered maps.
* FFCs now have to move farther (more than 4 tiles) off the top or left of the screen before they're blanked.
* Added a couple of functions to std.zh and expanded NoAction().
* Yeah, another Linux build. 1324's Allegro changes didn't quite work for everyone; it should be better now. ( Saffith, 2010-11-16 20:41:10 )

* Fixed npc->DrawYOffset being incorrect.
* Fixed ladder only combos allowing the hookshot to pass through.
* Fixed block fireball combos not blocking fireballs.
* Fixed items sometimes ignoring conveyor belts. ( Saffith, 2010-11-15 09:38:40 )



Build 1324 - linux
* Patched Allegro to fix some sound problems on Linux, particularly with PulseAudio.
* Fixed eweapon->isValid() always returning false.
* Fixed a problem with enemy explosions drifting to the left. ( Saffith, 2010-11-14 20:39:22 )



Build 1323 - linux
* Fixed a bug where global scripts kept running after they should have quit.
* Fixed bitwise NOT in ZScript. ( Saffith, 2010-11-11 12:49:34 )

* Fix a few annoying warning messages while compiling ( pkmnfrk, 2010-11-10 17:10:12 )

* Fixed a couple of documentation errors (GetMessage() is part of Game, not Screen, and the Text Formatting constants are TF_*, not TEXT_FORMAT*) ( pkmnfrk, 2010-11-08 23:17:05 )

* Fixed the fix to the non-penetrable bosses - I'd gotten it backwards and made every enemy except the three bosses non-penetrable by penetrating weapons. That's reverted now.
* Fixed the bug where Link's raft would disappear while scrolling. Related note: from now on, while Link is scrolling the screen on a raft, Link->Action will equal LA_SCROLLING, not LA_RAFTING.
* Fixed the bug where Link would drop his sword when boarding a raft while charging his sword.
* Fixed the bug where Lanmolas' BG Sound wouldn't stop playing when they died.
* Fixed the bug where Lanmolas wouldn't use the Death Sound enemy editor value. ( _L_, 2010-11-06 02:03:19 )

* Fixed TraceB() always printing false.
* When setting a DMap's alternate music, ZQuest will now load the file correctly if it's in the same directory as the quest file. ( Saffith, 2010-10-27 09:13:47 )



Build 1318 - windows
* A new build. By the by, I'm going to be personally busy with work for the next two weeks, so my apologies if I seem even more absent than usual during that time.
* Fixed the bug where completing a Maze Path with an east Side Warp would scroll the screen upward instead of rightward.
* Fixed the bug where the screen would scroll twice if completing a Maze Path resulted in triggering a scrolling Side Warp. ( _L_, 2010-10-13 19:41:15 )

* Fixed a crash when Link gets hit while wearing a ring with a damage divisor of 0. ( Saffith, 2010-10-11 11:01:54 )

* ZScript: Fixed numbers should no longer spill off digits when performing divide operations.
* Tweaked the AG fire logo screen in case anyone was having any weird behaviors with it before. ( Gleeok, 2010-10-05 17:33:39 )

* Fixed a crash that could occur when doing a CSet-only fill (ctrl+shift+click).
* Fixed a typo in std.zh (WT_ENTRANCEEXIT). ( Saffith, 2010-10-03 15:57:25 )



Build 1314 - macosx-Leopard
* Fixed the Import Map crash by changing the .map export file format to use the quest file map loading/saving routines instead of the aged, ad-hoc, and (evidently) crash-prone method it was already using.
* This means that the .map format has changed! If you've somehow got a stockpile of .map files, you'll need to import them to a quest file using an older build, then export them using this latest build. (If you're interested, the format last changed, unintentionally, in build 1046.)
* Fixed the bug where making a splitting enemy split into copies of itself would lead to a ludicrous amount of enemies being spawned.
* The above also indirectly fixes the bug where split-off enemies sometimes can't split into further enemies. ( _L_, 2010-09-29 03:11:45 )



Build 1313 - windows
* New Default: Added several new tiles/combos, including some from the NES game Legacy of the Wizard. While we approve of a wide range of available tiles, we are careful to ensure that the default combos should not be too high in number, so as not to overwhelm new users.
* Sorry for the lateness of this build. (If something in your scripts suddenly seems off, it might be because of an obscure missed case in Joe123's ZASM rewrite. Check carefully.) ( _L_, 2010-09-21 00:49:35 )



Build 1312 - linux
* An animated boomerang sprite with a speed of 0 should no longer crash the game. ( Saffith, 2010-09-13 13:00:17 )

* ZScript: fixed the recent bug where eweapon->UseSprite() wouldn't work.
* ZScript: fixed the recent bug where dividing a number larger than 21 wouldn't work.
* Fixed the bug where Patras would sometimes have incorrectly placed or overlapping outer eyes.
* Fixed the bug where walking enemies that split into 3 or more walking enemies would have their 3rd and subsequent children be immobile.
* Now the Armageddon Games splash screen can be dismissed a bit faster. ( _L_, 2010-09-06 08:45:33 )

* Corrected the enemy data validation.
* Hopefully fixed some crashes in ZQuest. ( Saffith, 2010-08-31 21:42:08 )

* Implemented the pre-fix increment and decrement operators in ZScript ( Joe123, 2010-08-30 06:29:35 )

* Comparing Link->Action against LA_SCROLLING should now work properly in the active global script ( Joe123, 2010-08-29 12:14:53 )

* Fixed the bug where you would have to press Joystick button 1 or 2 multiple times to get it to register. ( pkmnfrk, 2010-08-24 09:07:44 )



Build 1304 - macosx-Leopard
* New Default: Fixed the Fire Gleeok's S. Tile.
* Fixed a bug where string control code 3 (Goto If Screen Variable) used the wrong amount of arguments.
* Made the 'Error: Not a custom quest' loading message more meaningful.
* Subscreen Editor: implemented the Arrange submenu items 'Bring to Front' and 'Send to Back'. ( _L_, 2010-08-24 01:20:42 )

* a[b[i]] (or even a[b[c[i]]] etc.) is now a valid operation ( Joe123, 2010-08-23 14:53:45 )

* Whoops! Added the other half of the implementation of Link->HitDir ( pkmnfrk, 2010-08-23 13:09:05 )

* Fix part of the script interpreter ( pkmnfrk, 2010-08-23 09:26:02 )

* Fix the bug where trying to open an old quest (with no Slot 4 script) would crash ZQuest (and, possibly ZC, never tried) ( pkmnfrk, 2010-08-23 09:05:46 )

* Re-wrote quite a lot of the insides of ZASM, which should result in some (albeit probably small) increases in speed, less RAM wasted and much more readable code.
* I've tested this quite thoroughly, and seeing as I've only really changed the way data is passed around inside ZASM it shouldn't introduce any bugs. If you find any, report them and I'll fix them as soon as I can (should only be things like typos though to be honest)
* Fixed LOAD1/2 and SETA1/2, which were wasting away when ZASM got updated internally some time ago. Global scripts now have A registers.
* Each item script's 'this' pointer now points an itemdata rather than an actual item sprite, seeing as the item sprites only lasted for one frame anyway
* Added 'AimEWeapon', 'AimLWeapon' and 'WeaponTypeToID' to std.zh, and overloaded 'GetScreenDBit' to work on different screens to the current one ( Joe123, 2010-08-23 04:16:33 )

* Added documentation for Link->HitDir
* Fixed the line endings in the text files (and, set svn:eol-style to native (as they should have been already!)) ( pkmnfrk, 2010-08-22 23:47:38 )

* Added Link->HitDir. Turns out that if you set Link->Action to LA_GOTHURTLAND, it actually works (it stuns him and knocks him back). Now, we can control that knockback! Link will be knocked back into the direction specified by this variable (if he is facing the right way, of course). ( pkmnfrk, 2010-08-22 23:46:41 )



Build 1296 - windows
* New build for everyone using CreateItem
* Added bounds checking to all of the Screen->Create* and Screen->Load* functions ( Joe123, 2010-08-17 10:14:43 )

* Fixed a crash involving Screen->CreateItem().
* Fixed a recent bug where trying to set npc->Jump with a script would result in too small a value being set.
* Fixed the alphabetical sorting of the script dropdown menus.
* Removed the word 'Slot' from the script dropdown menu items because it makes them a bit hard to visually differentiate names and numbers. ( _L_, 2010-08-14 08:05:16 )



Build 1294 - windows
* Had lots of complaints about std.zh compiling in 1283, it works in this build. Apologies.
* Added 'IsSideview' to std.zh courtesy of Wolfman2000.
* Fixed the 'AngleToDir' functions from std.zh which had their angles the wrong way round. ( Joe123, 2010-08-12 15:22:29 )

* Fixed the line endings on the source files (guys, when you add a new source code file, you should add the 'svn:eol-style' property to it with the value 'native', so that svn manages the end of lines for you!) ( pkmnfrk, 2010-08-09 20:22:32 )

* Fixed a recent bug where trying to set Link->Jump with a script would result in too small a value being set.
* std.zh: Fixed an off-by-one bug with HitboxBottom() and HitboxRight().
* std.zh: HitboxTop(), HitboxBottom(), HitboxLeft() and HitboxRight() can now take FFCs as arguments. The left and top functions aren't really that useful but are included for completeness.
* std.zh: Renamed LoadNPCOf() to LoadNPCOfType(), and added LoadNPCOf() which takes an NPC ID rather than a type. Please adjust your scripts accordingly. ( _L_, 2010-08-08 01:01:52 )

* Put the number of each script next to its name in the ffc dialog, and put a droplist for the scripts in the item dialog ( Joe123, 2010-08-06 03:29:14 )

* Fixed a typo in the script parser ( pkmnfrk, 2010-08-05 17:04:36 )

* Changed the way global arrays are loaded from the save file, which means we no longer need the '~Continue' script - the slot is now free for user scripts. Afraid this means any scripts using global arrays will need to be recompiled again, I'm pretty sure this'll be the last time though.
* Added some names in the 'Assign Compiled Script' dialog which give a little more information about what the global scripts actually do. ( Joe123, 2010-08-05 12:29:56 )

* Added the 'Log Script Errors To Allegro.log' quest rule, which traces things like trying to use invalid NPCs, out of bounds arrays etc. separately to the 'Log Game Events To Allegro.log' rule.
* Arrays can now be initialised to a set of expressions rather than just a set of numbers (ie. int b; int a[] = { I_SWORD1, 3 * 4, b, Pow(5, 6) }; ).
* Memory allocated to strings is now the right length (was slightly too large before), and strings (or initialisers) which are too large for the allocated space will be flagged up at compile time - this allowed for strings with no null terminator to be allocated, but no more!
* Added itemdata->InitD ( Joe123, 2010-08-04 07:52:29 )



Build 1287 - linux
* Hopefully fixed the random crashes that occur when scrolling through the combo list.
* New Linux build. Remember, this will invalidate your old save file, and scripts will need to be recompiled. ( Saffith, 2010-08-03 19:41:39 )



Build 1286 - macosx-Leopard
* Fixed a bug related to the Cycle Combos On Screen Init screen flag an layered cycling combos.
* Fixed the bug where loading 2.10 quests wouldn't properly read their 'Rope 2 Doesn't Flash' and 'Ghini Doesn't Flash/Flicker' quest rules.
* ZQuest: Added a message to the Assign Compiled Script dialog indicating that script slots are automatically updated with the recently compiled scripts.
* Fixed the bug where LW_FIRE lweapons created by a script disappeared about 14 frames earlier than what they ought.
* Fixed the bug where boomerangs would be blocked by screen items if the 'New Boomerang/Hookshot' rule was set but the 'Boomerang/Hookshot Grabs All Items' rule was not set.
* Now, penetrating sword beams and arrows cannot penetrate Aquamentus, Manhandla or Gohma enemies. ( _L_, 2010-08-01 22:49:33 )

* Fixed a bug to do with out of bounds user array elements in ZScript, and improved error tracing when trying to use invalid array pointers
* Added functions for accessing some strings from ZQuest, namely item and npc names, message strings and dmap names, titles and intro strings
* Added a bunch of variables for accessing DMap information to the 'Game' pointer
* Added itemdata->Power
* Added '%x' and '%X' to sprintf, plus a couple of new functions to std.zh
* Started some much better tracing for passing invalid object pointers ( Joe123, 2010-08-01 12:29:14 )



Build 1283 - windows
* New build to address the 'copy file' fix
* Added 'SizeOfArray' and 'Game->GetSaveName' to ZScript
* Added 'ComboFI', some direction handling functions, functions for placing weapons in front of Link and NPCs and 'CreateTimeoutItem' to std.zh ( Joe123, 2010-07-23 15:51:12 )

* Fixed the bug where instantly collecting items with a Boomerang, Hookshot or Arrow wouldn't trigger the Screen State or perform other necessary checks.
* Seemingly fixed the copy file-related startup crash.
* Combo Editor: replaced 'Move' with the somewhat more useful 'Swap' in the right-click menu.
* Added an incomplete version of a new ZQuest.txt revised and rewritten for v2.50. Yes! A new ZQuest.txt! ( _L_, 2010-07-20 09:05:36 )



Build 1281 - windows
* Fixed a slight oversight about changing number of arrays and re-saving your .qst files, updating to this build if you were using the previous one would be a good idea.
* Forgot to point out that the ASM code for array allocation has changed slightly, so any scripts written in previous builds will have to be put back through the parser to work correctly now, apologies.
* Added some script-specific combotypes.
* Seeing as std.zh is getting quite large now, I wrote up an 'std.txt' to go with it - should save some time wasted in trawling through such a big file. ( Joe123, 2010-07-08 14:53:33 )



Build 1280 - windows
* Myself and Gleeok have revamped ZScript's arrays to use random-access memory rather than the current procedural access, which was very slow for large arrays.
* Changed the order of de-allocation of array memory to more closely resemble the 'stack'.
* I'm afraid that this invalidates any save files from previous builds as globals are now saved differently.
* However! Arrays should now be much faster to access and they can be arbitrarily large.
* There are 4095 local arrays to play with, and you can now store as many global arrays as you like with your save file.
* Pointers now work differently (again), and can no longer be offset to access elements further up an array - you must use the array dereference operator from the start of the array.
* string.zh hasn't yet been updated fully to accommodate for this change, apologies.
* Removed 'PointerOffset' and 'Declare' from ZScript.
* Added 'NoAction' and 'WaitNoAction' to std.zh.
* Added 'Round' to std.zh, courtesy of Wolfman2000.
* New build! If you notice any problems with the new arrays, please report them ASAP. ( Joe123, 2010-07-07 12:22:21 )

* Custom Counters! Just what everyone's always wanted, right? 10 of them for use with scripts. ( Joe123, 2010-06-30 13:35:03 )



Build 1274 - macosx-Leopard
* Re-tweaked the walkable water combo hit detection.
* Fixed the Stomp Boots causing Link to get hit while stomping.
* Fourth Quest: fixed the death sounds for Dodongos and Digdoggers. Also slightly decreased Ganon's HP.
* Fixed the running-out sounds for Nayru's Love shields created by removed Nayru's Love items.
* Fixed the bug where an item's Pickup script couldn't call Screen->Message(). ( _L_, 2010-06-30 00:43:04 )

* Added Screen->SetTileWarp to ZScript, which functions similarly to Screen->SetSideWarp.
* Added Game->GetScreenFlags and Game->GetScreenEFlags, which allow access to flags on screens other than the one Link is currently on. ( Joe123, 2010-06-28 11:46:13 )

* Added 'Game->ComboTile', which returns the tile used by a combo
* Added some functions to std.zh for drawing sprites to layers, checking whether Link is using a certain item and checking how many Triforce pieces Link has ( Joe123, 2010-06-28 02:41:02 )



Build 1271 - linux
* The undercombo dialog will now default to the active combo if one hasn't already been set.
* Fixed a problem displaying info types. ( Saffith, 2010-06-26 22:28:55 )



Build 1270 - macosx-Leopard
* Enemy Editor: fixed the Dodongo misc. value dropdown menu. It referred to Misc. Attribute 1 instead of Misc. Attribute 10.
* New Default: fixed the Fire Gleeok weapon damage, the Sword 4 weapon sprite, and the BS Dodongo's death sound effect. ( _L_, 2010-06-23 03:47:21 )



Build 1269 - windows
* Fixed the recurring DMap intro message bug.
* Fixed the bug where using the Link Equipment cheat would incorrectly reset the Super Bomb Ratio.
* Fixed the bug where the Din's Fire and Nayru's Love items wouldn't work right if they had the 'Remove Item When Used' flag.
* Hopefully fixed the bug where flying enemies could intrude on No Flying Enemies/No Enemies combo flags or combos.
* Now, Stomp Boots can have a magic cost and item script attached, and the 'Remove Item When Used' flag works.
* ZQuest: fixed the bug whereby you could edit the '(None)' enemy from the Select Enemy dialog. ( _L_, 2010-06-23 02:59:15 )

* Fixed the bug where Permanent Jinx enemy touch effects weren't working.
* Made the string appearing/disappearing code less crumbly, fixing a bug or two involving empty strings and the Messages Freeze All Action quest rule. ( _L_, 2010-06-16 05:37:32 )



Build 1267 - macosx-Leopard
* Fixed the Combos Carry Over crash.
* Link should no longer be frozen when a timed warp activates while a DMap intro message is printing.
* NES Movement: Fixed the bug where Link wouldn't spin correctly if he pushed against a solid combo while hurricane spinning.
* NES Movement: Fixed the bug where Link could move while slashing if he'd just finished tapping his sword. ( _L_, 2010-06-06 03:37:00 )



Build 1266 - windows
* Very minor optimizations to ZScript. ( Gleeok, 2010-05-31 23:37:02 )

* Fixed the bug where the EX buttons in the Key Buttons dialog couldn't be clicked.
* Fixed a bug where strings longer than 72 characters wouldn't work with the 'Messages Freeze All Action' quest rule.
* ZQuest: Fixed the 'Automatic Save Screen' screen info message.
* String Editor: Fixed the bug where clicking 'Duplicate' then 'Cancel' would mess up the '<New String>' option. ( _L_, 2010-05-29 23:25:30 )

* Fixed a bug where layered damage combos (and who knows what else) from previous screens were recurring invisibly in subsequent screens.
* Seemingly fixed a bug where null enemies were being instantiated and not being put in the guy list... presumably causing a memory leak.
* Now, shallow water ripple and tall grass decorations aren't drawn when Link vanishes with Farore's Wind (or Link->Invisible is set). ( _L_, 2010-05-23 00:35:55 )



Build 1262 - linux
* Fixed a couple of issues with reflected weapons. ( Saffith, 2010-05-18 17:40:03 )



Build 1261 - macosx-Leopard
* Fourth Quest: fixed the Abei 2 guys, the Dodongo CSet and the exits to Level 5.
* Fixed the bug where old quests had incorrect Dodongo or Digdogger Hit Sounds and Death Sounds.
* Fixed a crash involving temporary filenames... I think. ( _L_, 2010-05-17 09:49:57 )

* Corrected super bombs' flag triggering region.
* Flying Peahats are no longer immune to things that kill all enemies.
* Link can once again use the ladder to walk over half a tile of water when he has the flippers. ( Saffith, 2010-05-17 09:39:34 )

* Fixed enemies in old quests. That doesn't necessarily mean they all behave corectly, but they should all act the same in both old and new quests now. ( Saffith, 2010-05-15 13:17:17 )



Build 1257 - linux
* And here it is for Linux. ( Saffith, 2010-05-13 06:19:35 )



Build 1256 - windows
* New Windows build. *IMPORTANT* PLEASE REMEMBER TO BACK UP YOUR DATA!
* Portions of the code for the way screens/maps in ZC and ZQuest have been modified/fixed/re-writ to fix many underlying stability and memory issues for the next release. As a result of this any previous bugs dealing in that regard are presumably fixed. For anyone beta testing this build the above changes are number one priority if something doesn't work right.
* Temporarily disabled the timed autosave function in ZQuest for the benefit of ...well, for the benefit of your own good. =P (Just a safety precaution is all.)
* ..Sorry for all the grim warnings; ZC is now presumed to be stable after all these builds, we don't want anyone to lose any work due to a slight oversight, is all. -Also be sure to test out the 4th quest. :-D ( Gleeok, 2010-05-13 01:31:54 )

* ZQuest: May have fixed a preview or misalign error in large mode. ( Gleeok, 2010-05-11 13:16:49 )

* Fixed trap movement in old quests. ( Saffith, 2010-05-10 19:45:42 )

* Added the Fourth Quest. The quest-making contest resulted in a tie of sorts between Questwizard and HeroOfFire, and both of their quests had some great parts and some not-great parts. So, I got approval to make a quest file containing only the great parts from both quests. Fourth Quest consists of HeroOfFire's overworld and Questwizard's dungeons. (Due to luck, very little of either quest had to be adjusted to make them fit together.)
* It was, of course, not a requirement that the Fourth Quest submissions be harder than Third Quest (a task which is itself a bit hard to imagine). But, given the oddness of sending the player to the easier Fourth after finishing Third, I decided to make things a bit more interesting than that. So, if you finish Second Quest with all 16 heart containers found, you get sent to the more exploration-based Fourth Quest. Otherwise, you get sent to the combat-based Third Quest. (Yes, I've tested this.)
* There is, of course, a password to skip to Fourth Quest directly. It is 'GANON'.
* Also, creating a Fourth Quest save file will turn the select menu's colours to redder hues, as an easter egg.
* Replaced 1st.qst, 2nd.qst and 3rd.qst with their proposed versions.
* Added a level 4 cheat, 'Kill All Enemies', which just does the same thing that the Kill All Enemies item does.
* Fixed the bug where 2.10 quests' Armos enemies had their type set to '(None)'.
* New Default: changed the walkability of those half-sized Pound combos.
* Large Mode: enlarged the 'Requires Authentication' dialog. ( _L_, 2010-05-08 10:12:38 )

* Fixed a memory leak shared from the maps code in zc and zquest. How bad it is depends on how many maps your quest has and how many times you reopen or reload it in zquest in a single instance. This should be pretty much the last of them in zc, so that's the good news. ( Gleeok, 2010-05-07 10:09:08 )

* Minor fixes to the way some memory is handled in zc. ( Gleeok, 2010-05-03 16:50:05 )

* Fixed some rather nasty memory leaks when loading quests in the player. ( Gleeok, 2010-05-03 03:37:55 )

* Fixed a bug that prevented several enemy animation types from correctly drawing extended enemy sprites larger than 1x1.
* Fixed the bug where ZC's Sound Settings dialog wouldn't save changes.
* New Default: now, 'import "std.zh"' is included in new quests' ZScript buffers. ( _L_, 2010-04-30 09:40:10 )

* Sayonara to the critical bug where dialogs could get corrupted in the player...Especially the Joystick configuration menu for some reason. ( Gleeok, 2010-04-28 03:13:38 )



Build 1233 - linux
* Sorry, screwed up 1231. This one's good. ( Saffith, 2010-04-25 13:55:17 )



Build 1232 - windows
* Third time lucky; I definitely actually added string.zh and string.txt ( Joe123, 2010-04-25 10:28:12 )



Build 1231 - linux
* Added an integrity check in hopes of tracking down a data corruption bug. ( Saffith, 2010-04-25 07:36:40 )



Build 1229 - macosx-Leopard
* Fixed the bug where the Hover Boots' Hover Duration didn't work quite right in top-down view.
* Fixed the Death SFX for Walking Enemies that Split On Death.
* String Editor: Added a Help button which, when clicked, describes all of the Control Codes and their arguments as documented in the wiki. A somewhat blunt solution, but nonetheless a usable one. ( _L_, 2010-04-20 08:35:53 )



Build 1228 - windows
* Sorry to put out a new build so soon, but string.zh should now be finished.
* Fixed a small problem with PointerOffset, restricted TraceS to 512 characters as very large traces were causing issues, removed the '
' from the end of TraceS (you can add one in the string with printf) and removed some garbage traces that were occurring when script memory was allocated.
* string.zh brings you most of the string manipulating functions from cstring.h, plus sprintf and printf and some new ones which should help bring a lot more functionality to our ZScript strings. ( Joe123, 2010-04-20 02:25:50 )



Build 1226 - linux , windows
* Seemingly fixed the issue with the palette getting corrupted in fullscreen under Windows.
* About time for a new Linux build, too. ( Saffith, 2010-04-17 12:11:32 )

* The default Win32 gfx mode settings when running zc for the first time is now 640x480 for the benefit of modern video hardware. ( Gleeok, 2010-04-16 01:23:42 )

* DrawString should now sort correctly on layers in somewhere around log(n) time. ( Gleeok, 2010-04-15 14:33:15 )

* Added PointerOffset to zscript.txt
* ...Which should allow string.zh to be added soon; check on the forums to see a beta version ( Joe123, 2010-04-15 04:39:53 )

* Due to the upgrade of arrays I've swapped the last two arguments of DrawString to match the API of the other string functions. Due to a loophole in the previous system, the pointer to array had to be input last, but no more! My apologies if this affects your scripts. ( Gleeok, 2010-04-15 03:09:32 )

* Fixed the bug where enemies with the 'Invincible' flag set could be killed by the ring leader enemy dying or the kill all enemies item
* Fixed the bug where draw primitives from the previous screen would appear for a frame after warping via a zap warp
* Added some more string-related functions to std.zh ( Joe123, 2010-04-12 03:37:43 )

* Added more math functions to std.zh. These are: CrossProduct(); DotProduct(); SmoothStep(); DistanceSquared(); and MidPoint(); . ( Gleeok, 2010-04-11 22:18:18 )



Build 1213 - windows
* Changed the way DrawString reads its string argument; it now accepts the array pointer rather than the first element of the string
* Added TraceS, which traces a string to std.zh
* Added some functions to std.zh for dealing with strings and ascii characters
* New windows build. Hopefully it won't cause any issues; we've had a lot of compiler-specific bugs recently... ( Joe123, 2010-04-11 14:01:04 )



Build 1211 - macosx-Leopard
* Large Mode: enlarged the Tile Grabber. With this, I do believe that the ZQuest large interface is complete. If you can find any remaining dialogs that haven't been updated, do tell.
* Added a 'Load Quest' menu option to Zelda Classic, which new users can use to load custom quests in addition to the unusual method we currently use. It is only available when a registered but unoccupied save file is selected.
* ZScript: Fixed a bug where creating a '(None)'-type enemy with a script would crash ZC. ( _L_, 2010-04-09 08:20:35 )

* Combos Carry Over now carries combos on layers to the next screen
* Fixed a bug with the layer 7 draw-primitives involving insta-warp with blackout ( Joe123, 2010-04-07 12:18:59 )

* Fixed an inconsistency with 2.10 where having solid combos on layers 1 and/or 2 above 'Hookshot Only' combotypes would stop the hookshot from being able to pass through
* Made it a bit clearer in the Init Data how initial amounts of magic should be set
* Now if the quest rule 'Subscreen Appears Above Sprites' is set, draw primitives can access layer 7 which is above the subscreen ( Joe123, 2010-04-07 10:23:22 )

* Fixed a problem where warps with combos carried over copying garbage instead, as well as a related crash.
* Fixed crashes in the MIDI info dialog. ( Saffith, 2010-04-06 12:14:30 )

* ZScript: Fixed a bug where moving a Like Like that was eating Link wouldn't also move Link.
* Enemy Editor: renamed 'Bomb' and 'S.Bomb' to 'Bomb Blast' and 'S.Bomb Blast'. As you know, previously these functioned identically to 'Lit Bomb' and 'Lit S.Bomb'. Now, non-Bombchu enemies with these weapons will have their data updated to use the 'Lit' weapon, and using 'Blast' weapons from now on will do nothing unless the enemy is a Bombchu (Rope Walk Style + Explode Death Type).
* Enemy Editor: added misc. value labels for Traps. Note: combining '4-Way' and 'Constant' will just make the Trap randomly choose vertical or horizontal when it's spawned.
* Mac OS X: Fixed the bug where the ZQuest default path wasn't outside the application bundle. ( _L_, 2010-04-04 04:13:48 )

* Fixed the bug where a Like Like eating Link while he was exiting water would freeze Link.
* ZScript: Fixed a bug where calling Screen->ClearSprites() while Link was using the hookshot would freeze Link.
* Enemy Editor: Added two more misc. attribute labels for the Projectile Shooter.
* Now, items with a tile of 0 will be invisible. ( _L_, 2010-03-29 08:57:24 )

* Fixed the bug where Wizzrobes could be knocked back.
* Increased the Super Bomb's combo flag-triggering hitbox back to 2.10 size.
* Large Mode: fixed most all of the Subscreen Editor's options dialogs. They should all look fine now. ( _L_, 2010-03-24 03:12:06 )



Build 1204 - windows
* Fixed the bug where Sensitive Warp combos didn't function as FFCs.
* Now, the 'Combos Carry Over' warp checkbox works for Entrance/Exit warps.
* Subscreen Editor: Fixed the bug where clicking to select elements wouldn't work. ( _L_, 2010-03-21 03:50:42 )

* Fixed the bug where Vire-type and Pols Voice-type Walking Enemies could spawn on solid combos.
* Fixed the bug where Gohmas could use the 'Breath' and 'One Shot' firing types at the same time.
* New Default: Restored the Gohma 4's default weapon to 'Flame'.
* Fixed the bug where the Tile Editor's right-click menu would sometimes be shorter than what it ought depending on the recent use of the Combo Editor.
* Now, Lock Block combos are suppressed if they are used as part of a Locked Door, to ensure that the door's trigger takes precedence over the Lock Block. The same applies to Boss Lock Blocks and Boss Doors.
* Now, most all door-unlocking events are correctly logged to Allegro.log. ( _L_, 2010-03-20 00:45:13 )



Build 1202 - linux
* Fixed a set of crashes that could occur when changing the map count, placing flags on layers, and possibly other times. ( Saffith, 2010-03-17 08:07:22 )



Build 1201 - macosx-Leopard
* Fixed the bug where the default Link boomerang sound would prematurely cease when Link killed a Walking Enemy.
* Fixed a momentary bug where flying enemies could fly downward onto 'No Enemies' combos.
* Sideview: Now, both diagonal and NES movement (formerly just the latter) permit Link to use the Stepladder to ascend upward, which is, as you know, useful insofar as it synergises with the Hover Boots or extends the vertical reach of the Roc's Feather. ( _L_, 2010-03-15 09:43:22 )



Build 1200 - windows
* Fixed a divide-by-zero crash concerning an enemy with a Summon shot type but set to summon 0 enemies.
* Fixed the death sound of Walking Enemies with Rope movement and a projectile weapon.
* Fixed the use of Death Attr. 1 and Death Attr. 2 by Walking Enemies with the 8 Shots death type. ( _L_, 2010-03-14 00:59:47 )

* Now, Link can attack while inside a Like Like regardless of the 'Can Use Items/Weapons on Edge of Screen' quest rule.
* Fixed the bug where Patra outer eyes used the wrong hit and death sound effects. ( _L_, 2010-03-13 06:43:08 )

* Improved the enemy Sideview behaviour a bit more with regards to half-walkable combo platforms.
* Fixed the bug where some Hookshot chain links were left behind if Link's direction was changed by a script while using the Hookshot.
* Enemy Editor: now, misc. values which are bounded by a dropdown list are bounded by the droplist's range as soon as you change the enemy to that particular family.
* Spin Tile enemies can no longer fall. ( _L_, 2010-03-12 06:37:52 )

* Large Mode: enlarged the Subscreen Editor, the Palette Grabber, the Tile Leech dialog, and the Open and Save dialogs.
* Fixed the position of the OK button in the CSet Editor.
* ZQuest: Removed the 'Save as 2.10' option. ( _L_, 2010-03-07 03:31:06 )

* Fixed some more memory issues.
* One last fix (hopefully) to that level 1 bug in proposed1st.qst.
* Also fixed a couple of incorrect tiles in the proposed quests' overworlds. ( Saffith, 2010-03-06 14:50:52 )

* Changed some implicit casts with Jump variables
* All weapons obey their Jump variables on top-down screens
* Documented item->Jump which was missing from ZScript.txt ( Joe123, 2010-03-06 13:44:44 )



Build 1194 - windows
* Fixed many issues with the gui and reverted some changes I made around build 1170. This fixes a whole slew of things. -END_OF_MAIN is now correct.
* Fixed the palette grab crash bug. (Finally) -Removed some debug logging info related to that. ( Gleeok, 2010-03-05 19:02:51 )

* Fixed the bug where the quarter hearts tiles on the File Select screen were often incorrect.
* ZScript: now, Game->GetScreenState() and Game->SetScreenState() now correctly count maps from 1 upward (as indicated in zscript.txt) rather than 0 upward.
* Improved the logging of screen state changes - distant screen state changes are differentiated from current screen changes, and correctly report the Door states' changes.
* Now, items without a 'Once Per Screen' flag set won't suppress similar-classed items with a 'Once Per Screen' flag set if both were used in succession in one screen. ( _L_, 2010-03-05 09:08:23 )



Build 1191 - linux


Build 1190 - windows
* Let me try this again. ( Gleeok, 2010-02-28 16:42:59 )

* Hopefully fixed some underlying problems from the last few Windows releases which manifested mainly in ZQuest/ZQuest GUI and might have led to possible corruption, crashes, petty shenanigans, or nothing at all. Please remember to backup your quest files!
* - THESE CHANGES APPLY TO BUILD 1188! - ..Sorry, I kind of messed up the previous message. ( Gleeok, 2010-02-27 17:28:52 )



Build 1188 - windows
* Fixed the bug where the cancel button in the tile goto page dialog didn't work right. ( Gleeok, 2010-02-27 16:24:20 )

* Fixed some implicit casts from double to long which were causing problems with some of the trig functions and logarithms in ZScript.
* Documented ArcSin and ArcCos, which I added some time ago but were affected by the casting issue.
* Link->Equipment can no longer be set - I overlooked some (quite large) issues when adding this functionality. My sincerest apologies to those who were using this in their scripts.
* Made a slight change to how array 'pointers' are stored internally which should now make it valid to pass them as arguments to functions. ( Joe123, 2010-02-27 09:37:49 )

* Finally fixed the bug where the control codes 13, 14 and 15 weren't working quite right.
* Enemy Editor: fixed the bug where changing an enemy's family in the editor would cause the wrong set of misc. labels to be used until the dialog was closed.
* Enemy Editor: Added misc. attribute labels for Wizzrobes, Dodongos, Keese Tribbles and Keese.
* ZQuest: changed the names of several fonts to more accurately describe them. For instance, 'lfont' is now 'GUI Font Bold'. ( _L_, 2010-02-26 22:47:07 )

* Fixed the bug where hitting grave combos in quests where there are no grave enemies defined period will crash the game.
* Fixed the bug where placing a secret flag on top of a sword trigger flag prevents the secret from ever triggering when hit. ( jman2050, 2010-02-23 08:59:39 )



Build 1182 - windows
* For great Justice, someone set up us the Windows build!
* Link should no longer be able to spawn touch enemies without touching them.
* Fixed the bug where viewing flags on layers were totally wrong. ( Gleeok, 2010-02-23 06:16:42 )

* New Default: Swapped around the pickup sounds for the 'Triforce (Fragment)' and 'Triforce (Whole)' items, which were somehow incorrect.
* New Default: Added back a tile used by the ending cutscene when the 'BS-Zelda Animation' rule is set.
* New Default: Updated the tiles for the Magic Pols Voice.
* Zelda Classic will now use zelda.nsf for the title screen and the ending music. Also, Triforce Pieces with the Cutscene MIDI value set to 0 will use zelda.nsf. But if that file is missing, ZC will fall back on the MIDIs.
* Proposed1st, proposed2nd and proposed3rd now use zelda.nsf for their DMap music.
* Now, ZC will attempt to load extended music files from the directory the quest file is in as well as the assigned Quest Directory. This should remedy some confusion!
* Mac OS X: The default path for loading custom quests is now outside the
* Tile Editor: Now, you'll no longer get Destination Warnings for unimplemented enemies. ( _L_, 2010-02-22 18:59:46 )

* Increased Heart Containers' maxmimum from 16 hearts to 24 in old quests and default data.
* Hopefully fixed crashes related to MP3s and Oggs. ( Saffith, 2010-02-21 22:59:11 )

* Fixed the bug where Link would be frozen in mid-spin if he started falling in sideview while hurricane-spinning.
* ZQuest: Fixed that bug where the cursor disappears in Combo Alias mode. Score!
* Added several Combo Aliases to the New Default tileset.
* The Combo Selector's tooltip now shows the inherent flag of a combo if it has one. ( _L_, 2010-02-21 04:41:02 )



Build 1177 - linux
* Fixed some memory issues that may have been causing problems. I know at least one crash on Linux is fixed. ( Saffith, 2010-02-19 14:39:26 )

* Scripts can read enemies' misc. attributes 11 and 12 now.
* Link should no longer drop his sword if hit when charging or spinning.
* Finally fixed the problem of the cursor going off the right side of text fields in large mode. ( Saffith, 2010-02-18 10:12:02 )



Build 1174 - linux
* High time we had a new Linux build.
* Fixed grave-spawned Ghinis in old quests.
* Link again holds up items correctly in the water.
* BS Patras no longer crash the game. ( Saffith, 2010-02-15 08:17:28 )

* Fixed the bug where Breath weapon-using Walking Enemies had a tendency to fire southwest more often than not.
* Fixed the bug where shop items could be stolen with the Hookshot.
* Made it so that shops won't crash if a script destroys the 'rupee sign' item or shop items.
* Fixed the fix to the bug where it was possible to pick up multiple items from 'Take One Item' and 'Red Potion or Heart Container' room types if the 'Items Disappear During Holdup' rule was unchecked.
* Fixed the bug where Dive Warp and Swim Warp combos weren't working.
* Fixed the bug where Link wouldn't hold up an item collected with an upward-facing hookshot. ( _L_, 2010-02-14 05:52:06 )

* Fixed the this->misc[] bug leftover from last build. ( Gleeok, 2010-02-13 20:22:53 )

* std.zh: ComboAt() has been broken for a while. It's fixed now.
* Enemies' Misc. Attributes 11 and 12 should stay set correctly and save now. ( Saffith, 2010-02-13 19:34:07 )



Build 1170 - windows
* Obligatory Warning Message: Change to allegro42.dll. For this reason executables from this build (or higher) will not work with older allegro DLLs. So don't try to copy them around to different folders without including the proper DLL. ..Assuming I've done this right and haven't forgotten anything that is..(*crosses fingers and sacrafices a virgin to Microsoft. "Oh great one, show us the way.")
* Added even more annoying allegro.log traces to help track down a palette grab crash bug.
* Hopefully fixed all the scripting misc[] arrays so they wouldn't truncate to int. ( Gleeok, 2010-02-13 01:40:10 )

* Set chuck_norris=true thus effectively fixing the following bugs with deadly roundhouse kicks. :^D
* ZC: Issue where some non-guys would use SFX 15 when hit
* ZQuest: Ordering of custom item classes is now ordered properly.
* ZC: Odd disappearing Link intro message bug probably fixed.
* Bug where warping DMaps using different subscreens would delay fixing your A - B selected items until you warped again or changed screens. It's fixed.
* Creating relational and dungeon template tiles in ZQuest now makes the visible. ( Which helps alot :P )
* -Also fixed the bug where you couldn't save after creating all those dungeon template tiles.
* ZScript: Finally got around to finishing Screen->DrawString which, using ancient voodoo magic -woooo, can take all or part of a zscript string array as an argument! :O -Then render it using any one of the internal zc fonts and format it in a few different ways. And so, the drawing commands are considered complete for 2.5. Sorry this took so long.
* zscript.txt and std.zh have been updated accordingly. ( Gleeok, 2010-02-12 04:36:04 )

* Enemy Editor: added 2 more misc. attributes for enemies. These are intended for exclusive use by ZScripts using npc->Attributes[].
* Also, unused misc. attributes are now labeled 'Misc Attr. 2' and such, rather than '<Unused>'.
* Fixed the bug where Pols Voices could have damage knockback. (I checked, and apparantly they shouldn't.) ( _L_, 2010-02-11 09:48:48 )

* Fixed cursor and checkmark position in the CSet editor.
* Fixed (correctly, I think...) the issue where the colors used for transparency would sometimes suddenly change to less accurate ones. ( Saffith, 2010-02-10 11:18:51 )



Build 1164 - windows
* New Windows build! -Tweaked slightly some minor compiler settings. If there is any difference in frame rate from the previous build let me know.
* Romview: Completely disabled the -scale commands as they were completely broken and would do bad things. Very bad things indeed. ( Gleeok, 2010-02-07 21:53:01 )

* Fixed the Patra and BSPatra crash when odds were zero.
* Fixed possibly the Moldorm custom death SXF inselectablllity.. uhh thingy.
* Fixed the Autosave Combos, which should actually work now.
* Fixed the bug where Aquamentus fireballs did not obey the new SFX rule.
* Fixed the bug where picking up items, or some other cases where ZC checks subscreen items, would screw up your selected A - B equipped items. ( Gleeok, 2010-02-07 20:56:11 )

* Small fix to the previous Fire Gleeok neck fix.
* Fixed Dodongo CSet in some old quests. ( Saffith, 2010-02-07 09:45:08 )



Build 1161 - macosx-Leopard
* Large Mode: enlarged the Edit CSet dialog, the Palette Editor dialog, the New Subscreen dialog, and hopefully all of the options dialogs in the Subscreen Editor.
* Fixed the bug where selecting multiple tiles in the Tile Editor and changing them to 8-bit would often alter the wrong tiles.
* Large Mode: Changed the names of the commands 'Main', 'Levels' and 'Sprite Colors' to 'Palettes - Main', 'Palettes - Levels' and 'Palettes - Sprites'. ( _L_, 2010-02-07 02:02:23 )

* Fixed the Dodongo and Digpuppies SFX bugs. ( Gleeok, 2010-02-05 22:19:35 )

* Fixed a bug with the menu in ZC and also tweaked it a little.
* Put some functions into std.zh: SetScreenDBit() and GetScreenDBit(), as well as some others courtesy of Joe123. ( Gleeok, 2010-02-05 21:38:23 )



Build 1158 - linux
* Fixed Fire Gleeoks' necks in default data and old quests.
* Also fixed their failure to breathe fire in old quests.
* Default SFX names are now set correctly for old quests. ( Saffith, 2010-02-04 14:09:44 )

* Fixed the bug where Lanmolas with more than 253 segments would cause a crash.
* Also, now Lanmola, Gleeok, Patra and Moldorm segment counts are internally capped at 254 (which, plus the central enemy, makes 255, the maximum amount of permitted enemies). If there are already too many enemies onscreen at the time, then the boss is simply not created.
* Fixed the bug where the 'Armos (NES)' animation type wasn't working right for hastened Armoses.
* Changed the 2009 copyright to 2010. http://bit.ly/b91UFI ( _L_, 2010-02-03 22:32:01 )

* Fixed a crash in the DMap editor.
* Fixed a possible minor issue with fairies.
* Changed the level 1 locked door glitch in proposed1st.qst a bit. Should be just right now. ( Saffith, 2010-02-02 15:18:32 )

* Fixed a few potentially fatal bugs that might occur trying to copy, paste, or undo across multiple loaded quest files. This is no longer possible. That's what the export map function is for!
* For future compatibility with 2.6, Quad3D and Triagle3D are now simply Quad and Triangle. ( Gleeok, 2010-02-01 15:28:44 )



Build 1154 - windows
* Part 2 :P
* [ZCL] The source code has been updated for Lazarus 0.9.28.2. I was still using 0.9.22 so it needed updated so that means I'm also using the new fpc compiler. ( Sean, 2010-02-01 04:58:47 )

* [ZCL] Corrected some issues pertaining to the window scale modes. The were not showing up like it was supposed to.
* [ZCL] Images on the right side of the color scheme chooser was not supposed to be there. Now gone. A whoops on my part.
* [ZCL] Stripped out old code that wasn't being used there. It was just there for backup purposes. ( Sean, 2010-02-01 04:54:14 )



Build 1152 - linux
* The linux builds need more loving :P A new build for linux ;) ( Sean, 2010-02-01 03:41:51 )



Build 1151 - windows
* Added extra debugging code to the exit routines of zquest and zc.
* "-triplebuffer" option is now also available via command line. ( Gleeok, 2010-01-31 23:48:17 )

* Screen->Message() now respects the default text speed.
* Fixed boomerang movement after picking up an item LttP-style. ( Saffith, 2010-01-31 13:26:16 )

* Fixed a bug where script arrays would not be allocated properly. ( pkmnfrk, 2010-01-28 16:58:48 )

* Changed the way Link->InputMouseX/Y work: Now, the origin of the mouse is the top-left corner of the playing field, rather than the top-left corner of the window. The subscreen exists at negative Y values.
* Twiddled with the start-up code a bit to try and reduce the chance that the programs will crash BEFORE printing out a useful message. Would be best to eliminate crashes altogether, but let's take it one step at a time ;) ( pkmnfrk, 2010-01-28 15:44:41 )



Build 1145 - macosx-Leopard
* Large Mode: enlarged the DMap Editor.
* Integrated the Armos into the 'Walking Enemy' family. They use the 'Armos' Walk Style and their Misc. Attribute 10 determines the alternative step speed they can use.
* Enemy Editor: Added an option to select the spawn animation for Walking Enemies. Its options are 'Poof' (used by most enemies), 'Flicker' (used by Armos and phantom Ghinis) and 'Instant' (the enemy instantly appears). These are used in all cases except when enemies Enter From Sides.
* Now, all non-phantom Ghinis are Walking Enemies, and all enemies in the Ghini family are phantoms. You might seem unsure of this, but rest assured that this is correct.
* Enemy Editor: Removed the unused enemy families from the list, as well as the Fairy and Guy types. Also, other options unusable with the current enemy family are disabled.
* Rule Sets: removed 'Invincible Link Flickers' from the 'Zelda 3-esque' ruleset. ( _L_, 2010-01-28 07:18:22 )

* ZQuest: Possibly fixed a few issues where there might have been a hang or crash on exiting zquest. (Hopefully) there are no side effects from this and zquest is getting more and more stable.
* Optimization: Fixed an issue where the drawing commands were doing extra allocations. The net result is that anyone using a lot of drawing functions should see a noticable performance increase from this. ( Gleeok, 2010-01-28 06:37:18 )

* Fix the bug where disabling the Hover Boots, wouldn't. Also potentially fixes other potential cases where disabling items doesn't work to it's full... potential. ( pkmnfrk, 2010-01-27 18:15:57 )

* Finally fixed the bug where you could not have a negative constant in ZScript. (Gleeok was right, this was more difficult than it sounds)
* Added support for "empty" declared arrays. That is, the following construct:<br><pre>int myarray[] = {1, 2, 3}</pre><br>The result is an array that is three elements long. Good news: Less maintenance to update arrays. Bad news: No sizeof() operator... yet.
* Also, you can do the same thing with strings:<br><pre>int mystring[] = "ZScript is fun!"</pre>
* Do note that strings declared in this manner will get an extra 0-filled element at the end (to terminate the string). Regular arrays will not, however. ( pkmnfrk, 2010-01-27 17:25:05 )

* Fixed the bug where you may not of been able to have multiple instances running.
* Now in the config file you can set another variable 'triplebuffer', which will always try to run zc using video memory when set, which may or may not be what you want to do. This is set to disabled in windowed mode by default. If you are wondering, the doublebuffer setting located right above it takes precedence so there's no point in changing both. ( Gleeok, 2010-01-26 05:06:07 )

* Fix the bug where eweapon->Step and lweapon->Step were returning totally bogus values.
* Fix the bug where allegro.log would sometimes get padded with tons of nulls. While we're at it, perhaps we should have separate logs for Zelda Classic and ZQuest?
* Finally, I (presumably) figured out how to have more than one item show up in the change log. ( pkmnfrk, 2010-01-25 18:05:30 )

* I've tied up some loose ends with regards to the enemy Defenses update. Now, Aquamentuses, Manhandlas, Gleeoks, Gohmas and Patras can use Defense values too. A note about Patras: the central core eye uses the same Defenses as the orbiting eyes, but any weapon that would do damage is ignored unless all orbiting eyes are slain. A note about Gohmas: after Defenses are checked, any weapon that would do damage is blocked if it isn't fired vertically at the Gohma's open eye.
* Enemy Editor: added labels for Aquamentus, Manhandla and Gohma misc. attributes.
* Enemy Editor: in addition to a background sound, you can now edit the enemy's Hit Sound and Death Sound, which are played when the enemy is hit and slain, respectively.
* Also, Defense dropdown menus are disabled for enemies that don't use Defenses, and the respective Anim. Type dropdown menu is now disabled depending on the setting of the 'New Enemy Tiles' quest rule.
* Fixed the bug where the Gohma 4's default weapon was Fireball instead of Flame.
* Fixed the bug where the hookshot could sometimes shoot through Hookshot Grab combos on layers 1 or 2.
* std.zh: Sanitised ComboAt() so that it restricts X and Y to the visible screen. ( _L_, 2010-01-25 08:54:37 )

* Added "Doesn't count as beatable enemy" to the Boulder enemy ( pkmnfrk, 2010-01-24 22:49:12 )

* Stripped all default wizzrobes of their "Not counted as beatable enemy" status, and gave it to all traps! ( pkmnfrk, 2010-01-24 21:44:05 )

* Fixed the bug where the Ring's magic cost was being charged twice, thus doubling its magic usage.
* Fixed the bug where FFCs in screens 0x80 and 0x81 with the 'Run Script On Screen Init' wouldn't have their scripts run before the screen was drawn.
* New Default: Fixed the Bait's default Duration value.
* Changed the Dodongo's CSets in the proposed quest files from 8 to Extra Sprite Palette 2.
* Fixed the bug where Link could be moved out of a Like Like or other enemy that had swallowed him.
* Hopefully fixed the bug where grabbing a screen item with a vertical hookshot while the Hold Up Item Screen Flag set wouldn't let Link hold up the item.
* Fixed the bug where a Walking Enemy with Vire-type movement that ate Link in mid-jump couldn't be attacked by Link. ( _L_, 2010-01-23 06:23:57 )

* std.zh: Added Lerp(), TurnTowards(). Working with angles should be a little easier now.
* Also added some functions by Joe123: SwapTileRow(), SwapTileBlock(). CopyTileRow(), CopyTileBlock(). ClearTileRow(), and ClearTileBlock(). ( Gleeok, 2010-01-22 19:43:03 )

* Fixed a bug where Walking Enemies with a Misc. 10 value greater than 0 wouldn't use their Defenses or Misc. Attributes correctly.
* Fixed the bug where using the sword, then pressing the button for an Item Override item while it is slashing, would glitch the sword's sprite and other attributes.
* Fixed the bug where the Boomerang wouldn't use its Range value properly if its weapon sprite was set to something other than the default.
* ZScript: Added npc->Stun, which is the number of frames that the NPC will be stunned. You can read or write this value. Some types of enemies can't be stunned, or behave differently when stunned - for instance, the Dodongo becomes vulnerable to swords.
* ZScript: Added npc->Defense[], which is an array of the NPC's Defense values. You can read or write these values, so go wild. ( _L_, 2010-01-21 20:20:03 )

* ZQuest: Fixed the palette editing menus so that it allows you to save after editing palettes, names of level palettes, or anything related to palettes. In fact, if you exit the menu without changing anything please do not consider it a bug that you now have the option to save your quest file.
* Insert/Clear in the combo editor is now Insert/Remove. Swapped "Clear" with "Delete" which was backwards in the right-click menu, and _L_ added some warning messages if you try and Insert/Remove mass combos. ( Gleeok, 2010-01-19 00:53:41 )



Build 1129 - windows
* Fixed the bug where changing Link's direction with a script wouldn't properly dispose of Hookshot sprites.
* Fixed the bug where a Fire Gleeok's weapon would always be Flame regardless of the setting. (But, a Gleeok with a Breath shot type but no weapon will use Flame by default.)
* Enemy Editor: fixed the Gleeok's Shot Type labels.
* Fixed screen (2,6D) in proposed2nd.qst.
* std.zh: Removed the NPCT_ entries for deprecated enemy types. ( _L_, 2010-01-16 00:35:46 )

* Fixed the bug where setting a Whistle item's Warp Ring to -1 wouldn't prevent the whistle whirlwind from appearing when said item was used.
* DMap Editor: Fixed the bug where the Map selectors were drawn incorrectly in Large Mode.
* Fixed the bug where Link couldn't be killed by picking up an item that lowers Link's health.
* ZScript: Sanitised the Game->GetComboData() and related functions so that a crash won't occur if zero or negative map or screen values are passed.
* New Default: fixed the default Boomerang weapon sprites. They now use Corrected Animation. ( _L_, 2010-01-14 02:39:16 )

* Fixed old quest compatibility issues with unwalkable doors, fairy guys in dungeons, and the Lens of Truth. ( Saffith, 2010-01-11 12:58:35 )

* std.zh: Reverted the recent fix to Angle() and RadianAngle(). It turns out that the real bug was with the VectorX() and VectorY() functions. These have been fixed!
* Fixed the bug where the ladder would sometimes appear even though Link did not possess it.
* Fixed the bug where tribble-type enemies would sometimes not change at the right time. ( _L_, 2010-01-11 06:55:09 )



Build 1125 - linux
* Fixed a quest loading bug that cropped up in build 1124. Use this one instead. ( Saffith, 2010-01-09 22:09:15 )



Build 1124 - linux
* Fixed a crash when the working layer was disabled.
* New Linux build. ( Saffith, 2010-01-07 14:23:27 )



Build 1122 - macosx-Leopard
* ZScript: changed the implementation of HitYOffset. Previously it included the screen's subscreen offset value (which is 56, or 0 if the No Subscreen screen flag is set). Now, getting and setting HitYOffset won't affect this.
* ZScript: changed the implementation of Game->GetComboData() and such, as well as Game->GetCurMap(), such that maps are now counted from 1 upward rather than 0 upward. That was getting too confusing. (Note also that Game->GetLayerMap() already did it this way.)
* std.zh: Fixed the code of Angle() such that 0 degrees again refers to a right vector rather than (as it was recently) an upward vector. Also fixed the documented direction from clockwise to counterclockwise, and added AngleCW() and RadianAngleCW() for those who still need clockwise angles.
* std.zh: Fixed the WPN_ constants, which were all incorrect.
* Subscreens: Fixed the bug where Current Item elements in a passive subscreen wouldn't be updated as soon as Link grabbed the related item.
* Enemy Editor: added a Walking Enemy Touch Effect, 'Eat (Damage)', where the enemy eats Link and Link constantly takes damage from the enemy, equal to the enemy's Damage value. Link also takes damage from other enemies while this occurs. ( _L_, 2010-01-05 07:18:26 )



Build 1121 - windows
* Fixed the bug I caused while fixing the random crash on exit bug, which would (yeah, you guessed it) crash the player on exit. Ugh... My apologies. Everything should be fixed now. It is recommended to upgrade to the current build if you are using 1119. ( Gleeok, 2009-12-30 22:33:31 )



Build 1120 - macosx-Leopard
* Fixed the bug where Link tapping his sword wouldn't reveal, through the tapping sound, Bomb combo flags on layers.
* Presumably fixed the bug where the 'Show FF Scripts' cheat still showed script names after quitting a quest.
* Boots now have a misc. flag: 'Not Solid Combos'. If set, the boots don't protect against solid damage combos.
* Quest Rule: Hookshot Grab Combos Work On Layers 1 and 2. ( _L_, 2009-12-29 09:59:53 )



Build 1119 - windows
* New Windows Build. ++Documentation. ( Gleeok, 2009-12-28 22:48:01 )

* Possibly fixed a slight oversight which may have caused zc to crash sometimes on exit on certain hardware. ( Gleeok, 2009-12-28 21:56:48 )

* ZScript: Added Screen->Spline(layer,x1,y1,x2,y2,x3,y3,x4,y4,color,opacity) which draws a cubic bezier curve on the given layer starting at (x1,y1), interpolating between the tangent vectors (...), and ending on (x4,y4). Fun stuff. This certainly won't be the last of the parametric curve functions to make it's way into zscript.
* Seeing how DrawTile is about the most used scripting function, and already it is not uncommon to see entire screens rendered entirely with drawtiles, I've added a couple of nice subsets to these - Screen->FastTile() and Screen->FastCombo(), (int layer, int x, int y, int tile, int color, int opacity), which, are much easier to remember the arguments for, for one, and are a reasonably faster speed than thier Draw*() counterparts. A pre-emptive strike for those who want to draw changeable layers with scripts perhaps (or something else that requires hundreds of calls to you know what). ..What, nobody thought of that yet? ( Gleeok, 2009-12-28 05:05:40 )

* ZScript: Added Link->LadderX and Link->LadderY, read-only variables which are the X and Y positions of Link's stepladder.
* Added the NES fix quest rule 'Allow Ladder Anywhere'.
* Changed the screen flag 'Allow Ladder in Overworld' to 'Toggle Allow Ladder Anywhere'. Its behaviour is the same unless the aforementioned quest rule is changed.
* Added the combo type 'Tall Grass->Next'.
* Subscreen Editor: fixed the 'Bring Forward' and 'Send Backward' Arrange menu items. 'Bring to Front' and 'Send to Back' remain forthcoming.
* Enemy Editor: fixed the bug where some Misc. Attribute boxes wouldn't accept any text. ( _L_, 2009-12-27 03:04:03 )

* Fixed the bug where Bait lweapons reacted oddly to enemy shields.
* Fixed the bug where pre-Enemy Editor quests' enemies weren't updated correctly.
* Fixed the bug where Link's sword was sometimes positioned incorrectly. ( _L_, 2009-12-23 06:31:17 )



Build 1114 - macosx-Leopard
* Fixed, properly, the bug involving Link drowning while charging his sword.
* Fixed the Boots. Now, as it should be, a power of 1 refers to 'Damage (1/2 heart)', a power of 2 refers to Damage '(1 heart)', and so forth.
* Default Template: Fixed some of the default weapon sprite settings for Din's Fire and Nayru's Love.
* Default Template: Magic Pols Voices now have the One-Hit-Kill defense for reflected magic. Feel free to apply this to your quests if you wish.
* Default Template: Changed the default Nayru's Love shield sprite slightly. ( _L_, 2009-12-17 08:28:53 )

* Welcome to the first official Scripters Choice Awards. (Drumroll please..) And the winner by a large margin goes to: ..."Why can't we check if Links HP is less than or equal to zero?" -Well now you can. Sorry that this was neglected for so long.
* Remedied a few typos in std.zh. ( Gleeok, 2009-12-17 00:08:50 )



Build 1112 - windows
* Fixed the parser bug where '&&' sometimes wrongly returned true.
* Fixed the bug in the last build where wands and hammers' animations broke.
* Fixed the item position square in Small Mode.
* Presumably fixed the bug where Boomerangs' and Hookshots' block and reflect flags didn't quite work if they were Item Override weapons.
* Item Editor: now, the Select Item window shows the ID and Power of the currently selected item.
* Enemy Editor: repealed the change that disables unused enemy misc. attributes, because of the possibility of scripts making use of unused values for their own purposes.
* std.zh: added several constants related to Walking Enemies' attributes.
* ZScript: renamed npc->D[] to npc->Attributes[]. This is just an act of prudence on my part - in the distant future, if NPC-specific scripts are ever implemented, then surely the NPCs would have to be given a D[] array of default script arguments, as is consistent with items. This renaming today is to prevent such a conflict later. ( _L_, 2009-12-14 00:23:54 )



Build 1111 - windows
* The Projectile enemy family now has the same Shot Type attribute as the Walker family. And, it shoots fireballs correctly now.
* Fixed the bug where, when changing direction while slashing, Link's sword weapon became desynchronised with Link's direction for one frame. This resulted in Darknuts being stabbed through their shields. No more!
* Fixed the bug where the Door Repair room type didn't work if the 'Special Rooms And Guys Are In Caves Only' DMap flag was unset.
* Enemy Editor: now, unused misc. attributes' input boxes are automatically disabled. ( _L_, 2009-12-10 09:21:59 )



Build 1110 - windows
* Fixed the bug where fire-breathing Octoroks' Shot Type was being set to '1 Shot' instead of 'Breath'. Sorry. If your quest file was affected, simply fix it manually.
* Fixed the bug where Breath firing Walking Enemies wouldn't use their Death Attribute 1 correctly.
* Now, the 'Place + Edit FFC' right-click menu item automatically sets the placed FFC's combo and cset to that of the currently selected combo and cset.
* Enemy Editor: Added a 'Set All' button to the Defenses pane that lets you set all of the Defenses to a certain value instantly. ( _L_, 2009-12-05 23:09:06 )



Build 1109 - macosx-Leopard
* Fixed the bug where Pols Voice shadows were misaligned when their Step was greater than 50.
* Fixed the bug where various assorted projectiles ignored Walking Enemies' shields.
* Enemy Editor: added misc. attribute labels for Digdogger, Patra and Gleeok. Also, for convenience, the Select Enemy list now shows the enemy's ID as well as HP and Damage.
* Now, the icon for the item position square shows the tile of the screen's item if there is one. It's convenient if the item is hidden beneath some layers...? ( _L_, 2009-12-05 03:33:32 )



Build 1108 - windows
* Fixed some problems with the previous build.
* Fixed a bug that prevented the 'Summon' Shot Type from working unless instance of the summoned enemies were already present. ( _L_, 2009-12-04 07:18:41 )



Build 1107 - windows
* Fixed the bug where Bubbles, Traps and Rocks wouldn't have the 'Doesn't Count As Beatable Enemy' flag set. Sorry.
* Fixed the bug where the Aquamentus's fireballs moved in the wrong directions.
* Subtly fixed the Darknut's shield's hit detection.
* ZC: Fixed the bug where the Fullscreen menu item wasn't always checked correctly. ( _L_, 2009-12-04 06:47:48 )



Build 1106 - windows
* Fixed a bug where some Link weapons, such as piercing sword beams or script-created arrows, were behaving slightly incorrectly.
* Fixed a bug where the Death Attributes of Zols (but not Zol Tribbles) were being set incorrectly. Sorry.
* std.zh: added HitboxLeft(), HitboxRight(), HitboxTop(), and HitboxBottom(), which return the coordinate of the appropriate edge of the hitbox of the lweapon, eweapon, item or npc passed to it. ( _L_, 2009-12-04 05:46:54 )



Build 1105 - windows
* Windows version of 1104. ( Gleeok, 2009-12-04 02:31:37 )



Build 1104 - macosx-Leopard
* Some have expressed interest in those Enemy Editor improvements I announced, and eventually postponed, two years ago. Now, here's one part of those changes, isolated and refined. I've tested it quite thoroughly these past several days, but it's just me - so do examine it yourself.
* I've combined the Walking Enemy, Walker and Shooter, Gel, Gel Tribble, Zol, Zol Tribble, Rope, Goriya, Bubble, Vire, Vire Tribble, Like Like and Pols Voice enemy families into a single type: 'Walking Enemy'. (The old families are now labeled 'Unused' and will be removed later.) You can now combine some of their abilities (such as 'split into enemies', 'dash toward Link' and 'jinx on hit'). Their Misc. Attributes are changed, but, just for this enemy type, the Enemy Editor now properly labels each attribute and has dropdown menus for some of them. For complete information, go to http://www.shardstorm.com/ZCwiki/Walking_Enemy
* In order to incorporate the Pols Voice and Darknut families, I added a new Enemy Editor pane called Defenses. Enemies now have Defense values for each type of lweapon which affect how they react to the weapon (for instance, 'block', 'stun instead of taking damage' or 'die instantly'). These apply to every enemy family EXCEPT: Traps, Rocks, Dodongos, Aquamentuses, Gohmas, big Digdoggers, Ganons, Manhandlas, Gleeoks and Patras. Also, Peahat defenses only apply when it is grounded.
* In the case of the Darknut's shield, I've reinstated the 'Shielded in Front', 'Shielded in Back', 'Shielded On Left' and 'Shielded On Right' enemy misc. flags.
* In the case of the Bubble, I've added the oft-suggested 'Doesn't Count As Beatable Enemy' enemy misc. flag. It affects shutters, the Enemies->Secret screen flags, and such.
* Vire and Pols Voice enemies now have functional random rates, halt rates, homing factors and such.
* Deprecated the '1.90 Tribbles' quest rule. Quests will be updated with enemy misc. attribute values to match their original preference.
* Deprecated the 'Darknut Shields Can Be Broken With The Hammer' quest rule, replacing it with the enemy misc. flag 'Hammer Can Break Shield'.
* The 'Pols Voice (Magic)' enemy is now available.
* Fixed the 2.10 (or whenever) bug where the Hookshot couldn't ever stun landed Peahats.
* npc->MiscFlags[] has been updated accordingly. ( _L_, 2009-12-03 05:22:51 )

* Editing the button configuration via the controls menu should no longer crash zc. ( Gleeok, 2009-11-26 02:15:51 )

* Fixed some incorrect Item Editor labels.
* New Default: fixed the default weapon sprites for the Hookshot.
* Large Mode: two of the Whistle-related Screen Flags are now shown in Screen Info.
* String Editor: added a button entitled 'Next in List' - when pressed, it sets the current string's 'Next string' to that of the string immediately after it in the list.
* Quest Reports: now, the Enemy Locations report lists enemies in alphabetical order.
* Replaced some built-in MIDIs with better versions done by someone called Hypercrash and slightly modifed by me. (Wasn't this intended to be done earlier?) ( _L_, 2009-11-24 22:47:06 )



Build 1101 - macosx-Leopard
* Fixed the bug where the 'Hitboxes' entry in the Show/Hide cheat menu wasn't ever check-marked.
* Fixed the Lens magic / Item Override fix.
* Fixed the bug where grabbing tiles from a .qst file would reset the Sound FX names.
* ZQuest: Renamed 'Ocean Sound' to 'Ambient Sound'. And, now the screen's Ambient Sound is listed in Large Mode's Screen Info. ( _L_, 2009-11-21 06:51:10 )

* Fixed bug Fixed the bug involving the font for drop boxes in large mode changing, causing potential crash errors when using the mouse wheel afterwards. ( jman2050, 2009-11-16 10:09:38 )



Build 1099 - windows
* Large Mode: at last, a great wrong has been righted. Added a panel to the main display that shows, at a glance, the sprites of the enemies in this screen's enemy list.
* Possibly fixed the bug where the lens's magic cost was forgotten when an Item Override weapon was used.
* Tile Editor: Fixed the bug where deleting tiles and pushing 'U' (Undo) wouldn't update the blank tile hiding.
* Item Drop Set Editor: Now, the editor shows the percentage chance for each item's appearance, given the entered values.
* Enemy Editor: Fixed the Gleeok's tile preview again. ( _L_, 2009-11-14 23:41:32 )

* Fixed the all too long withstanding bug where putting a door (or not) on a screen would always override whatever combos happened to be in any of the four door locations regardless if you changed them or not.
* Hopefully Pow() works now.
* Tinkered with a few other things, either fixing them or updating them to reflect 2.5 functionality...(To be honest, I simply forget what they are...they were all minor issues anyway, I'm sure) ( Gleeok, 2009-11-14 05:59:04 )

* Fixed a corruption in the item editor which may of caused it to crash inexplicably.
* Fixed a possible minor memory leak in the player. A nice little bi-product of this fix is now when triple buffer is disabled due to gfx mode changes to an unsupported environment, triple buffering can be reinstated to its former glory after any amount of subsequent calls to change the screen mode, instead of permanently disabling it. In short: triple buffering whenever applicable...Unless that is:
* Added a new command-line option "-doublebuffer" to ZC. This will permanently disable the use of video bitmaps, or triplebuffering. Could be useful for legacy cards (or) when one couldn't run zc in fullscreen mode, perhaps due to false positives or other mysterious circumstances. By the same token this option is now also located in the ag config file for convenience. ( Gleeok, 2009-11-12 04:22:03 )

* Wasted a lot of time by making the ZScript parser possibly 10% more efficient. Good prioritising, me.
* Some ZASM codes: SETTRUE (1 register operand - sets to 1 if the TRUEFLAG is set, else 0), SETFALSE, SETMORE and SETLESS (sets to 1 if the TRUEFLAG is set or the MOREFLAG is not). These are useless to ZScript coders, so y'all just ignore 'em.
* ZQuest: Removed the 'Default' rule set, since no one really knows what it ought to contain. The remaining 4 sets are sufficient. ('Zelda 3-esque' is now the initally selected radio button.)
* Added the 'Link Drowns in Walkable Water' to the 'Zelda 3-esque' rule set. Choosing it will make all of the water tiles in the template walkable. Also, 'Rings Affect Damage Combos' is now on for all rulesets.
* Default Template: fixed some bugs, made a few more tiles, added combo cycling, BS Grave, Step->Next (All), Step->Next (Copycat), Step->Secrets and Block Hole examples, and added limited Sideview and NPC combo sections. ( _L_, 2009-11-10 09:31:25 )



Build 1095 - windows
* ZQuest: Added a 'Combo Locations' menu item to the 'Select Combo' dialog's right-click menu.
* Now, ZQuest's P hotkey no longer belongs to the 'View Pic' menu item, but to a 'Scroll to Page' feature which scrolls the current combo selector to the appropriate combo page. Convenient for those tilesets with 100 or so pages of combos. ( _L_, 2009-11-09 09:13:22 )



Build 1094 - macosx-Leopard
* Fixed some arithmetic that made the counter-modifying string control codes not work.
* New Default: added the multi-directional enemy tiles that I think someone called Master of Power created. (Hey, didn't DN say he was gonna add these back in 2007?)
* Now, when you push a secret-state-setting push block, the 'Secrets' Screen State is set as soon as you start pushing the block, rather then when the block stops moving. ( _L_, 2009-11-07 08:38:29 )

* Fixed the bug where loading the last timed save after a ZQuest crash... would crash ZQuest.
* Fixed the bug where it was possible to pick up multiple items from 'Take One Item' and 'Red Potion or Heart Container' room types if the 'Items Disappear During Holdup' rule was unchecked.
* ZQuest: Renamed 'Template' to 'NES Dungeon Template' and 'Re-apply template' to 'Apply Template to All'. An explanatory note has been added to the NES Dungeon Template dialog.
* Also, the Screen Enemy Flag 'Enemies Carryover In Warps' has been renamed to 'Sprites Carry Over In Warps' to properly reflect its actual functionality, and moved to the Warp category. This changes the behaviour of the ZScript variables Screen->EFlags[] and Screen->Flags[] somewhat. Be sure to update your scripts.
* Quest Reports: added the Combo Locations Report. Instantly find out how many 'Pound' combos or 'Push (Very Heavy)' combos you've used!
* New Default: changed the default water combos to use animated tiles, changed the CSets of Rope (L2) and 'Octorok (L4)', and fixed the default tile of 'Spinning Tile (Enemy Sprite)'.
* New Default: added a few 8-bit tile examples to the default tiles and combos, so that new users are aware of that feature.
* std.zh: Added ScreenCopy(), which copies the combos and csets from one screen into another screen. ( _L_, 2009-11-05 21:14:35 )

* Hopefully fixed a bug where Link's sword wouldn't vanish if he drowned while using the Spin Attack.
* std.zh: Added GetLayerComboT(), SetLayerComboT(), LastComboTypeOf(), and FirstComboTypeOf(). ( _L_, 2009-10-30 07:52:07 )

* Fixed a bug with the 'Dark Rooms Stay Lit Only While Fire Is On Screen' quest rule, where it would assume that only one fire weapon was onscreen when changing lighting.
* Fixed a bug where script-generated bombs wouldn't damage Link correctly.
* ZScript: sanitised Game->GetComboData() amd Game->SetComboData() so that it no longer crashes when given bad screen or map values.
* Corrected zscript.txt with respect to the Flip values of items and weapons. (Apparantly 1 is horizontal?)
* Increased the MIDI name limit from 20 to 36 characters. ( _L_, 2009-10-27 06:02:59 )



Build 1090 - macosx-Leopard
* ZScript: Fixed Game->GetComboData() et. al. so that they work properly when dealing with screens currently being used as layers.
* std.zh: Added LastComboOf() and LastComboFlagOf(), as well as AngleDir8() and AngleDir4(), which take a clockwise angle and convert it to one of the 8 or 4 standard ZC directions (DIR_UP etc.)
* Default Template: fixed the names of the unused items, enemies and weapons. Now, they follow the name format 'zz###' consistently.
* Default Template: now, the Fire Trail and Ice Magic weapon names have '<unused>' appended to them. This will remain the case until the day they actually are used.
* Default Template: added an initial delay to the Rupee animations, and changed the Clock's animation, added a Roc's Feather animation, and changed the colours of the 10, 20, and 200 Rupees to be yellow, deep red, and orange, respectively.
* Added a preview pane to the Select Weapons/Misc Sprites dialog.
* Now, pressing Return/Enter on ZC's name entry screen without entering a name will cancel the name entry process. ( _L_, 2009-10-25 01:12:43 )



Build 1089 - windows
* Fixed a bug where quests made with builds earlier than build 411 (including quests made with the 'Lost Isle Build') had malfunctioning ZASM scripts, due to 411 changing the function of the ZASM command GOTOLESS from '<' to '<='. Previously I had dismissed such a fix as impossible! But now I've done it using Highly Unorthodox Techniques to identify which build a quest was made in (which, due to insufficient ZQuest bookkeeping in those builds, isn't directly possible).
* What this means, though, is that quests made in those builds will continue to use the legacy version of GOTOLESS (that is, one which functions as '<' rather than '<=') even if you open and save them in the current ZQuest build. However, thanks to some quite minor compiler-jiggering, ZScripts added to such quests from now on will be compiled such that they use a correct implementation of inequality operators (<, >, <=, >=) regardless of all this.
* Fixed a bug where quests made with builds earlier than build 277 (including quests made with the 'Lost Isle Build') had Pols Voice enemies with incorrect Step values. This is brought to you by another Highly Unorthodox Technique, one that you don't have to worry about. ( _L_, 2009-10-23 22:15:01 )

* Fixed the bug where having an infinite Bomb Bag without any actual Bomb ammunition would prevent you from using Bombs or Super Bombs.
* Fixed the bug where Slash->Next combos sometimes created items.
* Sideview: Fixed the Y position of falling Bomb/Bait/Fire weapons. ( _L_, 2009-10-22 22:40:16 )

* ZScript: Fixed the PressAxis functions, which were setting the current input state instead of the press state.
* All the input press functions under the Link pointer are now simply ->Press* instead of only some.
* Also fixed the compiler warnings associated with these. Now they should all compile and work as documented.
* Updated zscript.txt. ( Gleeok, 2009-10-18 13:41:06 )



Build 1086 - windows
* A new build. Don't forget what I said about hitboxes before you report bugs about them!
* Fixed the bug where the Triforce items' default values were incorrect.
* std.zh: added some shortcut routines for getting/setting combos on the current layers, and a LinkCollision() routine for FFCs.
* ZQuest: added the Enemy Locations quest report, which lists every screen that a certain type of enemy appears in. ( _L_, 2009-10-18 10:51:50 )



Build 1085 - linux
* Small change to the enemy editor. Everything works as it should now, probably.
* Fixed a possible buffer overflow in the drop set editor.
* Seems like it's about time for a new Linux build. ( Saffith, 2009-10-16 21:36:12 )

* std.zh: Added LoadLWeaponOf(), LoadEWeaponOf() and LoadNPCOf(), which provide a pointer to the first sprite of a certain ID or type - the first LW_SWORDBEAM, for instance. Also added FirstComboOf() and FirstComboFlagOf(), which returns the location of the first onscreen combo or flag, and Duplicate(), which duplicates the lweapon or eweapon passed to it. ( _L_, 2009-10-15 07:36:14 )

* Fixed the bugs in std.zh in the previous build.
* std.zh: Changed Collision() so that you can pass FFC pointers to it, and check collisions between FFCs and NPCs, or FFCs and other FFCs. It uses TileWidth and TileHeight for the FFC's box. Also: Split CollisionAABB() into RectCollision() and SquareCollision2(), and made SquareCollision() and CircleCollision(), which registers collisions between two squares and two circles, respectively.
* Enabled the hitbox display debug code. Apparantly we always had hitbox display debug code, but everyone forgot? But anyway, it's a level 4 cheat under the Show/Hide submenu. Check it to make Link, NPC, weapon and item hitboxes visible. I just want to note RIGHT NOW that most all of the default hitboxes for items and weapons are bizarrely shaped or counterintuitively offset DELIBERATELY as mandated by either The Legend of Zelda or ZC 2.10. Okay! ( _L_, 2009-10-14 23:31:06 )



Build 1082 - windows
* Spot cleaned up a few loose ends and compiled a new Windows Build. Yay.
* Added some general purpose overloaded CollisionAABB() functions to std.zh.
* Fixed up DrawInteger() (It works now) and realized I didn't document it so here you go: Screen->DrawInteger(layer, x, y, font, color, bg_color, scalex, scaley, float_to_print, num_decimal_places, opacity); ( Gleeok, 2009-10-14 02:48:14 )

* ZScript: Added Screen->DrawInteger(), which pretty much does the same thing as DrawCharacter except with an integer. Can display the number up to four decimal places.
* Added Randf() and Rand2f() as Rand() and Rand2() counterparts. These return a floating point number instead of an int. ( Gleeok, 2009-10-14 00:42:48 )



Build 1079 - macosx-Leopard
* Added some more functions to std.zh. Cond() returns one of two specified results depending on a boolean - it's a bit like an 'if...else' in a single command. Choose() returns one of its arguments, selected randomly and fairly. Angle() is both syntactic sugar and a helper for those who don't know how to use ArcTan to find the angle of a line between two points. VectorX() and VectorY() split a distance and angle into X and Y lengths. Collision() returns true if the hitboxes of the two arguments intersect. It accepts any item, lweapon, eweapon or npc pointer as either of its two arguments. LinkCollision() works similarly, but note that it ignores all of Link's attributes except his hitbox.
* ZScript: Now, if you set an airborne NPC's Tile Height to something larger than 1, its shadow will be drawn beneath all of the tiles instead of just the top row.
* Fixed the bug where it was impossible for enemies with a frame rate of 0 to obey gravity.
* Fixed the jumping physics in a respect - now, a sprite's Jump variable is no longer cast to an integer within the game engine, leading to bizarre linear jump velocities, especially when the quest's Gravity is low. File this under 'things I most definitely shoulda done two years ago'.
* Fixed the bug where having a Maze Path exit to a room outside the DMap would let Link enter invalid screens. ( _L_, 2009-10-13 08:52:01 )

* Fixed the cursed copy/paste function in the enemy dialog. Hopefully that's the last we'll see of that. End of story.
* Fixed the ellipse rotation which actually didn't rotate the ellipse while the ellipse was rotating. Go figure. Conspiracy theory: People like David Hasselhoff more than ellipses. ( Gleeok, 2009-10-13 04:31:42 )

* Fixed the bug where pixel-shifting tiles into blank tiles in some directions wouldn't cause those tiles to become non-blank (with respect to the view controls).
* Fixed something in the default template that made DMap 1 the default starting DMap.
* Fixed the bug where damage combos would do 0 damage in some situations involving the 'Rings Affect Damage Combos' rule.
* Diagonal Movement: Fixed the Stepladder's behaviour for solid combos (Ladder Only, solid water etc.) ( _L_, 2009-10-09 08:44:21 )



Build 1076 - macosx-Leopard
* Fixed the aforementioned Sideview fix: it overstepped its bounds a bit and allowed a bunch of enemies to fall that should not - like Zoras. (This also affected the 'Fall From Ceiling' flag).
* Added something to the combo selector right-click menu: Open Tile Page. This lets you edit the tile of the selected combo with only two and a half clicks! I deem it great for quick alterations.
* Made a fix that allowed Digdoggers to use different animation types instead of just their own routine, regardless of the Enemy Editor.
* Item Editor: Now, all level 0 items will have their level set to 1. Hopefully only good things will come of this.
* String Editor: Here's something new for Large Mode - in the string list, if a string has been placed immediately after a string that links to it, then that string will be indented in the list. This is intended to be helpful for quickly identifying blocks of linked strings in the list. ( _L_, 2009-10-08 07:52:28 )



Build 1075 - macosx-Leopard
* This build is Intel only.
* Fixed the, er, Sideview bug where several kinds of non-falling enemies were frozen in midair. Special thanks to that tester with an eye on the ball!
* Large Mode: Expanded the Edit String dialog and the Map Styles dialog. ( _L_, 2009-09-27 04:48:24 )



Build 1074 - windows
* Diagonal Movement: Greatly freed up the Stepladder's usage. It now no longer adheres to the 16x16 grid when it is placed, and can be walked upon regardless of Link's adherence to the 16x16 grid. This fixes at least a few issues that users have been having with it.
* Sideview: Fixed a long-lived bug where enemies would stop moving after falling. As you know, I prevent enemies from moving horizontally when they're falling. However, when this has occured, enemy movement AI got 'trapped', and the enemy often couldn't move after landing. This is fixed.
* Large Mode: Fixed the Side Warp direction selector's resizing. ( _L_, 2009-09-26 04:17:52 )

* String Editor: Fixed a bug where clicking 'Duplicate' and then clicking 'Cancel' would cause the '<New String>' menu entry to disappear permanently. The next build will restore it if this has happened to you.
* Corrected a comment in std.zh about GEN_MAGICDRAINRATE. Link's magic drain is multiplied by Game->Generic[GEN_MAGICDRAINRATE] divided by 2, not multiplied by one over that value.
* Fixed a bug where the Potions would always usen the highest-level owned item's refill rates, rather than their own refill rates.
* ZQuest: Now, the W and F keys show walkability and inherent flags for combos in the combo selector, too.
* Large Mode: the currently selected combo's type is now listed in the upper-right corner. ( _L_, 2009-09-22 02:39:43 )



Build 1072 - windows
* Fixed a bug with the previous build where duplicating (or, for that matter, deleting) a string without having scrolled through your entire string list first would mess up various things.
* Enemy Editor: renamed the 'Zora (4-Frame)' animation type to 'Zora (NES)' and 'Zora' to 'Zora (4-Frame)'.
* Tooltips: The combo selector tooltip now shows the combo type of the combo. ( _L_, 2009-09-20 07:40:37 )



Build 1071 - windows
* Fixed the bugs where the 'Goto If' string codes wouldn't set the string's tile backdrop correctly, and would skip over or print incorrect symbols regardless of what happened.
* Now, duplicate strings are generated immediately after the original string in the list... thus saving a certain amount of re-positioning.
* Now, right-clicking in the combo selector brings up a menu offering two choices: edit the individual combo, or open the Combo Editor at that combo's page. ( _L_, 2009-09-19 06:19:40 )

* Fixed the bug where Link kept holding his sword while stepping down a Cave combo.
* Now, a Ring item with a damage divisor of 0 will make Link immune to damage rather than crashing ZC. This goes for Peril Rings too. (That would be interesting.)
* Fixed the bug where the preview pane in the screen Enemies dialog was absent.
* Large Mode: enlarged the Autolayer Setup dialog.
* Fixed the bug where Screen->TriggerSecrets() wouldn't compile correctly.
* ZScript: added Game->End(). When this command is run, ZC immediately ends the entire game without saving and goes to the file select screen. What could you use this for? ...Maybe you could put it at the end of a custom 'game over' or 'end of demo' sequence? ( _L_, 2009-09-18 22:45:09 )

* Added a combo type: Eyeball (4-Way). It only needs tiles for the four cardinal directions. It works a bit differently to the other eyeballs - the tilesheet direction order is up, down, left, right. What this means is that you can use 'n-frame 4-dir' enemy tiles as Eyeball combo tiles with no alteration! That's convenient. (P.S: The other Eyeball types are renamed '8-Way'.)
* Fixed the bug where, with a Save Game combo in a dark room, entering the Save Game prompt then selecting 'Don't Save' would cause the room to become lit inexplicably.
* Now, Whistle items with an invalid Warp Ring number (one that isn't between 1 and 8) will never create whirlwinds.
* Fixed the Super Bomb's damage to Link. It is now at 8 instead of 10.
* The Bomb and Super Bomb's Misc. 3 value now determines the damage done to Link when the 'Bombs Hurt Link' rule is set. (Setting these to negative values will presumably heal Link. If you can think of an in-game reason for this to happen, full speed to you.)
* Added some space-saving functions to std.zh - CreateNPCAt, CreateItemAt, CreateLWeaponAt and CreateEWeaponAt. ( _L_, 2009-09-11 05:00:25 )

* Fixed the Whisp Ring so that its default values are correct, and that its Item Editor values are actually used in the game. Because until now, they weren't!
* Fixed the bug where FFCs with inherent Secret Tile Flags wouldn't change when Screen Secrets was triggered.
* Fixed the bug where individual FFCs pasted anew into a screen weren't being saved in the quest file.
* Default Template: Fixed those two counters in the passive B subscreens.
* Fixed the bug where a bunch of string control codes were being displayed wrongly in the String Editor. ( _L_, 2009-09-05 06:24:32 )

* Fixed the bug where setting Screen->ComboD would not update spinning tiles
* ZScript no longer uses floating point arithmetic in multiplication, division or modulus operations.
* Finished implementing setting of InputMouseX/Y, which should now work correctly.
* Added 'Game->DMapFlags[]' and some script-specific DMap flags, which should be the next best thing to having actual DMap scripts.
* Gave the final sprite - Link - its Misc array. You could argue that this is pretty pointless, but seeing as Link inherits his miscellaneous variables from the sprite class anyway I thought it wouldn't hurt.
* npc, lweapon and eweapon now have a 'CollDetection' bool, with which you can turn off their collision detection.
* Renamed Link->Invincible to Link->CollDetection to be consistent with this (sorry if you were using it).
* Screen->TriggerSecrets() (which was in the last build, if you happened to stumble across it) now works.
* Added the maximum number of drawing commands, and some information about the maximum size of variables to std.zh.
* Added 'OnSidePlatform' to std.zh, which uses (pretty much) the same method as the internal code.
* Documented Waitdraw, which we've had for a while... ( Joe123, 2009-09-03 06:45:26 )

* Fixed the bug where passageway warps to different DMaps would use the current DMap's offset rather than the destination DMap's offset.
* Now, if, via placed and inherent combos, you have a Secret Tile or Armos->Secret type flag and a Hammer or Strike flag in the same spot, and you hammer-pound the spot, the Secret Tile / Armos->Secret flag will no longer take precedence over the Hammer/Strike flag.
* Fixed the bug where 2.10 and earlier quests had their Ghini Transparency and Ghini Flickering Quest Rules set to the opposite of what they ought to be.
* Fixed the Wall Master's movement. Now, if their Misc. 1 is 1, they will advance farther from the screen edge depending on their Step speed. If not, they will only advance two tiles from the edge regardless as to how swift they are.
* Large Mode: enlarged the Init Data/Link Data dialog, AND all of the popup alert boxes. This applies to both ZQuest and Zelda Classic. Note: largeness of Zelda Classic depends on your settings.
* Also enlarged the Quest Info, Controls, Quest MIDI Info, and some Cheat dialogs. ( _L_, 2009-08-28 02:22:00 )



Build 1065 - windows
* New Build. -Changes to the DrawTile and DrawCombo format. As a result of this, any older beta scripts using these will have to be updated. I apologize for the inconvenience, and did consider this as the last option, however such is the price of progress.-
* Too many changes in this build to name them all, so here is a basic breakdown:
* Added basic 3D support to ZScript via functions available using the Screen pointer.
* Fixed the ellipse loppiness/wonkyness bug.
* Fixed the clipping issues with some drawing routines when they were being rotated.
* Optimized slightly some drawing routines. Will do some more work on this later.
* Changes to Drawtile: PLEASE READ:
* DrawTile and DrawCombo have been finalized and now take one extra argument: 'Scale' has been replaced with xscale and yscale. These are actual representations of the drawn tile or combo, including w and h arguments, in PIXELS! Yes, you can scale things up or down now. ^_^ So to draw things using default values this now needs to be -1 or another negative number. Unfortunately as previously stated, this leaves old scripts using these features as horribly incompatible with the new format. Also rotation, rx, ry now all work.
* Whats that? You want to know more about the 3D drawing stuff? ...well ok.
* ZScript: Added Quad3D(x1,y1,x2,y2,x3,y3,x4,y4,w,h,cset,flip,texture,rendermode);
* ZScript: Added Triangle3D(x1,y1,x2,y2,x3,y3,w,h,cset,flip,texture,rendermode);
* These will draw a triangle/quad on the screen with the specified vertex coordinates then texture map a tile/combo or block of using w,h onto them! Color interpolation, depth sorting, and color mapping using a z buffer are not implemented.
* Updated zscript and std.zh.....again. ( Gleeok, 2009-08-26 20:10:21 )

* ZScript : Finished adding Screen->DrawCharacter, which will draw one ASCII character from any one of the available internal fonts to the screen (Not before having the option to perform some neato blitting routines of coarse), and as such I've updated std.zh and zscript.txt to match this. Finally there is the beginnings of scripted texts outside the string editor without resorting to using DrawTile!
* Performed some housecleaning of script.txt so it should be readable in any notepad editor now. It looks to be up-to-date, but feel free to let us know if we've missed something. ( Gleeok, 2009-08-22 04:22:24 )

* Fixed all, if not most, of the 30-something items whose default template values were swapped around since about three builds ago. Previous messages indicated fixes of specific instances, but not the majority of problems. My thanks to the testers for their thoroughness.
* Fixed the bug where a newly-created string would be filled with spaces, preventing you from typing into the editor's box.
* Also in the String Editor: fixed the bug where string control code 25 would consume the character immediately after it. (Actually, I think someone else did but forgot to mention it earlier.)
* Fixed some capitalisation for the quest rules.
* Fixed the bug where grabbed tiles, overwritten over blank tiles, would still be considered blank by the Tile Editor's 'hide blank' feature.
* Added default Fire Trail (Enemy), Hover Boots Glow and Cane of Byrna (Beam) weapon sprites to the default template.
* Also added another couple of magic meter tiles by Pokegamer1989.
* Added Screen Flag: Maze Overrides Side Warp, whereby a Side Warp in a Maze Path won't be triggered unless you solve the maze or use its specified exit direction. (And yes, ZScript's Screen->Flags[] can access it. I think.)
* Fixed the bug where the checkmarks in the Cheat menu were on the wrong menu items (and the wrong menu item being disabled sometimes.) ( _L_, 2009-08-21 03:10:10 )

* Fixed some slight errors with the default template.
* Joe123 and myself would like to take this time and announce that phase 1 of operation ZScript: Draw Text is underway. I could tell you what this is, but then I'd have to kill you. ...err, actually it's not fully implemented yet is all. Details will be in zscript.txt. ( Gleeok, 2009-08-20 19:52:26 )

* Updated zscript.txt and std.zh slightly.
* Fixed the bug where Link would be drawn over 'walk down' type combos if he was charging or spinning.
* Fixed another charging bug where you could not trigger 'touch' type combos if Link was not facing them. ( Gleeok, 2009-08-20 05:51:01 )



Build 1057 - windows
* Added ffc->InitD[], which refers to the value of the ffc's D Input values are they are stored in the .qst file
* Made some changes which could've been causing underlying problems with ArcTan
* New build, as we've had quite a few serious bugs fixed recently. ( Joe123, 2009-08-19 08:45:41 )



Build 1056 - linux
* Added a new option to screen data, under the S.Data 1 tab. Now you can set one layer to be either invisible or visible only through the Lens of Truth.
* Some of the Magic and Fire Boomerangs' default data had gotten mixed up. That's fixed now.
* Fixed another ZQuest crash on Linux. The quest header dialog this time.
* That's enough crash fixes to warrant a new build, don't you think? Back up your quests, and all that. ( Saffith, 2009-08-18 17:26:23 )

* Fixed itemdata->Keep
* Fixed the slow-down issue when setting Link->Item
* Added some new Trace-like functions to ZScript for de-bugging. They are:
* TraceB for tracing a boolean state.
* TraceToBase which traces an integer to a number of numerical bases.
* TraceNL which traces a newline.
* ClearTrace which clears allegro.log completely.
* Added Link->Invincible to ZScript, which is reasonably self explanitory.
* Added Screen->EFlags to ZScript, which is the same as Screen->Flags, but for the E.Flags tab of Screen Data. Read-only.
* Added npc->MiscFlags, which allows acces to the 'Misc. Flags' tab of the Enemy Editor, and is read-only.
* Added some new utility routines to std.zh ( Joe123, 2009-08-18 16:36:40 )

* Fixed a screen data dialog crash on Linux.
* Fixed the boomerang's movement after hitting a blocking combo.
* Changed step combo detection.
* Fixed string preview when 25 appears at the end of a line.
* Tweaked the Armageddon Games logo a bit. Those gaps were bugging me. ( Saffith, 2009-08-14 22:40:46 )

* Added left analogue joystick support to ZC. You can now move using the d-pad or left analog.
* Changed the default joystick buttons to reflect the updated button support from way back to build 900 or so. Ex1-4 are now L2, R2, but4, and but3. select=menu, start=start, etc. You can still change these in the controls menu. ...Hey 1990 called, it wants it's button configuration back. ( Gleeok, 2009-08-13 19:38:59 )

* Fixed screen info crashing on some shops.
* Fixed item editor crashing on long item names.
* Repositioned progress boxes in ZQuest's classic interface when scaled up. ( Saffith, 2009-08-13 18:18:20 )

* Fixed the bug where the Old Tile in the Enemy Editor's tile selection dialog was flipped 90 degrees.
* Changed & improved some NPCT_ constant names in std.zh, no doubt ruining hours of work on your part.
* ZQuest: Added an FFC-specific tooltip that is displayed when mousing over an FFC.
* Fixed the bug where instant-appearing strings (by a control code setting the text speed to 0, or pressing B) would be displayed one character too long for their row.
* Renamed the 'Touchy' combos to use the word 'Continuous', which better describes what they do differently.
* Now the Touchy combos do something different. Here it is: normally, if you have a Secret Tile flag on a Bush combo (for instance), and the Secret Combo is a Grass combo (for instance), and you slash it, once, at just the right distance, the Bush combo is slashed (creating the Grass combo) but the Grass combo is not. With the Continuous type, the slash's influence 'continues' from the Bush combo and affects the resultant Grass combo as well. Comprehende? Good. ( _L_, 2009-08-13 06:27:11 )

* Fixed the bug with slashing weapons causing Link to use slash tiles even he doesn't have the slash ability.
* Fixed the bug where ZC crashes if you use a bomb while the arrows are on the other weapon button.
* Fixed bugs regarding slash combos. ( DarkNation, 2009-08-12 20:34:24 )

* Fixed a special case crash in the player along with some assumptions on how zc handles video card errors. To put this another way: Go ahead and try to get zelda-w to crash on startup now. I dare you. ;-D
* Updated qst.dat. Previous proposed fixes in the default template should now be withstanding. ( Gleeok, 2009-08-12 18:55:16 )

* Restored the keyboard shortcuts in the enemies dialog, including the otherwise inaccessible copy and paste functions.
* Fixed a crash when the screen info displays certain tile warps. ( Saffith, 2009-08-12 16:51:05 )



Build 1046 - windows
* The maximum number of hearts displayed on the file select screen is now 48 (very large numbers of hearts had looked a little interesting in previous
* Implicit casts from Float to Bool in ZScript no longer throw up a compiler warning. One day in the distant future when we have discrete Integers and
* Added ffc->Script, which is and only ever will be read-only.
* Link->Equipped is no longer read-only, and I've added a few functions to std.zh for this.
* Added Link->Invisible. No more dummy LTM items!
* Added npc->Type, which is read-only.
* After an horrifically tedious few hours of coding I bring you Screen->Flags, which can only be read-only. I also added a couple of script-specific screen
* I have spent quite a long time testing them, but it is very possible that some might be returning the wrong flag (as I've had to rearrange all of the
* I'm experimenting with making InputMouseX and InputMouseY set-able via allegro's position_mouse(). If it turns out to be causing problems it can be ( Joe123, 2009-08-12 12:48:24 )



Build 1045 - windows
* New build. Added some extra debugging code to the initialization routine.
* Fixed some inconsistencies with the Patra and Gleeok enemies in the default template. Thanks Pokegamer! ( Gleeok, 2009-08-12 04:51:54 )

* Fixed the bug where the mouse cursor would vanish when it was outside the drawing area in combo alias mode.
* Fixed the tile page "goto page" dialog so it no longer prompts to goto the page you're already viewing.
* Recanted the previous offering of the CanWalk functions based on redundancy alone. Now it's just one function 1/4 of the size. Hey, they can't all be winners, right? ( Gleeok, 2009-08-10 23:06:20 )

* Fixed the bug where finishing the first or second quest would break the next one. Unfortunately, this won't fix saves that are already affected. ( Saffith, 2009-08-10 20:32:07 )



Build 1042 - linux
* Fixed a couple of crashes on Linux.
* Accordingly, here's a new Linux build, assuming I've done this right. ( Saffith, 2009-08-09 14:03:31 )

* Fixed the bug where the controls menu was only accepting the first eight of the joystick buttons.
* Added again the InputPress stuff for right analogue, which somehow I managed to leave out the last time. Sorry about that. ( Gleeok, 2009-08-03 03:16:31 )

* Added the feature whose absence was preventing the String Editor from ascending to true greatness (...well, one such feature, anyway). It is a Duplicate button which lets you duplicate an existing string. Now, instead of tediously and intricately setting the tile and attributes for a bunch of new strings, you can just duplicate a previous string and edit that.
* Removed the 'View Darkness' menu item. You'll just have to use the L key again.
* Fixed the bug where continuing in a dark screen wouldn't set the room's darkness correctly.
* New ZQuest hotkey: holding down Control while pressing the arrow keys switches to the destination screen of the Side Warp in that direction, if there is any. This is convenient for quickly switching to warp destinations without having to open the Side Warp dialog. Tell a friend! ( _L_, 2009-08-02 01:30:52 )



Build 1038 - windows
* Testing out a new windows build.
* Please remember to BACKUP your quests! If you like to perform any downloading rituals, now is the time. I prefer the highly scientific fingers crossed please work please work method myself. ( Gleeok, 2009-08-01 04:31:18 )

* Fixed the bug where peahat AI would fail on the left side of the screen if they were placed there by a script or other means.
* Added some general purpose functions to std.zh: RadtoDeg, DegtoRad, and Rand2.
* Added a few more functions to std.zh for the benefit of simplifying solidity collision checking. These are CanWalk() and CanWalkSideview(). Now you can use one line of code where previously it may have taken 20.
* ZScript: Hey, remember how the scale and rotation arguments for DrawTile and DrawCombo didn't work? Well I sure hope you haven't been setting these. Why, you ask? Because they work now that's why! :D That's right, you can scale and/or rotate these now using single or a block of size less than 20. -Note that arguments 9 and 10 (anchor x,y) are still reserved for future use, so leave these at 0. Also currently you cannot scale or rotate a transparent tile or combo...for now. Do me proud. ( Gleeok, 2009-07-31 22:08:50 )

* Fixed a bug such that if Link is moved by a script while shooting the Hookshot, but the Hookshot itself is not, the Hookshot will dismiss itself after it retracts and Link isn't caught in an infinite loop waiting for the head to arrive.
* Now, when pasting a screen, the screen's selected Door Combo Set is pasted as well as the Doors.
* Large Mode: Fixed a bug where some adjacently-listed Commands buttons (such as 'Save' and 'Screen Data') were being incorrectly disabled or enabled.
* Fixed the bug where 'Spinning Tile' combos placed directly onto the screen (that is, without combo cycling etc.) wouldn't generate the Spinning Tile enemy when the screen was loaded.
* Fixed the bugfix relating to NES quest push block CSets. Now it works as previously advertised in b1024. ( _L_, 2009-07-27 09:18:08 )

* ZScript: I bet all you zscripters out there were wondering why it currently wasn't possible to access Right Analogue Joystick Input for those of you who use game pads. Well now you can. Added new Link boolean values to ZScipt: You can set or read these by calling "Link->InputAxisUp", *Down, *Left, and *Right. Also going along with the current trend, there are also InputPress"*" values as well for these. However due to memory constrictions these have been shortened to "InputPAxisUp" etc. Have fun with these!
* Added ComboX() and ComboY() functions to std.zh. These are basically the inverse of of "ComboAt()" in that they return the X,Y coordinate of said Combo. ( Gleeok, 2009-07-27 04:31:28 )

* Fixed several inconsistencies in the 1st, 2nd, and 3rd quest files and their proposed versions.
* Fixed a bug where newly-created quests would cause your hp to drain if you picked up a sword.
* Implemented Gleeok's fix for the Fullscreen to Windowed lock up bug. ( DarkNation, 2009-07-26 21:13:42 )



Build 1032 - windows
* Err let's try this gain.... ( Sean, 2009-07-23 23:22:17 )



Build 1031 - windows
* [ZCL] [BUGFIX] Windows Scale not keeping it's settings ( Sean, 2009-07-23 23:18:11 )



Build 1030 - windows
* Let's try that again then... ( Joe123, 2009-07-23 10:45:54 )



Build 1029 - windows
* Added the Item Drop Set Editor to the favourites list in large mode
* Fixed the Misc[] arrays in zscript.txt
* Added npc->D[], which correlates the npc's Miscellaneous Attribute from the Enemy Editor. They are read-only.
* Added Link->Equipment, which contains the item IDs of what Link currently has equipped. It is read-only
* Added some functions to std.zh (and fixed the ones I added last time). You may find them useful if:
* A) You look at the number '10' and think of how many digits there are on your hands
* B) You loose sleep at night over the symbols '&', '|', '<<' and '>>' ( Joe123, 2009-07-23 09:32:44 )



Build 1028 - linux
* ZCL for linux build ( Sean, 2009-07-22 12:39:51 )



Build 1027 - windows
* [ZCL] [Bug Fix] Sometimes ZCL doesn't read the settings properly. Thus Ignoring them
* [ZCL] [Bug FIx] Fixed the FPS problem
* [ZCL] [GUI] [New Feature] Name Entry Mode in Zelda Classic Tab
* [ZCL] [GUI] [New Feature] Settings are read in Title Screen now
* [ZCL] [GUI] [New Feature] Combo Brush in ZQ Tab
* [ZCL] [GUI] [New Feature] Enable Tooltips in ZQ Tab
* [ZCL] [GUI] [New Feature] Floating Brush in ZQ Tab
* [ZCL] [GUI] [New Feature] Mouse Scroll in ZQ Tab
* [ZCL] [GUI] [New Feature] Overwrite Protection in ZQ Tab
* [ZCL] [GUI] [New Feature] Palette Cycle in ZQ Tab
* [ZCL] [GUI] [New Feature] Show Ruleset Dialog When Creating New Quests in ZQ Tab
* [ZCL] [GUI] [New Feature] Tile Protection in ZQ Tab
* [ZCL] [GUI] [New Feature] Uncompressed Auto Saves in ZQ Tab
* [ZCL] [GUI] [New Feature] Use Static for Invalid Data in ZQ Tab
* [ZCL] [GUI] [New Feature] Auto backup features in ZQ Tab
* [ZCL] [GUI] Got rid of the white space
* [ZCL] [GUI] Major clean up of the GUI
* [ZCL] [GUI] [Removed Feature] A lot of tabs were removed because of the GUI clean up
* [ZCL] [GUI] [Removed Feature] Welcome screen removed
* [ZCL] [GUI] [Removed Feature] Removed secondary tabset icons
* [ZCL] [Core] Edited how ag.cfg is being read :) ( Sean, 2009-07-22 00:08:39 )



Build 1025 - linux
* OMG A LINUX BUILD :D. I still think about you guys. Also later down the road you guys will see a new build of ZCL. Here is a teaser shot of that http://dproj.ath.cx/tmp/newzcl.jpg ( Sean, 2009-07-21 13:22:41 )



Build 1024 - windows
* It's my honour to present build 10000000000 to all those ZC users who can count in binary. Speaking on behalf of Joe123 and myself: though the two most commonly used ZQuest menus have been rearranged, it is our belief that even several years of muscle memory can be overcome after about twenty minutes of use, and the gains from its more efficient menu item placement are not to be idly cast over. (But we are of course receptive to feedback with regards to specific menu arrangement decisions and their worth thereof.) ( _L_, 2009-07-21 06:12:06 )

* Fixed the bugs where fireball-shooting Statue combos and Spinning Tile combos wouldn't generate the appropriate enemies when they were placed using scripts and other methods. This includes occasions when an existing combo's type was changed to 'Spinning Tile' or 'Statue' using Screen->ComboT[].
* ZQuest: Added a right-click menu that appears when you right-click visible FFCs. The options are: Edit FFC, Copy FFC, and Paste FFC (that is, overwrite the clicked FFC with the copied FFC).
* An option has been added to the standard right-click menu allowing you to move the next unused FFC to the mouse's coordinates, and then edit it. This is believed to be a smoother, more natural manner of instantiating FFCs than using the Screen menu item all the time.
* Another option in the same right-click menu: Paste FFC as FFC n, where n is the first unused FFC in the screen. It lets you paste a copied FFC into the screen overwriting an unused FFCs. This function can also be used to duplicate FFCs quickly and smoothly, by copying and pasting them into the same screen. That sounds highly useful, right? ( _L_, 2009-07-21 04:53:15 )

* Fixed the bug where scrolling in the bottom panel in large mode would move the combo list
* Correctly assigned the blank favourites command to 'Default Items'; it no longer crashes ZQuest
* Set the initial focus of the Compile Script and Assign Compiled Script dialog (you can now compile scripts without using the mouse)
* Items can now be edited directly from the 'Screen Item' and 'Special Item' dialogs, and Enemies from the 'Select Enemy' dialog
* Re-arranged the right-click menu, moving select and scroll to combo to the top, and giving 'Draw Block' its own sub-menu, with some more block sizes
* In large mode, the 'Current Combo' and 'Cycle Combo' boxes now show the walkability and inherent flags of the selected and cycle to combo when the respective toggles are activated
* Shift-Click now sets the CSet of a combo on-screen to the current CSet without changing the combo
* Documented the 'InputMouseB' and 'InputMouseZ' variables, which were added to ZScript but not mentioned. They are read-only.
* Removed ffc->WasTriggered() from ZScript as it does nothing. ( Joe123, 2009-07-19 08:18:19 )

* Fixed the bug where scrolling with the mouse wheel in large mode only changed the current map in the top left hand corner of the minimap
* The 'Y' key now opens the 'Compile Script' dialog, and the 'I', 'C', 'E' and 'X' keys can be used to select the buttons in that dialog
* The braces '{' and '}' can now be used to increment and decrement the current flag, for the benefit of laptop users who have no * and / numpad keys
* Reorganised the flags in the Screen Data dialog under various headings, and removed the unused flags from view
* Enemies with Extend set to >= 3 via ZScript now drop items in the middle of their graphics rather than in the top left corner. This does not affect NES Bosses
* Other (Floating) and Other enemy types no longer have their random and halt rates and homing factors truncated to small integer values in the enemy editor as they do not affect the enemy's movements and may be used as an 'input' to a script
* Added e->Homing to ZScript, which should only be read and not set ( Joe123, 2009-07-17 16:59:07 )

* Fixed the bug where the Tile Editor's 'Show Only Unused' option wasn't displayed correctly in Large Mode.
* Added some extra entries to the Tile Editor right-click menu, providing access to a few features formerly restricted to hotkeys. These are the Color Depth option (bound to B and control-B), and the Show Only Unused option (bound to control-U). This later feature now takes the form of three options: Hide Used, Hide Unused, and Hide Blank, with Hide Blank as the default.
* Conversely, these are added to the Combo Editor right-click menu: Insert New (bound to I), and Delete (bound to shift-I).
* Now, tiles hidden with the Hide options are shown as invalid static if you have invalid static turned on. You might want to turn it off before you export a tile page, though.
* Large Mode only: 8-bit colour tiles are now marked with a tiny flashing '8' in the Tile Editor, to distinguish them from 4-bit colour tiles.
* Fixed the bug where the Edit and Done buttons in the Select Combo dialog were incorrect.
* You know, I was going to implement the 'Spinning Tile (Random)' Combo Type from scratch, but then I pondered and thought... nah. So, it's now 'Unused'. If you still want the behaviour, ask someone to write a script that, once every 3 seconds, randomly chooses a specific kind of combo and changes it to a 'Spinning Tile (Immediate)' combo.
* Also, the matching default enemy has been changed - it is now called 'Spinning Tile (Enemy Sprite)' (and the other is 'Spinning Tile (Combo)') and has been given some default tiles, to show that you can make spinning tiles with a standard tile outside of that defined by the combo that summoned them.
* Added some Spinning Tile tiles to the default quest, as well as a Spinning Tile combo, and cycling combos allowing one to make use of them.
* Increased the spinning tile enemies' default step speed from 50 to 200, where it used to be. Don't know how that got that way.
* Enemy Editor: Fixed the 'bug' where it looked like you ought to be able to set the Flip of an enemy's tile, even though in reality you can't.
* Select Combo: fixed the bug where the displayed 'Cycle' combo number was the same as the current combo number.
* Enemy Editor: Implemented the '4-Frame 4-Dir + Tracking' animation type, which previously did nothing. What? Nothing? Seriously?
* Also added '2-Frame 4-Dir + Tracking'. (As you know, 'Tracking' means that the enemy will always face Link, like an Eyeball-type combo.)
* Fixed the bug where the 'Choose Freeform Combo' dialog's combo preview would slide upward every time you opened it.
* Reset some of the default item data (Sword 1, Sword 2, Heart, Heart Container) in the default quest, fixing several dastardly bugs where these items killed Link or else didn't work.
* Fixed the bug where NES quest push blocks sometimes used CSet 9 unwantedly. Now, they only use CSet 9 in NES Dungeons while the related NES Fix quest rule is off. ( _L_, 2009-07-13 06:41:47 )

* Secret Combos can now be accessed by pressing 'F5' in ZQuest, and re-organised the 'Screen' menu.
* Moved the Screen Data dialog around so all of the tabs fit on one screen.
* Moved the 'Is Flashing', 'Is Flickering' and 'Is Transparent' flags in the Enemy Editor to the previous tab, to seperate the spawning flags from the other flags.
* The non-numpad +/- keys now work in RomView.
* Under the level 1 cheat, 'H' can now be used to refill hearts in addition to Numpad *, and 'M' can be used to refill magic in addition to Numpad for the benefit of laptop users. ( Joe123, 2009-07-07 14:29:06 )



Build 1018 - windows
* Fixed the crash that occurs when Link takes a Maze Path route that leads north of the northmost screens.
* Fixed the bug where dismissing the 'Go To' cheat dialog caused the music to resume even when the game was inactive (that is, greyed out) when you entered the dialog.
* Fixed the bug where one could use the 'Go To' cheat while the game was inactive, and then, without resuming the game, quit the quest and open a different quest, causing Link, in the different quest, to be warped where the dialog had specified. Unlimited cheating potential: denied!
* Fixed the small bug where dismissing a 'Quit' or 'Reset' dialog with a press of Return/Enter while in-game would also open the pause subscreen as soon as the dialog was dismissed.
* Finally added a button to the Tile Editor that, when clicked, lets you save the current tile page to a BMP file. It is most desirable for those using Large Mode, and you must be appalled that we waited this long before implementing it. My apologies. ( _L_, 2009-07-07 04:09:25 )

* Fixed the Large Mode bug where the 'Choose Freeform Combo' dialog wrongly positioned the FFC information over the combo preview. Sorry.
* Changed the name of Screen Flags: 'Use As Save Screen(SP)' to 'Save Point -> Continue Here', and 'Use As Save Screen (AUTO)' to 'Save Game On Entry'. This is to reflect that you don't really need the firstmentioned Screen Flag alongside a Save Point combo, but it's what most situations would call for.
* Tweaked the Large Mode screen information: now, screens with Save Point combos and the 'Save Point -> Continue Here' are labeled 'Save-Continue Screen', screens with just Save Point combos are labeled 'Save Screen', and screens with the 'Save Game On Entry' flag are labeled 'Automatic Save/Continue Screen'.
* Fixed the bug where hookshot-deflected weapons would occasionally explode like a bomb. ( _L_, 2009-06-29 04:44:36 )

* Fixed the bug where gaining magic and crossing into a Ring's magic cost threshold wouldn't update Link's colour instantly.
* Fixed the bug where losing magic and crossing out of a Ring's magic cost threshold wouldn't permit Link to use a lower-level Ring with a lesser cost.
* Fixed the bug where losing a large sum of magic through a Ring could cause Link to have negative magic (which, of course, wraps around to positive magic.)
* (To clarify: even if you run out of the magic to use it, a Ring will still appear in the subscreen, and still have an active Link Tile Modifier. This is intended behaviour.) ( _L_, 2009-06-29 00:51:08 )



Build 1015 - windows
* Copied the recent fixes to the original quests to the proposed versions. ( DarkNation, 2009-06-28 20:04:46 )

* Added sensitive (touchy) versions of the slashable combos. Old quests will autoupdate their slashable combos to these versions for compatibility.
* Fixed the bug where beating a default quest would set your continue hp to 0 so you die immediately upon starting the next quest.
* Updated the ZQuest large mode font to include some missing elements (like the up and down arrows on the tile and combo screens and the check mark on the enemy list screen).
* Fixed the slide speed of the Zol enemies.
* "Fire 2 Trail (Enemy)" and "Magic (Ice, Enemy)" are now listed with "Disabled" tags until these are implemented after 2.5 is released.
* Fixed a bug where the screen wouldn't update in ZQuest (and sometimes it would appear to get stuck on a purple screen when you first started).
* Fixed the bomb and super bomb damage ratios to Link.
* Fixed the bug where latching your hookshot onto a hookshot combo while facing downwards on a sideview screen would cause the chain to fall off the screen and Link to freeze.
* Music now stops when you warp via a tile until you arrive on the new screen as it did in Zelda 1.
* The low hp warning beep now pauses when you enter a warp or a cave as it did in Zelda 1.
* Fixed the bug where bombing through a wall would not update the connecting wall in the connecting room even if the room had been visited previously until you entered the next room.
* Unused items at the end of the item list are now preceded with 'zz' instead of just 'z' to help them stay at the bottom of the list correctly.
* The fairy guy now animates properly when the new enemy tiles rule is enabled.
* The -scale command-line switch for ROMView has been disabled for the timebeing due to it always crashing.
* The default quests now properly hide the items in the subscreen while the subscreen is scrolling up or down.
* The default original subscreen type now properly hides the items in the subscreen while the subscreen is scrolling up or down.
* Sound and music now pause while the "Goto" cheat dialog is open.
* Fixed the bug with the translucency rebuild command after opening an image in the tile grabber.
* The 'reduce color' and 'show original palette' commands int the tile grabber now disable each other as they are mutually exclusive.
* The plus and minus (equals) keys on the main keyboard now work in the tile and combo selector windows. ( DarkNation, 2009-06-28 20:01:08 )

* Attention: I've radically altered expanded the scope of my previously mentioned Large Mode error-listing display feature. Now, in addition to just simple errors, it now lists, in small white-on-black text in the corner of the screen area, most every significant mechanical feature of the screen before you. This includes the presence of: Screen State Carryover, Timed Warp, Maze Path, the 'Sideview Gravity', 'Invisible Link', 'Save Screen', 'Continue Here' and 'Treat As..' Screen Flags, the String, every Room Type and Catch All, and all relevant Tile and Side Warps. This is entirely practical because the majority of screens in a quest would have less than 3 of those features. This information display can be toggled by tapping N if it obscures something important.
* Do you know what this means? What this means is that I have made most of the 'Small Mode panels' functionally obsolete in Large Mode! This is tremendous tidings, for those panels have been a bugbear in the Large Mode interface for years. Now, every relevant detail conveyed by those panels (except the increasingly irrelevant Screen Flags panel) is covered by the screen info display, and what remains - the eight warp return and coloured square selectors - has been placed on a single compact panel. (But don't forget that all of the panels still exist in Small Mode.)
* And, having reduced those two panels into one, I have also been permitted to expand the Large Mode minimap selector even further! It is now 3 times the size of the Small Mode selector, and is about as large as it can practically be.

* Of course, you're thinking I forgot something important. But I haven't! A box showing the 'Cycle' of the currently selected combo has been added to the top of the Large Mode combo selectors.
* Large Mode: Enlarged the Secret Combos dialog, the Select Enemy dialog and the Choose Freeform Combo dialog.
* Added a preview pane to the Select Enemy dialog, and fixed some bugs with the pane's choice of 'face' tiles for Gleeok and Aquamentus enemy types. ( _L_, 2009-06-23 04:59:43 )

* ZQuest: Replaced the 'Lost Woods' MIDI with a Zelda piano medley called 'The Travels of Link' that some of you might have already heard at vgmusic.com a few years back - and yes, I received permission from the sequencer, Jeff Glenen. This new MIDI is 32 minutes long, so there's a submenu that lets you choose from 19 individual Zelda songs within the medley. (There are actually more than 19, but the submenu wouldn't fit in Small Mode's screen if I added any more.)
* Large Mode: enlarged the Edit MIDI dialog, the Select/Add Door Combo Set dialog, and the Map Import Bias dialog.
* Added a 'Help' button to the Combo Flag dialog, Room Type dialog and Guy dialog. Press it to get a terse description of the currently selected Combo Flag, Room Type or Guy, so you can learn what exactly 'Block Hole' does, how the '3-Stair Warp' room works or what tile Ama uses.
* Screen Data: Moved the Timed Warp related flags and input boxes to their own tab, so that there is room for an included explanation, and so that nobody confuses them with, say, Room State Carryover. Also moved 'Sideview Gravity' to the first tab, and 'Floating Traps' to the E. Data tab. ( _L_, 2009-06-21 10:35:39 )

* Fixed the ZQuest tooltip crash. It turns out that some combo type names, such as 'Treasure Chest (Locked, Copycat)' were too long for the tooltip bitmap. The bitmap has been expanded.
* Fixed the bug where Gohmas frozen temporarily by a temporary Clock would get their movement routine confused.
* Fixed a few slightly malfunctioning Integrity Checks.
* Amazing ZQuest feature alert: screen integrity errors are now automatically identified and listed in the lower-right of the current screen in Large Mode. These include most of the errors that the Integrity Check quest report diagnoses. Outright mistakes (such as not setting a Guy for a particular Room Type) are printed in red, whereas suspicious behaviour of unknown intent (such as setting the Special Item to item 0) is printed in innoculous grey. ( _L_, 2009-06-19 10:45:58 )



Build 1010 - macosx-Leopard
* Fixed the bug where the continue screen was wrong if Link tile-warped to a 'Do Not Continue' screen soon after starting the game.
* Fixed the bug where if Link, when 'restarting the level' (Wallmaster, Wind Wizzrobe, Farore's Wind), was sent back to a different DMap then the current one, then the DMap palettes wouldn't change during a subsequent inter-DMap scrolling warp.
* Screen Data: Moved the 'Invisible Enemies' checkbox to the E. Flags tab.
* Added a brief descriptive caption to the Maze Path dialog, as well as some confirmative warning dialogs.
* Changed the default Farore's Wind sound effect... again?! (But this time it's more like what I want. I think.) ( _L_, 2009-06-16 18:58:53 )

* Fixed the bug where constant-moving Traps would sporadically use their Special Tile unwantedly.
* Seemingly fixed the bug where using a script to set a Patra core's HP to 0 wouldn't kill the flyers as well.
* Added to the Default submenu: Items (which is now separate from Sprites) and Enemies.
* Removed '<Slide-Proof>' from the names of the Zora, Boulder and Rock enemies.
* Default Template: fixed the bug where one of the combos in the default room 0x80 was wrong.
* Default Template: fixed the bug where the Ladder 1 item's name was 'Ladder' instead of 'Ladder 1'.
* Fixed the bug where a Side Warp Passageway would use the screen's Tile Warp destination instead of the Side Warp destination. ( _L_, 2009-06-08 10:49:07 )



Build 1008 - windows
* Fixed the bug where coloured string text wasn't being coloured correctly in the String Editor preview pane.
* Fixed the bug where Link would re-enter Cave combos and such as soon as he exited or appeared on them, if they were on the top row of the screen.
* Fixed the bug where Link would be able to prematurely exit the fairy circle animation if a string was still visible on-screen. ( _L_, 2009-05-29 03:54:27 )



Build 1007 - macosx-Leopard
* Fixed the bug where the 'Messages Can Be Bypassed With The B Button' rule wasn't working correctly with the most recent string format.
* ZScript: division and modulo has been sanitised against divide-by-zero crashes. Now if a division-by-zero operation is performed, an error will be sent to Allegro.log and the arbitrary value of 0 will be returned. Make sure you don't divide something by zero on purpose, though.
* Fixed the bug where certain item classes had a mislabeled Action Sound.
* Fixed the bug where the Super Quake Scroll's Action Sound wasn't being used. ( _L_, 2009-05-18 02:52:16 )

* The clouds part, an angelic choir sings, and down from the heavens comes the feature we've all been waiting for: the ability to click and drag FFCs in ZQuest. Just click on them with the standard cursor and drag them wherever you want! The only downside is that you have to move an FFC aside if you want to change the underlying combo beneath it.
* Hopefully fixed the bug where non-Darknut walking enemies would use their Special Tile wrongly, and also fixed the bug where enemies with the '3-Frame' animation would actually use four-directional tiles.
* Added the new '3-Frame 4-Dir' animation type. I would like to remind everyone now that the '3-Frame' animation is actually quite similar to the 4-Frame animation. It runs thus: 1->2->3->2->repeat. If any of you have 4-Frame animations where panels 2 and 4 are the same, consider converting to 3-Frame animation for the extra tilespace efficiency.
* Fixed the bug where the 'Learn Slash' and '1/2 Magic Upgrade' screens would endlessly play a sound effect, and the recurring bug with the 'Door Repair' room type.
* ZScript: changed Game->GetMIDI() - now, custom MIDIs are numbered from 1 upward instead of 7 upward, for compatability with Game->PlayMIDI().
* Fixed the bug where default Wizzrobes in pre-Enemy Editor quests had a Misc. Attribute 5 of 0 instead of 74.
* Level 4 Cheats: added the option to show the names of FFC scripts currently being executed. Use it to see if your FFC is carrying over, or the script is exiting at the right time, or somesuch. ( _L_, 2009-05-10 01:58:34 )



Build 1005 - linux
* [ZCL] Small bug in the interface I had to fix :P ( Sean, 2009-05-04 12:52:16 )



Build 1004 - windows
* [ZCL] Fixed a bug with scaling option not working. (Windows only issue) ( Sean, 2009-05-04 12:21:46 )

* The non-numpad +/- now change CSet when editing and grabbing a tile./r/n * Link's charge and jump sprites are now moved when pressing 'M' in the tilepage./r/n * The 'Select Enemies' dialog is now enlarged slightly, and the "copy" indicator positioned correctly in large mode./r/n ( Joe123, 2009-05-04 04:51:14 )



Build 1002 - linux , windows


Build 1001 - macosx-Leopard
* Now that we have reached the COMPLETELY ARBITRARY milestone of 1,000 source code updates since the equally arbitrary time of January 2007, I would just like to take the time to thank testers who've written clear & exact bug reports, testers who've helped find crashes within hours of the new build, testers who've taken the time to make versatile and thorough testing quests, testers who've pointed out my mistakes when I've been wrong in diagnosis, testers who've made certain that even the simplest bug has been genuinely fixed, testers who've been patient but firm when a bug goes unchecked for months, testers-
* What?
* What do you mean, this isn't revision 1000?
* Really?
* By how many minutes?
* Gosh. What're the odds, eh?
* .........
* ...Well, um, nevermind then. Forget it. Don't mind me. Carry on. ( _L_, 2009-05-02 04:31:47 )



Build 1000 - windows
* The normal +/- keys now function on the tilepage, for laptop users.
* The Misc[] values are no longer truncated to integers.
* ffc->Misc[] values are now retained for Carryover ffcs changing screen.
* Added Game->GetMIDI to ZScript.
* Build 1000 is upon us! ( Joe123, 2009-05-02 04:05:23 )

* Fixed the bug where the quest file wasn't marked as unsaved when you pasted a CSet in the Palette Editor.
* Fixed the bug where, with NES movement enabled, using a script to slightly shift Link perpendicular to his facing direction wouldn't work.
* Fixed the bug where, if a Fairy combo flag's heart circle animation was interrupted, it wouldn't be disposed of afterward.
* Renamed the 'Heart Ring' Quest Rules to use the name 'Heart Circle'.
* Game event logging: the 'Screen Secrets triggered' event now signifies if secrets were triggered by Enemies->Secret or the Secrets screen state.
* Fixed the bug where stepping onto a Raft Path combo flag while using the Walk Through Walls cheat would cause unintended rafting.
* Fixed the bug where the Flippers wouldn't be properly disabled by DMap Item Disabling.
* Added several extra debugging level 4 cheats to the Cheat menu. These include the ability to show and hide layers (including ZScript primitives) and sprites, and the ability to turn on and off lighting in the screen. Also, some other menu items have been shifted to the Refill submenu.
* Removed the enemy animation types 'Slow Flip' and 'Slow 2-Frame' because they're redundant and also buggy. Affected enemies will be updated to use 'Flip' or '2-Frame' and have their Frame Rate values doubled. (This fixes the Fairy guy animation bug as well.)
* Also removed '4-Frame 3-Trap', 'Pols Voice', and 'Darknut (New)', relegating their combined functionality into '4-Frame 4-Dir'. As a result, Pols Voices now use their Special Tile for their leaping animation, rather than just their usual tile plus 20, and Traps now use their Special Tile for something rather than just their usual tile plus 20 (but only when they were placed by the 'Middle Traps' Screen Flag).
* Also, the enemy animation dropdown menu in the Enemy Editor is now alphabetically sorted. Good!
* Fixed the bug where Link couldn't walk a Maze Path direction that happened to lead outside of the DMap's bounds. ( _L_, 2009-05-02 03:28:45 )



Build 998 - linux , windows
* ZCL Release only ( Sean, 2009-04-29 10:26:34 )



Build 997 - linux
* This version of ZC was built on svn 990
* This is the last ZCL 2.5 release for linux. Windows Version coming soon
* I made this build so Majora would stop whining :P ( Sean, 2009-04-27 19:35:42 )

* New Quest Rule: 'Things That Remove Sword Jinxes Also Remove Item Jinxes'. It applies to Potions, Triforces, and Fairy combo flags. This is set for all new created quests from now on.
* Moved the 'No Position Offset for Screen Items' rule to the 'NES Fixes' category.
* Fixed the bug where Link's shadow wasn't visible while the screen was scrolling.
* Fixed the bug where a Patra's Misc. Attribute 5 interfered with the creation of the inner eyes.
* Fixed the bug where oval-type Patras' inner rings weren't using the oval pattern.
* Fixed the bug/crash where an enemy that splits into itself wouldn't continue to split into itself. ( _L_, 2009-04-24 02:40:27 )

* The bug where strings were stored backward in ZScript should be fixed by now ( jman2050, 2009-04-21 11:15:10 )

* I noticed that the Quest Rule 'Slow Enemy Animation' only has the effect of internally doubling each enemy's Frame Rate. So, it is done away with, and affected quests will be updated.
* Fixed: the Frame Rate value no longer affects a teleporting Wizzrobe in any way.
* Because someone asked for it: the teleporting Wizzrobe's Misc. Attribute 5 now controls the amount of frames duration between its disappearing from the screen and its reappearing elsewhere in the screen. Default is 74. Minimum is 0. Maximum is 1200, which is 20 seconds - a number I chose myself.
* Fixed the bug where non-Zora enemies with the 'Zora (New)' animation type had incorrect preview tiles in the Enemies dialog. ( _L_, 2009-04-19 07:54:13 )

* Fixed the whistle Warp Ring inconsistency in proposed2nd.qst, and added a missing walk-through wall in level 9.
* Fixed the bug where having a Super Bomb Ratio of 0 would cause division-by-zero crashes.
* Fixed the bug where "Secret Money" Room Types could be used repeatedly if they weren't in a Cave screen. ( _L_, 2009-04-15 10:54:08 )

* Fixed the bug where the Door Repair rooms' fee was being charged repeatedly each frame.
* Fixed the bug where rafting between screens into non-walkable water didn't work with Smart Screen Scrolling.
* Seemingly fixed the bug where the Sword Beam Trigger combo flags couldn't be triggered by higher-leveled sword beams.
* Fixed the bug where the Game Icons dialog had improperly scaled sprites in Small Mode.
* Hopefully fixed the bug where getting items that increased maximum Bomb capacity didn't also affect Super Bomb capacity.
* Also fixed the bug where More Bombs rooms ignored the current Super Bomb Ratio and assumed it was 4. ( _L_, 2009-04-08 10:53:57 )



Build 987 - windows
* Just testing a new upload. ( DarkNation, 2009-04-05 18:23:36 )

* Fixed the bug where the Wand's slash hitbox was vertically wider than the Sword's.
* Fixed the bug where pressing the Sword's button while slashing with the Wand would prolong the Wand's animation.
* Fixed the bug where the DMap flag 'Use Caves Instead of Item Cellars' prevented the use of Passageway warps.
* ZQuest: Fixed the bug where the Link Sprites dialog's tile selectors' clickable areas weren't quite the right size.
* Zscript.txt: Added to the X, Y and Z descriptions a note that float values passed to them are cast to int. ( _L_, 2009-03-28 11:09:41 )



Build 984 - windows
* ZCL Release ( Sean, 2009-03-26 18:05:59 )



Build 982 - windows
* The Misc[] values actually work now, I'd forgotten to initialise them.
* Added the 'VBound' function to std.zh.
* Documented Game->PlayMIDI and w->Behind. ( Joe123, 2009-03-21 07:55:46 )

* Ellipse no longer occasionally fills the exterior instead of interior of the ellipse. ( DarkDragon, 2009-03-18 17:45:42 )



Build 980 - windows
* Fixed the bug where guy fires wouldn't animate with the new enemy tile srule checked
* Fixed a few instances in ZQuest where the screen wouldn't update while manipulating GUI elements.
* Added quest rule which, when checked, removes the slight vertical offset of items placed in rooms, among other places
* Fixed up the init/cheat menu so that map/compass/key values and flags can be manipulated for level numbers up to 511.
* Fixed the bug where Link wouldn't exit water going upwards if the top half of the above tile was solid, regardless of whether the bottom half wasn't. This obviously only refers to standard Link collision.
* Fixed a bug where joypad input wouldn't disable the matrix screensaver.
* Applied two fixes to proposed1st.qst. Thanks AmazingAmpheros!
* Fixed the default Zelda 3 subscreen template. Now the subscreen will look and function properly in a fresh new quest. Obviously, if you're using your own tileset you will have to change the tile references of some subscreen elements.
* Fixed a semi-major memory leak in the script compiler.
* Fixed some bugs involving the hotspot of the fill tool cursor in the tile editor. It should now work properly.
* As always, back up your quests and save files! ( jman2050, 2009-03-18 13:38:59 )



Build 979 - windows
* The selected item tile graphic is no longer distorted in small mode

* The lweapon, eweapon, item, ffc and npc objects in ZScript now each have a miscellaneous array of 8 integers which you can use in your scripts. These are similar to the 'Screen->D[]' variables, but they are not saved with the file.
* New build. ( Joe123, 2009-03-17 16:03:10 )

* Compiling scripts twice no longer crashes ZQ. ( DarkDragon, 2009-03-16 21:20:10 )

* The Vire and Rope animation types no longer show the wrong tile in the enemy selection dialog
* Moved the 'Output ASM Script to Allegro.log' checkbox so it's no longer on top of the 'OK' button in small mode.
* Added the 'Screen->LayerScreen' and 'Screen->LayerMap' commands to ZScript. ( Joe123, 2009-03-15 12:53:33 )



Build 976 - windows
* New build. Back up your quests, all normal caveats apply, yadda yadda. Some important steps have been made in the game's development, and the release of 2.5 looks closer than it ever has. The support of everyone is appreciated by all the developers. ( jman2050, 2009-03-14 20:59:19 )

* Fixed the bug where Moldorms were not using the assigned tiles.
* Fixed the bug where the fill tool cursor would jump during its first use in the tile editor.
* Fixed the bug where the move tool in the tile editor would make the tile slide erratically in large mode.
* Added keyboard shortcuts for the tile and combo editors ('t' and 'k', respectively).
* The '/', '*', '-', and '+' keyboard keys now work like their keypad counterparts (for people without a keypad) in ZQuest.
* The keyboard repeat delay and repeat rate in ZQuest are now customizable. Set them to 0 to turn off key repetition (typewriter mode). ( DarkNation, 2009-03-14 20:36:28 )

* Fixed a pretty bad memory leak in the combo code that caused the memory usage of ZQ to increase while idling on the combo page. This is likely the source of the random crashing.
* Preliminary recoding of the ZQuest rendering code has netted a substantial increase in overall response and speed of the program, especially in dialog boxes and the like. Will do further testing before making a release.
* Fixed bug where pressing space on the combo pages would result in spaces between each combo.
* Fixed a bug where right clicking on a tile in the tile selector would point to a different tile than the one intended.
* Fixed a bug where inserting new combos into the combo page corrupted the combo buffer memory. ( jman2050, 2009-03-14 17:56:49 )

* Doing nothing while viewing the combo table no longer leaks memory and crashes. ( DarkDragon, 2009-03-14 11:59:22 )



Build 971 - windows
* Whoops there was a bug in the setup wizard which would not let ZCL setup correctly. Sorry about that. Must of missed it. ( Sean, 2009-03-12 20:55:00 )



Build 970 - windows
* This new build release is just ZCL only. ( Sean, 2009-03-12 20:36:13 )

* [ZCL] Minor Interface Fixes
* [ZCL] When an error occurs it now fails gracefully. This means it shouldn't give you that corruption message.
* [ZCL] ZCL now supports multiple versions of ZC from 1.92 to current. This is new so expect bugs.
* [NOTE] For all ZCL testers. Please make sure you extensively test this version of ZCL. There was a lot of core rewriting again due to the multi zc support. So please report the bugs! ( Sean, 2009-03-12 20:34:48 )

* ZQ no longer crashes when you create a new quest and click "Zelda 3-esque." ( DarkDragon, 2009-03-11 17:42:53 )



Build 967 - windows
* Shortened the ZQuest key delay. I'll probably make it changable in the config file or something later on
* Hopefully fixed the screen data dialog box. The lesson? If you want to experiment with the code, don't leave your changes in when things don't work! ( jman2050, 2009-03-10 09:46:36 )



Build 966 - windows
* New build to apply _L_'s fixes to the Screen Data dialog since that bug kind of sucks
* Also reverted romview. Sorry about that! ( jman2050, 2009-03-10 07:40:56 )

* Fixed the bug where the Screen Data dialog was invisible! We're all sorry about that.
* Fixed the bug where the 'Layer 2 is Background' and 'Layer 3 is Background' Screen Flags weren't being honoured in ZQuest's screen edge previews. ( _L_, 2009-03-10 00:20:50 )



Build 964 - windows
* Seems like the latest changes broke ZCL. Well I recompiled ZCL and now this would be the correct release to use. Still gots me wondering. Who broke my program :( ( Sean, 2009-03-09 19:52:06 )



Build 963 - windows
* Lots of stuff here. First off, the quest format was changed slightly, so double, triple, and quadruple check that quest integrity isn't compromised. BACK UP YOUR QUESTS as always.
* Added 4 new key/button assignments to the ZC engine. These are defaulted to q, w, a and s on the keyboard and can be changed just like any other button. They don't actually do anything by default, but they can be accessed in scripts just like any other key/button.
* Speaking of input, there are now INPUTPRESSx variables which, for each button, is set ONLY on the frame where a particular button is actually pressed. Should be useful to those planning custom actions.
* Fixed the "memory exhausted" compile-time bug that occurs when making large global arrays.
* Fixed a fatal memory corruption bug relating to tooltips that may be responsible for the rampant crashing in Zquest.
* Fixed the bug where initialized global arrays would bork when starting a quest that has already been saved. Due to the method of this fix, a new global script slot is being introduced: The Continue script. This runs at the same point as the Init script does, but will run EVERY time a quest is started or continued, not just on a new save file as with the Init script. As an extra bonus, just as with the Init script, naming a global script "Continue" will append the user-made code to the generated Continue script.
* A small input delay has been added to ZQuest to allay the phenomenon where ZQuest would lag behind the input buffer. In other words, holding shift+page down to scroll through combos won't continue scrolling long after you've let go of the keys. Of course, the timing is experimental, so if you think it's too sluggish, it can be changed easily. ( jman2050, 2009-03-09 18:13:20 )



Build 962 - windows
* DO NOT USE OR DOWNLOAD BUILDS 961 OR 962! ( DarkNation, 2009-03-09 17:13:33 )



Build 961 - windows
* Fixed a bug where BS Dodongos could randomly spawn inside 1-combo spaces, causing them to be unmoving and drawn incorrectly.
* Fixed a bug where init data wouldn't be kept on tabs other than the current one.
* Fixed a bug where some custom sfx names were reset after going into the tile grabber.
* Fixed a bug where some item names were reset after going into the tile grabber.
* Fixed a bug where some weapon names were reset after going into the tile grabber.
* Fixed a bug where some tile windows in large mode were 1 pixel too small in the x and y directions.
* Fixed a bug where the "First Enemy Carries Screen Item" screen flag wasn't showing up in the editor.
* Fixed a bug where enemy screen flags would be reset if the screen data window was closed on a different tab.
* Fixed the bug where the Next Message dropdown text was partially cut off. ( DarkNation, 2009-03-09 16:14:14 )

* Init Data: Moved the Keys and Rupees boxes from the Misc tab to the Items tab, where they belong.
* ZScript: Fixed the bug where EW_BOMB weapons were being created instead of EW_BOMBBLAST weapons.
* Fixed the bug where projectiles created by Prism combos didn't have valid parent item IDs, potentially causing crashes.
* Fixed the bug where you could walk out of a Candle or Byrna slash before it finished.
* Also fixed the bug where a Candle or Byrna slash didn't display Link's stab sprite. ( _L_, 2009-03-09 03:43:32 )

* Fixed the bug where having the Wavy and Quake effects occur at the same time would result in a crash. ( _L_, 2009-03-02 20:20:31 )

* ZScript: added Screen->Lit, a simple boolean variable pertaining to whether this room is dark or not. Setting it will darken or brighten the room.
* Fixed the bug where the enemy->ID of an NPC_ITEMFAIRY was about 4096 larger than what it ought to be.
* Also, setting enemy->ID will now do nothing, for safety purposes.
* Fixed the bug where setting a Screen->Door[] value to D_OPEN wouldn't do anything.
* Removed the Enemy Flags menu item, now that its purpose is done.
* Now, clicking the 'Flags' button in the Enemy dialog will take you directly to the E. Flags tab in Screen Data.
* The checkbox labels for the 'Zora', 'Corner Traps', 'Middle Traps', 'Falling Rocks' and 'Statues Shoot Fireballs' enemy flags now also display the name of the enemy that has the matching checkbox in its enemy data.
* Large Mode: enlarged the Enemy Pattern dialog, changed the Random pattern's name to Spawn, and added some short explanatory text. ( _L_, 2009-02-23 19:18:41 )

* For personal reasons, Lanmolas now obey gravity, and can fall. Incidentally - if their segments should become vertically separated when one walks off an edge in Sideview, don't necessarily consider it a bug.
* Large Mode: enlarged the Link Sprites dialog, the Misc Colors dialog, the Compile ZScript dialog, and the Doors dialog.
* Also, the buttons in the Doors dialog now display the currently selected door for that direction.
* ZScript: Recanted the recent entirely well-meaning change to Screen->ComboS[], on the basis that it might break backwards-compatability with some prior scripts.
* ZScript: added Screen->IsSolid(int x, int y), which returns true if the coordinate position is treated as solid by ZC (referring, of course, to combos on layers 0, 1 and 2). Since it uses in-engine methods to identify solidity, it should be ideal for the sort of situation where you need to call it 1,024 times per frame. ( _L_, 2009-02-19 20:14:58 )



Build 956 - windows
* Forgot to add in one of the ZScript parser files a few builds ago, so some of the things I added were crashing the compiler. Sorry about that. They're not now. ( Joe123, 2009-02-19 04:12:05 )



Build 955 - windows
* The enemy flags dialog has moved to 'Screen Data'.
* ComboS now checks solidity on layers one and two, as well as layer zero.
* New build
* Hopefully this one won't corrupt everyone's quests... ( Joe123, 2009-02-19 03:39:40 )

* Fixed the bug where custom open door types were being overwritten in the game engine.
* Link's swim speed it now selectable in the quest editor (slow or fast).
* Tooltips in ZQuest can now be turned off in options. ( DarkNation, 2009-02-16 19:34:27 )

* Added the 'Ln' command to ZScript, for the sake of practise/completeness.
* Added the 'InputMap' variable to ZScript ( Joe123, 2009-02-15 06:31:27 )

* Added the Log10 function to ZScript. ( Joe123, 2009-02-14 11:59:50 )

* Moved the 'Message More Y is Offset' check box down in the large mode dialog/r/n
* Fixed my change to the code so that an enemy's down facing sprite actually is shown in the enemy selection dialog. ( Joe123, 2009-02-14 08:40:50 )

* ZScript: Fixed the bug where the pointer returned by Screen->CreateNPC() pointed to the last segment of a boss rather than the boss itself.
* Added to std.zh the function NumNPCsOf(int type), which might be useful.
* Fixed a subsequent, and possibly final, bug with the implementation of Screen->D[] that caused adjacent DMaps' variables to overlap.
* Improved the weapon sound effect disposal routine. Now, boomerangs and such should have their looping sounds disposed at the right occasions.
* Fixed the bug where setting Screen->Door[] to D_SHUTTER before scrolling onto the screen wouldn't result in the proper shutter-closing animation. ( _L_, 2009-02-12 05:48:33 )

* ZScript: Added the variable item->Pickup, which determines what happens when Link picks up the item. It determines whether Link holds up the item when collecting it, whether the item vanishes after awhile and whether melee weapons can collect it, whether an enemy is carrying the item, and what Screen States are set when the item is picked up.
* Fixed the bug where scrolling into a screen onto a warp combo prevented that warp combo from triggering. ( _L_, 2009-02-08 00:42:34 )

* ZScript feature: Screen->Message(0) now makes the currently displayed message disappear, even if your quest doesn't have the 'Messages Disappear' rule checked. This also removes the 'invisible Guy wall' that 'Feed The Goriya' and other such Room Types have.
* Now, when a DMap Intro message is being displayed, the effects of Screen->Message() calls are delayed until after the DMap Intro message has been dismissed. At that point, only the most recent Screen->Message() call will be used. ( _L_, 2009-02-05 02:46:18 )

* ZScript: added the bitwise NOT, which is represented by the tilde '~'. If you have been trying to use the bitwise NOT prior to now, rest assured that it was actually equivalent to the logical NOT. (Also, the ZASM command is BITNOT).
* Fixed the bug where a screen's and DMap's palette selection was being saved as a byte instead of a word.
* ZScript: a warning is now logged to Allegro.log when you try to reference a Screen->D[] value outside of the 0-7 range.
* Now, the 'Visited' Screen State is no longer logged in Allegro.log as '<Unknown>'. ( _L_, 2009-02-04 22:49:29 )



Build 946 - linux , windows
* New ZCL Builds for windows and linux. Also this is a good time to try the updater feature in ZCL. :) ( Sean, 2009-02-02 12:12:43 )

* [ZCL] Minor Interface Fixes
* [ZCL] Updater shows the wget console. This is so you guys know it's actually doing something :P
* [ZCL] Oh look icons on the tabs.
* [ZCL] Interface improvements
* [ZCL-LINUIX] Using the GTK2 Interface again
* [ZCL Updater] Handles errors better
* [ZCL Updater] Checks to make sure you have a connection
* [ZCL Updater] Interface improvements
* [ZCL] Added 800x600 in ZC Resolution Tab ( Sean, 2009-02-02 11:04:44 )



Build 944 - linux , windows
* [ZCL] Removed ZSCRIPT (Source code will be released to public soon)
* [ZCL] Core Optimizations
* [ZCL] ZCL for Linux will be using GTK until Lazarus becomes more stable with GTK2 sorry people =/
* [ZCL] New Logo
* [ZCL] Updater Feature implemented - On the first download of the alphas please click on the updater feature so it can configure itself. This is a very new feature so if you spot any bugs please immediately report them. ( Sean, 2009-02-01 16:38:14 )

* ZScript: Added Game->GetCurLevel(), which tells you the dungeon level of the current DMap. It works great as an index into Game->LItems[]!
* Fixed a bug where if an item is, by being collected, upgraded into a new item with a pickup script, then the pickup script will use the new item's script number but the old item's arguments. (Now, it will use the new item's arguments.)
* Fixed the bugs where certain ZQuest tile preview panels were slightly smaller than they ought.
* Fixed a bug where 'Paste Spec. -> Screen Data' would also paste the Side Warp trigger settings.
* Also, 'Paste Spec. -> Warps' now pastes the status of the 'Combos Carry Over' checkbox as well.
* Fixed a bug where it was possible in Sideview to fall into screen 0x80 from screen 0x70, crashing ZC! ( _L_, 2009-01-29 09:34:34 )

* ZScript: Fixed a bug that made various events, such as setting Link->Item[] or using the level 4 cheat, erase certain values in Game->LItems[].
* ZScript: Fixed a potential bug where Screen->D[] might now have worked correctly when used in Overworld DMaps.
* ZScript: Fixed another bug that made Screen->D[x] pointed to not quite the same variable as Game->GetScreenD(Game->GetCurDMap(), x). Now, they are assured to point to the same variable. This also affects the string control code \3\X\X\X (Goto If Screen Variable).
* ZScript: Fixed the bug where setting positive values to weapon->Jump and item->Jump actually resulted in negative values, and vice versa. If you've been unknowingly compensating for this deficiency, please change your code now!
* ZScript: Added the functions Game->GetDMapScreenD() and Game->SetDMapScreenD(), which are like Game->GetScreenD() and Game->SetScreenD(), but allow you to get and set values in other DMaps with minimum fuss!
* Added several more clarificatory notes to Zscript.txt, such as how Screen->D[] differs by DMap, and the difference between Link->Warp() and Link->PitWarp().
* Fixed some potential bugs where getting a screen item or special item via Boomerang or Hookshot (with the 'Boomerang/Hookshot Grabs All Items' quest rule) wouldn't set the appropriate Screen State.
* ZQuest: As you know, water combos only function on layer 0. So, water combos on layers 1 and 2 no longer show up blue when you press the 'w' key to show walkability.
* Sideview: Now, if Link stands on a solid damage combo as a platform, he will take damage! That's pretty intuitive, isn't it? ( _L_, 2009-01-27 01:56:30 )

* Fixed a bug where 3-Stair Warp Rings didn't work quite right in non-Overworld DMaps.
* Fixed a bug where setting a positive value to Game->DCounter[CR_MAGIC] that wasn't divisible by 8 would cause it to endlessly empty and fill the magic meter. ( _L_, 2009-01-21 03:24:57 )



Build 935 - windows
* Thought I'd try uploading a new build.
* Added the 'Message More Y is offset' flag to the 'Strings' Dialog. Now, your 'Message More' so as always to be in-line with the string.
* Changed the sprite in the Enemy Selection dialog to show the 'down' facing sprite.
* Moved around some of the boxes in the Enemy Editor dialog, mostly so the whole 'W:' attribute now fits in the box in small mode.
* First proper upload, wish me luck! ( Joe123, 2009-01-14 14:27:44 )

* Added a new feature to Zplayer called BIG2 use it like you are using BIG when you enter in your resolution. There will be a feature added to ZCL to show you what I mean. Example what this does http://sjnetwork.net/big2.jpg ( Sean, 2009-01-14 08:51:56 )

* Renamed the combo flag ' 52 Push Block (Vert, Once, Trigger)' to ' 52 Push Block (Vert, Once)'.
* Moved the hitbox for Link's southward-facing sword stab five pixels downward.
* Fixed the bug where the 'Smooth Vertical Scrolling' rule caused a string to display improperly while scrolling.
* ZScript: fixed the bug where setting Link->Dir (Link's direction) every frame didn't prevent him from firing sword beams perpendicular to this direction. ( _L_, 2009-01-13 03:17:24 )

* Fixed a bug in the Enemie Data Editor. When you edit the name and click cancel. It still applies the new name. ( Sean, 2009-01-10 22:44:58 )



Build 928 - windows
* Fixed a bug that made script-created Bait lweapons vanish as soon as they appeared if Link didn't have a Bait item.
* Now, 'No Enemy' combo flags are treated as solid platforms by walking enemies in sideview. This should be convenient!
* Helpful advisory: if you place a combo flag on a layer, but that combo flag only works on layer 0, you'll be notified that the flag doesn't function on layers 1 and above.
* Changed the 2008 copyright to 2009. Kids, remember what to do when you suddenly feel old: SCREAM REAL LOUD! ( _L_, 2009-01-09 07:41:09 )

* Fixed the bug where Remote Super Bombs didn't work quite right.
* Presumably fixed the bug where the Action Script attached to a Farore's Wind, Din's Fire or Nayru's Love item wouldn't ever run.
* Fixed the sideview bug where jumping upward into a screen ignored the 'Smart Screen Scrolling' quest rule.
* Fixed the sideview bug where falling into the bottommost row of combos in the bottommost row of screens wasn't recognised as a platform. ( _L_, 2009-01-06 05:33:25 )



Build 923 - windows
* New version of ZC for windows. ( Sean, 2009-01-04 11:37:00 )



Build 922 - windows
* New ZCL Release Only
* --Much Cleaner Interface
* --ZCL Zscript Editor
* --Notepad
* --Load Quest On Start
* --New Banner
* --Descriptions for some options you check. This tells you what does what :P
* --Go To Color Scheme and Title Screen has been removed
* --Load SFX.dat has been removed
* I am still accepting requests and also BUG TEST THIS! ( Sean, 2009-01-03 17:19:10 )



Build 921 - macosx-Leopard
* Leopard build. Testing build system. ( Takuya, 2009-01-02 19:35:32 )



Build 919 - macosx-Tiger-and-Leopard
* Sorry about that. I need to talk to DD. Again should run on Leopard... probably not Tiger. Sorry folks. Working on it. Happy New Year. ( Takuya, 2009-01-01 00:00:52 )

* Fixed a bug with an OS X lib on my end. ( Takuya, 2008-12-31 23:54:46 )

* Oops. There should be a new build ( Takuya, 2008-12-31 23:48:09 )

* Placed an upper limit on the wavyness of Screen->Wavy, where values greater than 2048 don't increase the screen's distortion any further.
* Added an Integrity Check for screens that contain Save Point combos, but don't have the 'Use As Save Room' screen flag checked. This may be deliberate, but the most likely intended behaviour is to have the flag checked.
* Fixed the bug where the Boomerang's range was ignored if its weapon sprite had more than one frame of animation specified.
* Fixed the Boomerang's 'Corrected Animation' clip tile bug. To reiterate, the clip tile's location is: tile 54 if 'Corrected Animation' is off, starting tile + frames if 'Corrected Animation' is on, and starting tile + (frames x 8) if both 'Corrected Animation' and 'Directional Tiles' are on. ( _L_, 2008-12-31 20:39:10 )

* Fixed some more mistakes in ZScript.txt.
* Tooltips: the main screen tooltip gives the properties of the pointed combo. It lists all of the properties in the Properties dialog.
* Fixed the bug where an Item Override subscreen item wouldn't be non-visible when a DMap explicitly disabled that item. ( _L_, 2008-12-26 08:42:34 )

* Fixed a bug where too many weapons on the screen would cause the hookshot to freeze the game.
* Fixed a bug where the tile editor would sometimes cause the mouse to not work outside of a certain area on the screen.
* Fixed a bug where certain locked doors in the default template would not work properly.
* Tweaked the new larger tile list window.
* The combo list window is now enlarged as well.
* Preliminary work on the new tooptip system (the code has been in there since build 827, but dormant). ( DarkNation, 2008-12-24 15:13:44 )

* Extended the FFC Editor's D value caps from 32767.0000 to 214748.3647, both positive and negative.
* Now, using the Raft will set your 'drowning return point' at wherever you stop rafting.
* ZScript: Fixed the bug where weapon->Flash was a float instead of a bool.
* The Screen Flag 'All Triggers->16-31' now recognises layered triggers.
* Large Mode: enlarged the Select Tile dialog. It took awhile. ( _L_, 2008-12-22 02:34:30 )

* Sorry for the break in updates... I've had a bad week. The bug where setting out-of-bounds values for a string's Y Position was possible and could crash ZC has been fixed.
* The Item Drop Set editor's item tile panes display the tiles at exactly double resolution now.
* The 'What Links Here' Quest Report now also displays a list of screens that use the current screen as a layer. Nifty! ( _L_, 2008-12-16 07:07:43 )



Build 910 - linux , windows
* [ZCL]Fixed a little color issue when ZCL is running with the windows classic theme
* [ZCL]Fixed another issue that Classic Mode will not save the settings ( Sean, 2008-12-14 08:44:43 )



Build 908 - windows
* Windows version of ZCL ( Sean, 2008-12-09 22:11:27 )



Build 907 - linux
* Finally a ZCL build for Linux Again
* Changed Large checkbox to Use Classic Interface since the Large mode is now the default. This will be updated on the windows version soon. ( Sean, 2008-12-09 21:13:03 )



Build 906 - windows
* New build fixing more critical bugs yay! ( jman2050, 2008-12-09 11:18:03 )

* Fixed the critical bug where the Enemy Rules window was broken. Fin fang foom!
* Fixed the critical bug where an Item Drop Set with all chances set to 0 would cause a 'divide by zero' crash when used.
* Fixed the bug where a charging sword had no collision detection.
* Now, the counter-refilling equipment items no longer refill counters while a message has frozen the action. This has the potential for player abuse! ( _L_, 2008-12-07 00:23:31 )



Build 904 - linux
* Added Linux soundfont. Run zelda-l and zquest-l once and sound should be working if it was not before. ( Takuya, 2008-12-06 13:21:30 )



Build 903 - linux
* My bad.. try now? ( Takuya, 2008-12-05 20:58:16 )

* Testing a Linux build ( Takuya, 2008-12-05 20:55:05 )



Build 901 - windows
* New build to fix the item drops. Sorry for taking so long. As usual, BACK UP ALL QUEST FILES!!! ( jman2050, 2008-12-05 14:27:06 )

* Fixed the bug where the Nothing Chance of an Item Drop Set was being read as an item ID. On behalf of all developers, I apologise for this messup.
* Deprecated the 'Allow 10 Rupee Drops' and 'Enemies Don't Drop Clocks' rules. Quests which had those rules set will simply have their item drop lists modified accordingly.
* Also, the hidden condition where Non-gameplay Items could never be dropped has been removed. Quests which have Non-gameplay Items in their lists will have their drop chances reduced to 0 and the 'Nothing' chance extended accordingly.
* After a moment's introspection, a decision: the rule 'Old Style Warp Detection' now does nothing if diagonal movement is enabled. I believe that nobody who uses diagonal movement genuinely wants OSWD as well, but if anyone can convince me otherwise, I may recant.
* Added a new default item drop set, 'Tall Grass Combos', which is used by all Tall Grass, Bush, and other combos to determine what item appears when they are slashed. This directly replaces item drop set 12, which should be blank... unless you edited it during the last two days. If you did so, please recreate it in another empty item set before using the next build, and accept my fond apologies. ( _L_, 2008-12-03 05:16:51 )



Build 899 - windows
* Just uploading the windows build. BACKUP YOUR QUEST FILES BEFORE USING THIS ON THEM! 3 QUEST FILE CHANGES WERE INTRODUCED IN THIS VERSION. ( DarkNation, 2008-12-01 17:59:44 )

* New item drop set editor. It can be accessed from the Quest menu in the Misc Data submenu.
* Fixed a bug regarding a raft leaving a raft path if the path turns immediately after entering a screen.
* There are now 255 shop and info types and they can now be named.
* The shop editor now displays a picture of each item being sold.
* Tweaked the message string lists so that the numbers line up a bit better when numbers are needed and the numbers don't show when they aren't.
* Item lists (for the item editor and the room item and special item properties) now show the item's tile.
* Renamed the Music menu in the Quest menu to Audio and moved the SFX menu inside of it.
* Shop and Info type names now appear in the room information panel.
* Shop and Info types for a room are now selected from a list instead of a manual-entry number box.
* The minimap preview for the dmap list now also shows the minimap background in small mode instead of just in large mode.
* The warp editor destination screen box can be filled in automatically now by clicking on the appropriate screen in the dmap preview box. ( DarkNation, 2008-12-01 17:53:40 )

* Removed the 'If Possible, Use Slash Tiles' checkbox. Instead, the Sword, Wand, Cane of Byrna and Candle itemclasses now use an item flag, 'Can Slash'. This works for all classes, including Swords, and is backwards-compatable with current quests.
* Tile Editor: Fixed the bug where the focus of the Fill cursor was in the upper-right corner, instead of the tip of the spiliing paint.
* Large Mode: Fixed the bug where the Shop Types and Info Types editors' dropdown menus were broken. My apologies! ( _L_, 2008-11-27 02:25:45 )



Build 896 - macosx-Tiger-and-Leopard
* OS X build includes proposed quests 1 2 and 3 ( Takuya, 2008-11-25 18:35:14 )



Build 895 - macosx-Tiger-and-Leopard
* OS X fullscreen does not work, but should run on Leopard (PPC/Intel), MAYBE Tiger ( Takuya, 2008-11-25 17:31:26 )

* OS X fullscreen does not work, but should run on Leopard (PPC/Intel), MAYBE Tiger ( Takuya, 2008-11-25 17:28:54 )

* Fixed the bug where a DMap's disabled item list was cleared when a certain procedure was called.
* Modernised the Under Combo dialog (such that you now click on the current combo to select a new one), and expanded it in Large Mode.
* Added labels to the Game Icons dialog, and expanded it in Large Mode. ( _L_, 2008-11-22 09:29:21 )

* Rulesets: The following quest rules are ZC engine improvements to ZC-exclusive features, and are now present in all rulesets for future quests: 'Damage Combos Work On Layers 1 and 2', 'Warps Ignore Arrival X/Y Position When Setting Continue Screen', 'Use Warp Return Points Only', 'Combo Cycling On Layers', and 'Must Kill All Bosses To Set 'No Return' Screen State'. It is recommended that all future quest files have these rules set.
* NES Fix Quest Rule: 'Invincible Link Isn't Hurt By Own Fire Weapons'.
* Also, added the 'Use Old Style Warp Detection' rule to the 'Authentic NES' ruleset, and moved the 'No NES Sprite Flicker' rule to the NES Fixes category.
* Fixed the bug where the string control code \5\X\X (Goto If Item) wasn't working for certain item IDs.
* Fixed the bug where reflected magic sent from Magic Prism combos had the wrong HitYOffset value.
* Fixed the bug where you couldn't use the Magic Containers cheat menu option to add extra magic containers. ( _L_, 2008-11-17 06:51:40 )

* The 'Block All' combo type no longer blocks Hookshot handles and chains.
* Forcibly fixed a bug that made Link's retracting stab (that is, frame 15 of the stab animation) slice the Tall Grass combo that Link was standing on. Now, that frame no longer has hit detection.
* Misc. Colors: Renamed 'Dungeon Foreground' to 'Minimap Foreground 1' and 'Cave Foreground' to 'Minimap Foreground 2', as well as some others.
* As you know, if a NES Dungeon DMap had a Level of 0, then ALL of its NES Dungeon features were suppressed! This behaviour is removed, and instead, all previous quests' Level 0 NES Dungeon DMaps are converted to Interior type DMaps, which have completely identical functionality.
* ...Except, of course, for the minimap foreground colour. So, the 'Use Minimap Foreground Color 2' DMap flag has been added. All non-Overworld DMaps use Minimap Foreground 1 unless that flag is set. In prior quests, all normal Interior DMaps will have it set, and all converted level 0 NES Dungeons will have it unset.
* Helpful messages: The Secret Combos dialog now indicates which Layer's Secret Combos are currently being edited. Also, the DMap Editor now tells you that one of the Minimap tile options silently disables the classic NES minimap.
* Rejoice! The 'Trigger->Self' and 'Trigger->Self, Secret Tiles' Combo Flags now work on layers!
* Large Mode: expanded the Warp Rings dialog, the Tile and Side Warps dialog, and the Select DMap dialog.
* Large Mode only: The Select DMap preview box now shows the Minimap tile background in addition to (or instead of) the classic NES Minimap. ( _L_, 2008-11-12 02:08:45 )

* ZScript: sanitised the code for the Screen combo arrays so that out-of-bounds array indices (for instance, getting and setting combo number 176 and above) no longer meltdown the system.
* Repositioned the Hammer's vertical collision box four pixels downward. Or, to put it another way, its lweapon->HitYOffset value is now 4 when swung vertically. ( _L_, 2008-11-06 09:14:34 )

* Fixed the bug where screen SFX weren't being hushed when Link left the screen via certain whirlwinds.
* Added some sanity checks to the combo flag secret-triggering code, to prevent chaos from ensuing when a weapon passed through the upper-left corner of the screen.
* Made a fix to the aforementioned Goriya tile flip compatability fix. Now, it won't be applied if the 'Use New Enemy Tiles' rule was in effect. ( _L_, 2008-11-02 08:38:40 )

* ZScript: If a Like Like or Wallmaster is holding Link and is moved by a script, then Link will also be moved.
* Large Mode: expanded the 'Assign Compiled Script' dialog.
* Added a checkbox, 'Output ZASM code to allegro.log', to the Assign Compiled Script dialog. If unchecked, then the resulting ZASM code from the compilation process will not be output to allegro.log when assigned to script slots. If your quest uses startlingly large numbers of scripts, then this should reduce compile times by about 40%.
* Change of plans: setting an LW_HOOKSHOT's DeadState to WDS_BOUNCE multiple times will no longer continually negate the lweapon's Step. Rather, it will remain negative if it is already so.
* Fixed a bug where previously deleted characters in a message string were sometimes being printed in-game.
* Added some more IC_ and I_ constants to std.zh. ( _L_, 2008-10-29 01:54:30 )



Build 887 - windows
* Changed the blinking and transparent Ghini quest rules into enemy flags that can be used by all enemies.
* All enemies now respect the 'is flashing' enemy flag, not just Bubbles and Rope 2's.
* Removed the obsolete "Link Slash" misc weapon sprite.
* Fixed the bug where the descenders of letters in certain text objects in large mode were being clipped.
* Added two new non-keyboard letter grid name entry modes for the save slot screen. These are accessible from the Settings Menu.
* Moved the "Key Buttons", "Key Directions" and "Joystick/Gamepad" menus to a "Controls" submenu.
* The "Corrected Animation" and "Directional Sprites" item flags now work for boomerangs. The sequence for the tiles used by the "Corrected Animation" flag are up, down, left, right, up-left, up-right, down-left, and down-right. If the "Corrected Animation" flag is checked, the edge-of-screen clipping spark is pulled from the tile following the list of tiles used in the animation instead of from tile 54. That way, each boomerang can have its own clip spark.
* Fixed a bug where the sprites would not show up when the test button was pressed in the item editor. ( DarkNation, 2008-10-25 15:45:25 )

* ZScript: the LW_HOOKSHOT lweapon's Dir now remains the same even when it's retracting. To tell if it's retracting, know that, instead, its Step becomes negative. Also note that now, setting DeadState to WDS_BOUNCE multiple times will negate its Step each time.
* Fixed the bug where the Tile Editor's Fill cursor jumps position when used.
* Fixed the bug where the Combo Flag cursor becomes invisible when changing screens with Combo Brush enabled. ( _L_, 2008-10-25 03:07:10 )



Build 885 - windows
* Fixed a crippling save game bug that would most certainly kill any save files you're currently using. But that's not so bad because you all back up your quests and save files before every beta, right? .....right?
* As usual, it's _L_'s fault :P ( jman2050, 2008-10-23 19:10:17 )



Build 884 - windows
* Fixed the bug where using assignment operators on arrays crashed the compiler.
* Fixed a brutal quest corruption bug that occured if you created a zero-length text object in a subscreen.
* Fixed the bug where clicking on the grid in the misc colors menu for "Message Text" crashed the program
* New build for you guys! ( jman2050, 2008-10-23 13:24:12 )

* Fixed the Small Mode Enemy Editor dropdown menus.
* Fixed the bug where the Wealth Medal messed up the displayed pricing of the 'Leave Life or Money' Room Type.
* Added an option checkbox enabling/disabling the aforementioned Rulesets dialog. ( _L_, 2008-10-23 08:05:36 )

* Fixed the bug where Link couldn't warp while a message was being typed out, even if the 'Messages Freeze All Action' rule was not set.
* Fixed the bug where whirlwinds reflected off magic mirror combos weren't properly disposed of, causing sound effects problems.
* ZQuest: Fixed the long-standing bug where the door in a left screen edge preview was incorrect.
* Fixed the bug where Link grabbing an item that must be held up, while being propelled by the hookshot, caused him to freeze. ( _L_, 2008-10-16 01:09:37 )

* Seemingly fixed the bug where Tektites, Vires and Pols Voice enemies couldn't have their Y modified if the 'Enemies Move Through Z-Axis' rule was set.
* Now, the 'Nayru's Love' item family uses left and right rocket sprites, the latter of which already exist in the Default Template. Also, the shield sprites can now be changed for each Nayru's Love item.
* Spell rockets are no longer blocked by 'Block All' combos.
* Slightly tweaked the hitbox for Link's sword slash, to make it more closely overlap the sprite itself.
* Also, the LW_SWORD, LW_WAND and LW_HAMMER lweapons now have correct hit detection and combo detection when they're moved away from Link with a script. Telekinesis! ( _L_, 2008-10-14 19:03:03 )

* Save file bug: Only 64 Screen->D[] variables existed per DMap, even though Overworld DMaps can have 128 screens. This is fixed.
* Fixed the bug where Screen->State[] would sometimes not produce the correct values in non-Overworld DMaps.
* Fixed the bug where Link wasn't properly adhered to the grid when walking down a 'Cave (Walk Down)' combo. ( _L_, 2008-10-10 09:16:19 )

* The 'Screen Enemies' dialog now contains a preview tile showing the Tile or E. Tile of the currently selected enemy in the list.
* Also, the dialog has been expanded in Large Mode.
* Also, you'll receive a warning if your list has the '(None)' enemy in the beginning or middle of the list.
* Fixed the bug where you couldn't set the Bait's sprite in the Item Editor.
* Added a Sign macro to std.zh, and added extra comments to some constants, such as GEN_WARPLEVEL. ( _L_, 2008-10-08 05:54:44 )

* Fixed the bug where the 'Upgrade Item If Collected Twice' attribute wouldn't work for custom items with IDs > 128.
* Fixed the bug where getting an item from a Treasure Chest combo wouldn't set the 'Treasure Chest' or 'Special Item' Screen States.
* Fixed the bug where hookshot chain sprites would be left behind if the hookshot's position was modified with ZScript. ( _L_, 2008-10-04 22:58:43 )

* Fixed that pesky bug where the values of Screen->D[] wasn't being saved in save files.
* The 'Hookshot Only' combo type now works in layers. So, if nothing on layers 0, 1 and 2 obstructs a hookshot, it can pass.
* Fixed the bug where using ZScript to set a LW_HOOKSHOT's DeadState to 0 would freeze up the game. ( _L_, 2008-10-03 05:31:44 )

* Fixed the bug involving the Link Animation Style dropdown menu.
* ZScript: Added lweapon->Behind and eweapon->Behind, which match the Behind checkbox in the Weapons/Misc. sprites editor.
* Fixed a counterintuitive peculiarity involving Screen Secrets, Inherent Combo Flags and flagged Secret Combos. For more information on how these three things interact, please visit http://shardstorm.com/ZCwiki/Screen_Secrets. ( _L_, 2008-10-02 00:43:23 )

* The Damage Multiplier of the current Hurricane Spin item is now used in damage calculations involving the Hurricane Spin.
* The Whimsical Ring's damage bonus is now added after the Spin Attack and Hurricane Spin's damage multiplier, rather than before.
* The bug where Sword, Wand and Hammer lweapons' Damage was always 0 is fixed.
* Tile Editor: Using the Alt-Arrow hotkey to shift tiles around will now correctly mark the quest as altered.
* ZQuest: the FPS meter is now sufficiently easier to read in Large Mode, and no longer interferes with the Show Script Names view option. ( _L_, 2008-09-30 09:21:24 )

* Fixed a bug relating to menus and clicking. ( DarkNation, 2008-09-29 21:26:38 )

* Fixed a bug in ZQuest's Preview Mode, which now correctly shows the effects of Screen Secrets on inherent-flagged FFCs.
* ZScript: Fixed a bug where a call to Screen->Message made by an FFC with 'Run Script On Screen Init' would cause the message's tile frame to be missing when it appeared. ( _L_, 2008-09-29 10:14:57 )

* Fixed the bug where enemies could walk into walls while falling in sideview. ( _L_, 2008-09-27 09:57:59 )

* Helpful ZQuest feature: Now, when you start a new file, a dialog box offers you a selection of initial 'rulesets'. Selecting one automatically unsets and sets a selection of quest rules corresponding to the theme of the ruleset. The current rulesets are 'Default', 'Original NES' (only one rule), 'Fixed NES' (all NES Fixes only), 'BS-Zelda' (Fixed NES, plus BS-Zelda animations, new enemy tiles, fast scrolling, new pushblocks, opening wipes, etc.) and 'Zelda 3-esque' (BS-Zelda, plus diagonal Link movement, messages freeze, speed-up messages, magic, true arrows, more sound effects, etc.) This should greatly benefit new users, who might not be aware of ZC's ability to transcend the NES game's limitations, and allow them to immediately build 'modern' quests without the daunting task of setting each quest rule individually. ( _L_, 2008-09-21 09:40:12 )

* Applied a compatability fix where BS-Zelda Patras in quests made before the Enemy Editor appeared have their CSet changed to Extra Sprite Palette 2, which is how it was in 2.10.
* ZScript: Now, the values of Link->InputMouseX and Link->InputMouseY are appropriately scaled to match the resolution of ZC.
* Large Mode: The 'dummy bar' in ZQuest has been inflated into Layers Bar, which shows you at a glance what layers are active and which screens those layers use, and lets you switch to or hide layers at any time. It also subtly shows whether the 'Layer 2 Is Background' or 'Layer 3 Is Background' Screen Flags are active.
* Also, the now-redundant Layers main panel has been removed... but it is still active in Small Mode.
* Also, to make room for the bar, the number of Commands has been reduced from 10 to 8. ( _L_, 2008-09-21 00:18:44 )

* Fixed the bug where you could walk onto unwalkable land combos while swimming.
* ZScript: changed the range of values of weapon->Step, bringing them into line with npc->Step. A weapon->Step value of 1 is now 100, and so forth. Please forgive any temporary inconvenience thus caused.
* This, by the way, permits weapon->Step values of 150, 172 and such - previously, values of 1.5 and 1.72 weren't possible. ( _L_, 2008-09-19 10:14:57 )

* Fixed the bug that made Ropes with unusual Step values have erratic charging movement.
* ZScript: Fixed the, ahem, other bug that prevented eweapon->UseSprite() from being recognised by the parser.
* Large Mode: expanded a few more dialogs, such as View Palette, Edit Shop Type and Edit Info Type.
* Fixed the bug where using Farore's Wind to return to a Cave combo would cause Link to warp as soon as he appeared. ( _L_, 2008-09-16 10:54:13 )

* Fixed the bug that prevented recently-slashed slashable combos from being slashed again. ( _L_, 2008-09-12 10:25:36 )

* Fixed the Fairy, Fire and Zelda room guys so that no weapon ever hits them, including damaging boomerangs.
* Fixed the bug where Link's swimming sprite would momentarily appear when jumping over walkable water with Flippers.
* Large Mode: enlarged many more ZQuest dialogs, such as Combo Editor, Dungeon Template, Options, View Map, Color Set Fix, Palette, Maze Path, Enemy Flags, Freeform Combo Editor, SFX Editor, Layers, Select Subscreen, and Door Combo Set Editor. ( _L_, 2008-09-09 23:21:50 )

* Fixed the bug that interfered with Link's movement when pushing a block with diagonal movement.
* Fixed the bug where Link's sword, hammer and such aren't drawn when in midair in sideview while also holding a directional key.
* ZScript: Fixed the bug where enemy weapons with IDs between EW_SCRIPT1 and EW_SCRIPT10 couldn't be created. ( _L_, 2008-09-07 09:07:23 )



Build 864 - windows
* Hopefully all the dialog box errors are gone in this build :x ( jman2050, 2008-09-06 14:12:34 )



Build 863 - windows
* Fixed a crippling bug in the Initialization menu. For this reason, a new beta. ( jman2050, 2008-09-04 11:27:26 )

* Fixed the fix for the Pound combos. And I bothered to test it this time!
* ZScript: Fixed the bug that prevented eweapon->UseSprite() from being recognised by the parser.
* Also added a line about weapon->UseSprite() to zscript.txt.
* Fixed the bug where enemies' DrawYOffset was -2 in sideview. It should only be -2 in topdown, as per the NES.
* Presumably fixed a bug where using 'Enemies Carryover In Warps' to carry enemies from a topdown screen to a sideview screen didn't change their Jump or DrawYOffset. Please test this! ( _L_, 2008-09-04 01:08:59 )



Build 861 - windows
* New build yay! As usual, use at own risk, test for bugs, and don't kill me if it turns your computer into mush. Happy questing! ( jman2050, 2008-09-03 10:21:17 )



Build 860 - windows
* Let's try that again. >_> ( Sean, 2008-09-02 08:22:14 )



Build 859 - windows
* This release is only for the bugfix for ZClauncher ( Sean, 2008-09-02 08:13:38 )

* Fixed the bug where a file slot's icon would sometimes use the wrong ring after choosing a different custom quest.
* Fixed the bug where an Item Override Sword could interfere with a Boomerang's sparkles.
* Presumably fixed the bug where Game->Cheat wasn't influencing or being influenced by the current cheat level. ( _L_, 2008-08-30 06:50:16 )

* Changed the tab code a bit to ensure that only objects that are on the active tab actually get drawn. Test for problems and such. ( jman2050, 2008-08-28 16:53:53 )

* Fixed the bug where Leevers with a Step of 300 would sometimes ignore walkability.
* Scaled up several more minor dialogs. ( _L_, 2008-08-26 05:05:10 )

* Fixed the bug where Fairy flag heart rings would cause the hookshot to freeze.
* ZScript: Link's sword, Link's hammer, and his wands/candles/canes are now lweapons that can be read and modified with Screen->LoadLWeapon. Aah! The power!
* As a consequence, you can now make sword, hammer and wand sprites flash.
* Use these constants in std.zh: LW_SWORD for swords, LW_HAMMER for hammers, and LW_WAND for wands, candles and canes. ( _L_, 2008-08-24 03:45:05 )

* Fixed the bug where the current quest's string order would be messed up if you opened a quest file after editing a different file.
* Now, ZQuest will reset your string order if your quest file's ordering becomes corrupted.
* Increased the maximum number of custom sound effects to 255.
* Large Mode: various dialog boxes, such as Enemy Editor, Item Editor, Screen Data and Quest Rules, have been scaled up to match Large Mode's screen size. Note that the remaining dialog boxes will almost certainly also be scaled up at some point. Note also that the font choice for the new dialogs shouldn't be considered final just yet. ( _L_, 2008-08-17 05:10:14 )

* As you know, one of the misc. values for 'Walker and Shooter' and 'Rope' enemy types is a weapon offset value for enemy deaths. It is now possible to use said offset to specify the '(None)' weapon - that is, have no weapon at all for enemy deaths. Comprehende?
* State change carryover log messages now correctly list the screen number in hexadecimal.
* If a scripted FFC uses combo 0 (i.e is inactive) then its name won't be listed by the Show Script Names view option, and nor will it appear in the Script Locations quest report. ( _L_, 2008-08-12 08:56:09 )

* Fixed the bug where damaging Boomerangs can hit Guys in caves.
* Fixed the bug where the enemy placement routine sometimes places enemies in unreachable areas in dungeons.
* Fixed the bug where the \3\X\X\X control code, Goto If Global, wasn't being interpreted correctly in ZQuest.
* Now, the ZQuest error message logs for referencing nonexistant LWeapons and EWeapons mention the variable that was being referenced, making debugging easier.
* Fixed a slight bug with the NumLWeaponsOf and NumEWeaponsOf functions in std.zh.
* Added entries for the DrawXOffset, DrawYOffset and DrawZOffset variables into zscript.txt.
* Fixed the bug where looping Hookshot and Boomerang sounds, as well as the wavy screen effect, were present when viewing the Overworld Map. ( _L_, 2008-08-09 00:56:24 )

* Fixed the bug where old-animation Leevers had a slow frame rate.
* Fixed the bug where giving/removing items via scripting was not being logged.
* Fixed another Item Override sword beam bug.
* ZScript: all of the drain counters now work (including hearts) rather than just the rupee and magic counters. ( _L_, 2008-08-06 02:13:59 )

* Fixed the Pound combos.
* Fixed the menu letter shortcut in Quest->Defaults.
* Fixed the CSet of the Patra enemies' inner circle of eyes.
* Fixed the bug where Darknuts with hunger 3 ignore solid combos while walking.
* Fixed a potential bug involving endless looping Room State Carryovers.
* Fixed the bug where setting Screen->State[] wouldn't work.
* Combo Types: renamed the 'Trigger' types to 'Step->Secrets'. To avoid confusion for new users, the word 'Trigger' ought to be reserved for Trigger Flags. (If this sounds familiar, it's because last time I changed their names in the wrong places.)
* Combo Types: renamed 'Auto Tile Warp' back to 'Sensitive Warp'. Reason: I was wrongly informed by some documentation that they were identical. But they are not! Sorry, folks.
* Other Quest Rule: Log Game Events To Allegro.log. Now all of the special event logging is tied to that rule. It's a helpful rule for debugging! But turn it off if you don't want players to be able to peek behind the curtain, so to speak. ( _L_, 2008-08-01 08:19:06 )

* Fixed the bug where consecutive magic spell casting (that is, Nayru's Love, Din's Fire and Farore's Wind) wouldn't work.
* Fixed the 'slow walking in whistle-dried walkable water combos' bug. Understand?
* Fixed the bug where Link wouldn't be frozen when prompted to press A by the 'Messages Disappear' quest rule.
* Seemingly fixed the bug where enemies held in a negative Y-axis quadrant were eventually removed from the game.
* ZScript: Until negative constants are implemented - and they are not! - the WDS_NOHIT constant in std.zh is no longer usable. If you're using build 846, you should probably remove that line from your std.zh file as well. ( _L_, 2008-07-29 09:48:48 )

* New Build for OS X Leopard ( Takuya, 2008-07-25 20:52:01 )

* Fixed the bug where the Potions' magic cost wasn't functional.
* Fixed the bug where reverting a quest would mess up the FFC script dropdown menu items.
* Fixed the bug where the 'Special Items Don't Appear In Passageways' quest rule was not functional. Whoops!
* Large Mode: enlarged the Select Room Type, Select Item and Select Weapon dialogs. ( _L_, 2008-07-24 20:11:01 )



Build 846 - windows
* Added a new font, "Phantom" from the DS title, "The Legend of Zelda - Phantom Hourglass" (the font used for the name entry screen, anyway). This comes in 2 versions, fixed-width and proportional. ( DarkNation, 2008-07-22 20:55:59 )

* Fixed the bug concerning the permanency of 'Take One Item' and 'Red Potion or Heart Container' room types. Whoops!
* Fixed the bug where setting npc->Extend to 3+ would interfere with 4-frame 8-dir enemy animations (which, as you know, use more than one tile row even for 1x1 tiles).
* The subscreen element called 'Minimap Title' has a new checkbox - 'Invisible w/o Dungeon Map'. Until you collect the level's Map, you won't know the name of the dungeon you are in!
* Removed the LW_SWORD and LW_HAMMER constants from std.zh, on the basis that, hey, they don't actually ever appear in-game. Those hand-held objects manifest as Link sprite decorations instead of actual lweapons.
* Now, a line is outputted to allegro.log when Link gains or loses an equipment item. Use this for quest debugging purposes! (Hey, that 'Gain All Lower Level Items' item checkbox can trip you up sometimes.) ( _L_, 2008-07-22 09:53:14 )

* Fixed a quite unfortunate bug where ZQuest became confused about which sound effects were customised and which were not.
* Fixed the bug where Leevers with unusual misc3 values wouldn't adhere to the grid when moving. ( _L_, 2008-07-19 05:44:43 )

* Fixed the Quick Sword not affecting Wand bug. For the second time!
* Fixed the bug where the Cane of Byrna's beams were affected by combos that reflect or block sword beams.
* Added the weapon->DeadState constant WDS_NOHIT to std.zh, which is equal to -10. Reason to use it: it means your code is slightly more readable.
* Large Mode: the string selection dialog boxes are now twice as long and twice as wide, and use a larger font. ( _L_, 2008-07-18 11:01:10 )



Build 842 - windows
* New windows build finally! Made a slight addition to the weapon sprite code. If you want to control a weapon sprite via a script while having its collision detection continue to function normally, set DeadState to -10. Please test that this works.
* For the next build, I'm going to focus specifically on improving large mode and attempting to speed up the now-extremely slow ZQ interface. So for those complaining about that, I ask for just a bit of patience. ( jman2050, 2008-07-17 12:02:19 )

* Added two new variant enemy patterns: Fall From Ceiling (Random), and True Random. These patterns place enemies at any legal location onscreen, unlike the NES-style Random and Fall From Ceiling patterns. A basic rule of thumb is: if less than 50% of the screen is walkable, use the True Random pattern instead of the classic Random pattern.
* Furthermore, the bug where the NES-style Random pattern would run out of locations to place an enemy... is fixed. In that situation, it now defers to the True Random pattern.
* Added a warning box which appears when you have attached a script to an FFC with combo number 0. ( _L_, 2008-07-14 09:19:14 )

* Seemingly fixed the end-of-tile-list paste bug.
* Fixed the Large Map overworld Link position bug.
* Fixed the sword beam magic prism sprite flip bug. This is different to the magic mirror bug, by the way.
* Added an 'M' hotkey to the CSet Editor. What it actually does is swap the positions of the cut colour and the destination colour. ( _L_, 2008-07-13 08:44:25 )

* ZScript: the item->Data variable doesn't actually work, and has thus been removed.
* In its place is the item->ID variable, which is the integer ID number of the respective item.
* Finished implementing Game->LoadItemData(int item), which returns the itemdata pointer for the respective item ID.
* Fixed the bug where weapon->UseSprite(int id) didn't work in item scripts and global scripts. ( _L_, 2008-07-10 10:57:52 )

* The Bubble enemy type is no longer invulnerable regardless of its Invincible flag. Go ahead - make vincible Bubbles.
* Fixed the bug that suppressed the Quick Sword rule. For the fourth time!
* Fixed the bug where defeating Ganon in a Ganon room type was not made permanent.
* The Block Weapon combo types have been re-implemented, and should block all applicable weapons and itemclass levels. ( _L_, 2008-07-08 00:46:20 )

* Fixed the bug where Link couldn't move during the hurricane spin with NES movement.
* Enemies no longer walk around while they fall from the ceiling, bringing this behaviour in line with the official games. ( _L_, 2008-07-06 07:00:14 )

* And now, with no expense spared, I present the ability to name and rename your quest's sound effects.
* Another modern convenience: the FFC editor's script menu now lists script names in alphabetical order!
* Now, if a bomb or other lweapon falls through the bottom of a sideview screen, it will be removed. ( _L_, 2008-07-05 10:49:14 )

* The 'Item Override' box in the Subscreen Editor is now a dropdown menu of items.
* Fixed the buggy string deletion bug.
* All of the Slash, Bush, Flowers, Tall Grass and Pound combo types now work when used as Freeform Combos, to match the fact that Sword Trigger inherent flags already work on FFCs. Although, it should be said that a 'Tall Grass' type FFC will NOT produce the Tall Grass decoration on Link's sprite.
* Also fixed an apparant bug involving the Hammer Trigger flag as an inherent combo flag on an FFC. ( _L_, 2008-06-30 22:39:39 )

* Tweaked the Stomp Boots' collision detection (for the sixth time) with respect to flyers in sideview. Don't be discouraged! This time very few qualms remain.
* Fixed the bug where re-sorted strings interfered with the Select Message String dialog. ( _L_, 2008-06-28 00:59:06 )

* The 'Door Repair', '1/2 Magic Upgrade' and 'Learn Slash' room types are no longer broken if the 'Messages Disappear' Quest Rule is set.
* Quest Rule: Special Items Don't Appear In Passageways. This is a NES Fix rule, because the ROM hack 'Zelda Challenge: Outlands' makes use of this behaviour. ( _L_, 2008-06-27 01:08:10 )

* All lweapons are now aware of which equipment item created them. This should fix several unreported Item Override and/or scripted lweapon bugs.
* The Cane of Byrna's slash and stab sprites are now implemented.
* The Cane of Byrna now creates a beam lweapon that orbits Link, expends Link's magic or rupees, and damages any enemy that is vulnerable to wand magic.
* The Cane of Byrna itemclass now has the following editable features: Penetrates Enemies, Beam Speed Divisor, Orbit Radius, Number of Beams, Orbit Sound, Sparkle Sprite and Damaging Sparkle Sprite. Invincibility, however, remains unimplemented.
* Fixed the bug where 'Dive For Item' items could be collected repeatedly. ( _L_, 2008-06-25 22:54:34 )

* Added a new font, based on the font used in the Zelda Oracle games. There are 2 versions (fixed-width and proportional).
* Fixed the icons for the OS X ROMView application. ( DarkNation, 2008-06-24 02:12:08 )

* Custom wizzrobes will no longer create the (None) weapon if that is their weapon. Instead, they will perform their firing animation but make no sound.
* Added an npc->Tile variable, which is the current tile associated with the NPC - not just its original tile. Activity: you can use this in conjunction with certain enemy animations to determine if an enemy is trying to fire its weapon or not.
* But! For very necessary consistency with item->OriginalTile and weapon->OriginalTile, the former npc->Tile is renamed to npc->OriginalTile, and NPCTILE is now NPCOTILE. This will, I think, NOT break compiled and loaded scripts, but will require ZScript and ZASM source code that used those variables to be modifed.
* Fixed the bug where the Tile Editor's palette was resetting to the default palette needlessly.
* Fixed, again, the splitting enemies vs. Enemy Carries Item crash for Darknuts, and possibly Vires, Zols, Tribbles and Digdoggers as well.
* Here's an activity: in The Legend of Zelda level 1 entrance, go right, slay all Stalfos, but do not pick up the key. Leave and re-enter. Where does the key appear? ...I've fixed proposed1st.qst in that regard. Maybe you could check that all of the other default item locations in 'Enemy Carries Item' rooms in 1st.qst match with the game? ( _L_, 2008-06-23 20:56:24 )

* Transparent string frames are now supported. I thought that, like translucency, it would be too costly to implement at this point. But, in fact, an easy foolproof solution was there all along. Forgive my foolhardiness.
* Renamed a few subscreen fonts.
* Fixed the superfluous post-string sounds bug. ( _L_, 2008-06-22 00:10:14 )

* Fixed a bug in the tile overlay script command. ( DarkNation, 2008-06-20 19:55:42 )

* OS X Leopard Intel Only. Fullscreen is broken right now ( Takuya, 2008-06-20 18:49:17 )

* Fixed the bug where various lower-level Item Override weapons used the wrong sprite.
* Also fixed the bug where the sword's sprite could be changed to that of the other weapon's.
* Step->Next triggering now works absolutely perfectly - for both diagonal and non-diagonal movement.
* Patra BS segments no longer remove Armos combos when spawned. ( _L_, 2008-06-19 22:06:47 )

* Fixed the bug with ZC crashing when trying to play MIDI files and MP3 files simultaneously. ( DarkNation, 2008-06-18 18:34:20 )

* Fixed the bug where, ahem, special Room Type Guys were reappearing incessantly.
* Now, when you reorder your quest's string list, the Next String droplists won't display the wrong string.
* Subtly tweaked the sideview Stomp Boots again. ( _L_, 2008-06-15 23:24:35 )

* Moved Link's inverted right sword-slash slightly upward such that it actually touches his sprite. You probably didn't think I'd ever get around to doing that, right?
* Now the two other arrow buttons in the Select String box move the selected string up and down 12 spots, instead of just switching the places of the nth and the n+12th.
* You can no longer edit the '(None)' enemy. Why would you do that?
* Did you know that if you were on the Stepladder, over a walkable water combo, and you jumped, you would suddenly drown? ...Not anymore, though!
* Now, if an itemclass has no misc. values at all, you can't edit them. Why would you do that?
* If Link appeared on a Stair combo by exiting a Passageway, he no longer gets sent back into the Passageway.
* And finally, a new misc. value for swords: Beam Penetrates Enemies. Wasn't DN considering adding this back in 2001? ( _L_, 2008-06-15 04:24:09 )



Build 819 - windows
* This is exactly the same as the previous build, but has been compiled with optimizations turned on. See if it makes ZQuest run any faster for some of you. ( DarkNation, 2008-06-13 16:57:54 )



Build 818 - windows
* Corrected the keyboard shortcuts for the menus in the Zelda Classic game engine.
* The header dialog now hides the Quest Number box by default to keep people from accidentally setting it to something other than 0. You can still see/edit the value by holding down a shift key while accessing the dialog if you need it for some reason.
* The shift-click function of the combo alias feature (used to clear a combo from the alias) now works with both shift keys instead of just the left one. ( DarkNation, 2008-06-13 16:43:07 )

* Fixed a control code bug - now, consecutive control codes that appear after the 72nd displayable character won't be prematurely discarded.
* Setting Link->Jump in scripts now resets his jumping animation. So that's why those sideview scripts looked a bit odd.
* Fixed the long-standing bug that prevented damage combos on layers 1 and 2 from working! Yippee! ...What? ...What do you mean, you thought it wasn't? ...In what quest? ...How many times?
* ...Fine, I'll make it a quest rule. Happy now?
* I have a confession to make: I have added the ability to re-order a quest's string list. Without changing a string's ID number, you can move them up and down the string list using four buttons. The new order will be saved to the quest file. I get the feeling that this will greatly assist text-heavy questmaking.
* The Text Dump feature will now output the strings in the questmaker's order, as well. ( _L_, 2008-06-12 10:09:02 )



Build 816 - windows
* New beta to address the crippling sideview bug. Still working on other issues, so please try to be patient with us. ( jman2050, 2008-06-11 08:54:46 )

* Fixed the sword beam magic mirror sprite flip bug, using nothing short of brute force. Maybe today isn't so bad after all.
* Fixed the position of Small Mode's Preview Mode text. ( _L_, 2008-06-09 03:00:12 )

* Fixed the bug where Sideview stopped working. Again, I'm quite ashamed.
* Fixed the bug where 'Armos -> Item' items weren't setting the correct Screen State. Don't forget to test special rooms and special items!
* Now, a line is added to Allegro.log whenever the Screen State is changed, or whenever Screen Secrets are triggered. This should help you understand when and why these changes occur. ( _L_, 2008-06-09 00:15:22 )



Build 813 - windows
* New windows build to address the crippling new string bug. Sorry I didn't do it sooner, I neglected the fact that _L_ can't make Windows builds ( jman2050, 2008-06-08 11:02:34 )

* Fixed the bug where the flashing Warp Return blue square function often flashed the wrong square. You do remember that if 'Show Squares' is on and you click 'Go' in the Tile Warp dialog, the destination square flashes?
* Also fixed the bug where 'Whistle->Dry Lake' didn't stop Link from drowning in the non-water.
* Also, if you click on a letter in the String Editor's preview pane, the cursor in the string editing box will jump over to that letter. Not that useful, I know, but here it is. ( _L_, 2008-06-08 09:13:50 )

* Fixed the bug where setting positive values to npc->Jump had very wrong effects.
* Added the 'Other' enemy type, which is identical to the 'Fire' type, but is allowed to fall and jump if a script requests it.
* Since so many like to use it for custom boss scripts, the 'Fire' type is renamed to the 'Other (Floating)' type.
* Fixed the overly long wording for the Wand type's misc. flags.
* More script stuff: if you set an NPC's Extend to 4, its shadow won't be drawn even if the quest rules permit it.
* ...Of course, it would be tidier if you used the new EXT_ constants I added to std.zh just now. ( _L_, 2008-06-08 03:24:17 )

* Fixed that most humiliating New String crash.
* In sideview, Link no longer falls while drowning.
* Clocks can no longer be Equipment Items.
* The enemy animation styles '2-Frame', 'Slow 2-Frame' and such are no longer twice as long as they should be when 'Use New Enemy Tiles' is enabled. ( _L_, 2008-06-07 00:46:23 )



Build 809 - windows
* Fixed the bug in large mode where placing combo flags on the bottom or right edge of the screen would cause display errors in adjacent screens.
* As always, check for new bugs, and be sure to remind us of any bugs that haven't been fixed yet. Thanks. ( jman2050, 2008-06-06 14:05:09 )

* Fixed the bug where the enemy animation pattern '2-Frame 4-Dir' was actually identical to '4-Frame 4-Dir'. Don't forget to test those out!
* I've changed my mind - previous I changed three variables' names to HitWidth, HitLength and HitHeight. Now, for consistency with TileWidth and TileHeight etc., I've changed HitLength back to HitHeight, and HitHeight (formerly HitDepth) to HitZHeight. That should be the least confusing nomenclature.
* Those details will be listed in ZScript.txt, if you're confused. ( _L_, 2008-06-06 02:36:16 )

* Fixed the bug that caused ZScript-generated Red Wizzrobes to take a devilishly long time to appear.
* Now, right-clicking on a combo in the Favorites palette gives you the menu option of scrolling to the combo instead of just editing it.
* Fixed the bug where non-Link decorations (grass clippings etc.) were visible during screen scrolling. ( _L_, 2008-06-04 07:50:14 )

* As you know, strings are 144 characters long, permitting 72 visible characters and 72 control codes/arguments. A previously unseen bug has corrupted the final four characters in all strings containing control codes. This is fixed.
* You can now export a Text Dump, which is a formatted text file containing all of the quest's Strings, including control codes. Don't forget to proofread your text! (But no, you can't put a Text Dump back into the quest.) ( _L_, 2008-06-03 05:58:21 )

* Fixed a, ahem, fairly bad bug that made string control code \5\X\X not work at all. Sorry, folks!
* Now the 'Go To Location' cheat dialog box has a dropdown menu listing DMaps by name. Finally!
* Fixed the bug where, while crossing an unwalkable combo, the Stepladder disengaged when one jumped. ( _L_, 2008-06-02 02:40:31 )

* Now the very important 'Recolor' (or 'Reduce') function in the tile grabber is its own button rather than an invisible undocumented hotkey (Good lord, why?)
* Fixed the 'bug' where incrementing ffc->CSet, npc->CSet and Screen->ComboC beyond 15 did not 'wrap around' the value back to 0.
* Fixed the bug where setting item->CSet did nothing for non-animated items. ( _L_, 2008-05-31 21:49:17 )

* Fixed the bug where screen items disabled certain Special Items when collected.
* Fixed the bug where the subscreen's Item Override caused the wrong swords to trigger different-level Sword combo flags.
* Fixed the 'bug' where the S hotkey in Preview Mode didn't work.
* Also removed the E hotkey in Preview Mode, on the basis that Enemies->Secret is actually exactly the same as ordinary Screen Secrets. Hmmm.
* Made the Preview Mode hotkeys list larger in Large Mode.
* Fixed the bug where the A hotkey ('Catch All') worked on occasions when it shouldn't.
* Combo Flags: renamed the 'Push' flags to 'Push Block (Trigger)', 'Push (Silent)' to 'Push Block', 'Singular' to 'Trigger -> Self Only', and 'Singular(+16-31)' to 'Trigger -> Self, Secret Tiles'. They may be a bit less elegant, but they're quite less obtuse. Also added 'Trigger' to the names of the Trigger Flags, for easy identification.
* Combo Types: renamed 'Trigger' types to 'Step->Secrets'. To avoid confusion, the word 'Trigger' ought to be reserved for Trigger Flags.
* Formerly, scripts wouldn't Restart When Carried Over if they had halted at any point in their execution. This is fixed.
* New 'Current Item' subscreen objects are no longer initially invisible. And about time!
* Added some new utility routines to std.zh - NumLWeaponsOf(int type) and NumEWeaponsOf(int type), which can be used to find, say, how many LW_HOOKSHOTs are on the screen. ( _L_, 2008-05-26 22:25:55 )

* Fixed the bug in my fix for the Fire Magic's sprite. Please forgive my foolishness.
* Reverted the fix by jman2050 in build 780 concerning the Fire Magic sprite. It was made under a misassumption which has now been resolved.
* The Book class's 'Fire Sprite' renamed to 'Magic Sprite'. That explains it.
* Also, Farore's Wind items no longer have a 'Fire Sprite'. ( _L_, 2008-05-15 04:48:25 )

* Fixed the bug where the 'Fast Dungeon Scrolling' rule was listed twice, interfering with the other rules.
* Fixed that bug where Link can't collect items while spin-attacking.
* You may have noticed that the Large Dungeon Maps in the subscreen don't mark rooms when one is in Overworld DMaps. For now, this is changed.
* Re-labeled the 'Nayru's Love' item data flags appropriately, and fixed the 'Shield Flickers' flag.
* Renamed the 'ColWidth' and other sprite hitbox variables to 'HitWidth' and such.
* To make custom weapon scripting more convenient, a new function, weapon->UseSprite(int id) exists. It will set the weapon's Tile, CSet, NumFrames etc. to those values in a specific 'Weapon/Misc Sprite' entry, rather than requiring the script to set all of those variables individually. ( _L_, 2008-05-14 22:54:43 )

* Fixed a bug where trying to push a push block after landing on a dock would not work and would sometimes cause you to start rafting again.
* Changed the Quit menu item in ZC to read "Quit Quest".
* Corrected the position of the pressed Pal button in the tile grabber.
* Corrected conflicting keyboard shortcuts in the ZQuest menus.
* Added keyboard shortcuts to any menus in ZQuest that didn't have them.
* Fixed a bug where pressing 2 keys at once or holding down a key for several seconds could cause ZQuest to ignore the keyboard in preview mode until the user pressed the right mouse button to return to normal mode. ( DarkNation, 2008-05-09 12:33:46 )

* I dropped all of the 'Show' menu items into the new View menu - as well as View Map, but not View Pic or Preview Mode.
* Also reordered the Quest menu, putting internal data (Rules, Items etc.) at the top, and external data (SFX, Graphics, Scripts) below.
* Added, as promised, the Link->Drunk variable to match LINKDRUNK.
* Incidentally: previously Link->Drunk also made the screen wavy. Since you can control Screen->Wavy directly, this aspect of Link->Drunk has been removed.
* Fixed the bug that removed the Warp Return selectors from the interface. ( _L_, 2008-05-07 04:58:59 )



Build 798 - windows
* ArcTan ZScript command should work properly now. Ensure it does.
* Bug with random crashing when using item scripts has been fixed. ( jman2050, 2008-05-06 10:33:33 )

* Fixed the bug where items on conveyor combos did the opposite of what the 'Combos Affect Midair Link' Screen Flag was set as.
* Fixed the bug affecting the fire magic's sprite.
* Fixed the bug where the bottonmost selectable Command was buggy.
* Fixed the bug where the Quick Sword didn't affect Wands. Apparantly it should. Who'd have guessed?
* Large Mode: The 'Screen Tabs' (official name forgotten) now display the number of the screen contained therein.
* Large Mode: Due to very popular demand, the minimap selector is now twice as large as what it was. That's definitely easier on the eyes. (However, I made room by crushing the Commands panel down to just 8 buttons.) ( _L_, 2008-05-04 06:05:28 )



Build 796 - windows
* Renamed alleg42_crt.dll to alleg42.dll. A little whoops on our end :-D ( Sean, 2008-04-30 18:59:15 )



Build 795 - windows
* New Windows build is here. This is the first one I've compiled for you. Enjoy~ ( pikaguy900, 2008-04-30 18:10:00 )



Build 794 - linux
* Omg guess what? New linux build ^_^ also with ZCL 2.0 Final. ( Sean, 2008-04-29 16:58:43 )

* Peahats now get knocked back when you attack them. Remember that they can face 8 directions. Knockback only happens when you attack enemies from their front or back, so be careful. ( pikaguy900, 2008-04-29 12:38:41 )

* Changed the 2007 copyright to 2008.
* Fixed the bug where items carried by splitting enemies would shift around to other enemies when the splitting enemy died.
* Fixed the bug where Z3 animation in ZC was using 9 frames instead of 8, like in ZQ.
* Fixed the bug where the hookshot couldn't be used if Link was pressed directly up against a combo with the top half solid.
* Fixed a bug with the Quick Sword quest rule.
* Fixed a bug where Link could only do a direction change during a weapon strike if he was on an 8-pixel boundary while in diagonal walk mode.
* Fixed a bug where rafting onto a raft branch on a different screen would cause Link to be stuck.
* Fixed a bug where pressing the G key to bring up the goto dialog would place a G into one of the edit boxes in the dialog.
* Fixed a bug where bringing up the goto dialog with the keyboard would not display the mouse.
* Fixed a bug where opening an uncompressed quest file would not update the window title properly.
* Fixed a but where the item override edit box in the subscreen object properties dialog would only accept 2 characters.
* Fixed a bug where deleting a subscreen would not count as a change and so would not trigger the save confirmation dialog when exiting ZQuest.
* Fixed a bug where the subscreen object properties dialog was not centered.
* Expanded the tile editor in large mode.
* Fixed a bug where editing a tile could cause translucent colors to appear incorrectly.
* Fixed a bug where editing an 8-bit tile would display some wrong colors in the palette.
* Fixed several bugs with the default quest template. ( DarkNation, 2008-04-29 06:39:36 )



Build 788 - windows
* New Version of ZCL. So this new build is just a new updated version of ZCL. Sorry for the long delay. People. ( Sean, 2008-04-29 05:25:24 )

* Commands: the '(None)' command is now equivalent to the 'Select Command' command. Click it to select a command.
* Favorites: Clicking a Favorites spot that contains no combo will place the currently selected combo - in that case, you need not hold Shift.
* 'Show Squares' - shows the locations of blue Warp Returns, green Warp Arrivals, and yellow Stairs with a square outline. If you use the Tile Warp dialog's Go button, the matching Warp Return flashes white on the destination screen. Oooh. ( _L_, 2008-04-29 03:41:25 )

* Fixed the bug involving entering water while charging the sword, with flippers.
* Fixed the bug that prevents the third and subsequent split Gels from moving.
* A new option in the Tools menu: 'Show Script Names'. The names of the FFC scripts that will run on a screen are shown in the upper-left corner. ( _L_, 2008-04-27 17:38:36 )

* Renamed 'Auto Warp' to 'Auto Side Warp' and 'Sensitive Warp' to 'Auto Tile Warp'.
* Added a few more Integrity Checks for Screens and Warps.
* A new Quest Report: Combo Locations. It tells you which screens and FFCs use the currently selected combo. That'll be useful. ( _L_, 2008-04-25 04:22:26 )

* To make the Quest Reports easier to fathom, screen numbers are now preceded by the name of the default palette of the screen. Now those numbers aren't quite so cold and nameless.
* The 'Item Locations' Quest Report now notes if the 'Enemies->Item' flag is present, and if an enemy is carrying the item. Just a little extra detail.
* One of the Integrity Checks has been given its own Report to itself. Now called 'What Links Here', it lists all screens containing tile or side warps to the current screen.
* A new Quest Report: 'Script Locations'. A complete list of locations where FFC scripts are instantiated in the quest! Groovy. ( _L_, 2008-04-22 09:48:14 )

* Fixed some false positives with the tile warp destinations Integrity Check.
* Enabled the 'Screens' and 'Warps' Integrity Check menu options.
* Fixed the bug where the Item Override subscreen option wasn't properly acknowledged by the weapon sparkles code. ( _L_, 2008-04-20 08:57:32 )

* Fixed the bug where it took too long for Link to exit water with classic movement. ( _L_, 2008-04-19 09:02:19 )

* Now, the SetComboD() and related ZScript functions can be used to alter combos on screens that are also being used as active layers! Though, you do have to know where those screens are located...
* Fixed the bug that suppressed the Quick Sword rule. ( _L_, 2008-04-15 07:25:39 )



Build 780 - windows
* Sorry for not getting this build out sooner. Issue with guys in overworld caves should be fixed.
* Added an ArcTan function to ZScript. Input the X and Y coordinates to get the arctan. This should now make it possible to derive the angle of a location given a circle origin.
* Bug where the wand fire setting for the magic book wouldn't do anything fixed.
* Issues with keypresses in Preview mode not working fixed ( jman2050, 2008-04-14 11:25:52 )

* I've made a change to the warp detection functions, in which I've integrated both 'old-style' and regular warp detection into the same function. What this should do is fix most all of those 'Old-Style Warp Detection' bugs, but it wouldn't hurt to test those 2.10 quests' warp combos a little bit.
* Fixed Link's 'hoppy' swimming behaviour when using walkable water with classic movement. ( _L_, 2008-04-13 07:58:59 )

* Fixed that quite embarassing 'Guys in caves aren't appearing' bug.
* Fixed an alleged bug involving drowning while charging the sword. ( _L_, 2008-04-12 02:26:56 )



Build 777 - windows
* Fixed a bug that I shouldn't have missed. Zquest large mode shouldn't crash anymore. Do NOT download 776. ( jman2050, 2008-04-09 22:18:10 )



Build 776 - windows
* New windows build. May be a bit more buggy than usual since I'm just getting my bearings again. Try to be quick but thorough when testing so that I or the devs can promptly fix any major bugs that creep up, although I don't anticipate anything not related to the new script additions. Still though, all warnings regarding beta use apply. Sorry for the wait :) ( jman2050, 2008-04-09 21:20:17 )

* Added the sprite size variables (for tile height and collision) to the Link variable. However, this is far more limited than normal sprite variables at this point, so don't try to do much with it. Hopefully I'll have everything fully documented by the next beta.
* Added the WaitDraw command to ZScript, which only applies to global scripts. Basically, by default the global script is run once before all game processing is done. Now, if you place a WaitDraw command in your global script, it will halt execution of the script until after the game processing is done and before the screen gets drawn. This is for instances where you want your own scripting to occur after ZC has already done its work, instead of doing it before. Test carefully. ( jman2050, 2008-04-09 21:10:37 )

* Finally, after all these years, the Quest Rules have been organised into categories. The categories are Animation, Combos, Items, Enemies, NES Fixes and Other. I have also arranged them in approximate descending order of importance! ( _L_, 2008-04-09 10:20:33 )

* [ZCL]Fixed a bug which forced -large at all times
* [ZCL]Note- The scale mode only works with Zq if it's just in small mode. When in large mode ZQ just crashs so this is not a bug with ZCL. ( Sean, 2008-04-09 06:29:14 )

* The 'General Purpose' combo flags no longer appear white in the Lens of Truth.
* Lens of Truth combo reveals are now drawn on layer 0, whereas Lens of Truth hints are drawn over layer 2.
* Quite probably fixed the 'Patra segments removing Armos combos' bug. ( _L_, 2008-04-04 21:59:59 )

* I've just realised that the 'No Level 3 CSet Fix' quest rule has nothing to do with dungeon level 3, and everything to do with palette 3. So I've renamed it.
* Fixed a bug that caused Link ring colours to interfere with the 'No Palette 3 CSet 6 Fix' rule.
* The 'Special Rooms And Guys Are In Caves Only' DMap flag now applies to Zelda rooms as well.
* Fixed the bug that prevented 'Fairy' Guys from using Message Strings or having accompanying fires, even in DMaps where the 'Special Rooms And Guys Are In Caves Only' DMap flag was unset.
* Quite probably fixed the 'Gleeok heads removing Armos combos' bug. ( _L_, 2008-04-03 23:34:57 )

* Scrolling and whirlwind warps between different-coloured DMaps and/or differently lit rooms have been fixed!
* Tightened the sideview Stomp Boots even more. Now, hitting a half-solid combo in mid-jump, or jumping from a half-solid combo, won't interfere with stomping on enemies. ( _L_, 2008-03-28 08:55:18 )

* Surprise! Link's sprite decorations are now drawn on Link when he scrolls between screens.
* Whirlwinds now stop playing their sound every time that they are disposed of.
* Quite possibly fixed the bug where rafting into a locked door doesn't open the other side of the door.
* ZQuest hotkeys changed: Freeform Combos is now F7, and Layers is now F12.
* The Data menu is now named the Screen menu, as it refers exclusively to Screen-specific data.
* 'Doors' has been moved to the Screen menu, and the Scripts submenu has been moved to the Quest menu. Remember this!
* Also, since some people are unaware of some of the hotkeys, I've added given a few (W, F, L, ~ and Q) their own entries in the Tools menu. ( _L_, 2008-03-24 09:27:42 )

* Fixed the Pols Voice and Vire's Y-axis shadows.
* Fixed a bug that caused the 'Statues Shoot Fire' flag to crash the enemy-carried item. ( _L_, 2008-03-15 21:18:32 )

* Fixed the bug related to Whistle Whirlwinds misbehaving when exiting via the corner of the screen.
* Fixed the bug where the Hover Boots wrongly froze Link's jumping animation.
* Fixed the bug where the 'Use Old-Style Warp Detection' rule interfered with the Raft flag.
* When pressing 'W' in ZQuest, walkable (drownable) water combos will now be highlighted in blue. ( _L_, 2008-03-11 04:20:16 )

* Array declarations now accept strings as arguments. More work will be done on the functionality of this, including the ability to display custom messages via scripting. Also on a related note, single-quote characters are accepted in ZScript as well, and are treated as constants based on the characters ASCII value.
* Fun thing number one: The "Current Item" subscreen object now has a new variable, called "Item Override." Under normal circumstances, the object will select the highest level item in the selected family during gameplay, but if Item Override is anything other than -1, it will instead select that item directly. This allows one to have different selectable items within the same family (selectable swords, arrows, etc). Make sure to test that everything works correctly.
* Fun thing number two: Though currently only doable via scripting, variable sized enemies, items, and weapon projectiles are now possible. Remember that extend variable each had? Set them to 3 or higher (1 or 2 are identical to Link's 16x32 and 24x32 sizes respectively) and they will switch to a new drawing mode that takes the arguments TileHeight and TileWidth and draw the sprite at that size. Additionally, one can change the offset from the enemy's position to start drawing the sprite, as well as the offsets and size of the sprite's collision box (so variable sized weapon projectiles are possible as well). More information when the new build comes out. ( jman2050, 2008-03-05 15:19:45 )

* Small graphical bug involving quakes has been fixed
* 10 rupee pieces shouldn't fall. For real this time.
* Fixed a few bugs in ZScript that might prevent the Get/SetComboX functions from working correctly.
* Fixed a bug where reading an enemy's CSet would always return the enemy's original CSet
* And finally, the additions of arrays to the scripting engine! Took a lot of work, but they're in. Now, each running script has the option via the global Declare() function to allocate for itself a block of memory. This block of memory is used as a scratch space for declaring and using arrays. One block is continually persistent as a 'global' memory and is used by default when an ffc or item script doesn't declare a piece of memory. Also included is a new section of memory in save files that allows you to store whatever miscellaneous data you like. ( jman2050, 2008-03-04 11:27:42 )

* Made corrections to zscript.txt and std.zh. Instead of the WPN_ constants, you should use the LW_ constants for Screen->CreateLWeapon, the EW_ constants for Screen->CreateEWeapon, and the WPN_ constants for npc->Weapon.
* ...and also, the constants LW_SCRIPT1 to LW_SCRIPT10 and EW_SCRIPT1 to EW_SCRIPT10 have been added. You should use these and only these for creating dummy script-controlled weapons. ( _L_, 2008-03-04 03:29:18 )

* Fixed a few bugs in the scripting engine and primitives drawing routines. Specifically, assigning lweapon->Angle shouldwork correctly, using Screen->Circle should not create a translucent circle every time, and a crash that may occur if you start a quest directly after playing a quest with global script variables has been fixed.
* 10 rupees should no longer drop in 2.10 quests
* Red Leevers do not attack link from the sides if Link is halfway on a solid combo from below. ( jman2050, 2008-03-01 15:46:24 )

* Fixed the bug where LW_SBOMBBLAST was identical in function to LW_SBOMB.
* Also fixed the bug where the Super Bomb's explosion was the same as the normal Bomb's.
* Fixed the 'Push (Very Heavy)' and 'Bomb (Any)' Lens hints. ( _L_, 2008-03-01 06:47:06 )

* Whoops! I accidentally broke the Octorok 4's bomb projectile. It's fixed now, so please don't bother reporting this.
* Also fixed: LWeapon bombs placed by scripts while Link lacks the Bomb item.
* Fixed some mistakes in the Wand and Hookshot weapon sprite code. ( _L_, 2008-02-29 23:27:46 )



Build 758 - windows
* CopyTile, SwapTile, and ClearTile implemented as golbal functions. Look in zscript.txt for more information.
* Reworked the idon system during quest loading. Before, if you had several save slots filled, the game would load each and every quest associated with the slots in order to get their icons. This would eventually make ZC load very slowly. Now, a file with the extension 'icn' will be created to store the icon data, substantially improving ZC's loading. The name of the file is associated with the name of the save file. So, for example, zc.sav would generate a file called zc.icn ( jman2050, 2008-02-29 12:11:28 )

* ZQuest now uses large mode by default. Use -small to revert to the previous mode. If you used scaling before, you may need to use '-scale 1' to allow the new large mode to work for you, ( DarkNation, 2008-02-29 09:33:19 )

* Performed a significant restructuring of the scripting engine, should result in a somewhat significant speed increase, especially with large scripts. ( jman2050, 2008-02-28 17:40:48 )

* Implemented the DrawCombo primitive drawing command. More on this on beta release.
* Implemented a series of functions in the Game type to be able to grab combo information from ANY screen in the entire quest. You can also change said information too. Make your own scripted 'carry-over secrets' ;)
* Fixed a few major slowdown issues, especially related to primitive drawing functions. Also optimized the scripting engine some more. ( jman2050, 2008-02-28 11:09:40 )

* Fixed a corner-case I'd forgotten when horizontally scrolling in the text editor and the first line of text is highlighted.
* Hopefully improved the fading in and out behavior when scrolling between dmaps. ( DarkDragon, 2008-02-27 22:26:17 )

* Fixed a bug where rafts and ladders would always show the tile of the default raft or ladder item when used.
* The bounding box on shadowed text items in the subscreen editor is now the correct size. ( DarkNation, 2008-02-26 13:28:58 )

* Way too many changes to list in regards to the scripting engine, but just know that weapon sprite handling is finally fully implemented. So you can do crap like spawn arrows and bombs directly via scripting. Fun stuff, I know. ( jman2050, 2008-02-25 21:05:58 )

* Accessing cheats no longer corrupts a quest's continue hearts and continue-is-percent flag.
* The lens effect now ends immediately if you release the appropriate key. ( DarkDragon, 2008-02-24 01:37:40 )

* Fixed a bug where purchased Info strings didn't use the default message speed.
* Fixed the bug where Info prices would reappear during a purchased message string sequence.
* Fixed the bug that caused Tektites to sometimes not land properly when they move through the Z axis.
* Renamed 'Full-Screen Warp' to 'Enemies Carry Over In Warps', 'Direct Auto-warp' to 'Auto-Warps Are Direct' and 'Direct Timed Warp' to 'Timed Warps Are Direct'. ( _L_, 2008-02-23 22:38:09 )



Build 743 - windows
* Forgot to fix isValid() for items and npcs.
* REFFFC works correctly again. For those using ZASM: REFFFC is an integer (eg, multiple of 10000), as before. All other REF variables are ( DarkDragon, 2008-02-23 14:46:31 )



Build 742 - windows
* Heart containers in old quests now have the correct "Full Max" value of 384.
* Fixed a buggy interaction between horizontal scrolling and highlighted text in the ZQuest script editor.
* ZQ/ZC no longers slows to a crawl while redrawing the dotted line around listboxes.
* Clicking on an item class inside of the Init Data dialog no longer freezes ZQ for a few seconds. ( DarkDragon, 2008-02-23 02:00:59 )

* Added bounds checking in the ZASM interpreter for the following variables: DATA, FCSET, LINKHELD, LINKITEMD, ITEMTILE, ITEMOTILE, NPCTILE, NPCWEAPON, NPCCSET, REFFFC.
* Setting an item's CSet or flash CSet in a script now works correctly.
* Loading an npc pointer will no longer do strange things to the screen D variables.
* The ZASM interpreter will no longer choke if you try to dereference an item or npc with large UID.
* Clarified in zscript.txt that writing to Link->Dir is has undefined effects. ( DarkDragon, 2008-02-22 18:53:53 )

* Okay! Three-digit string control codes work, and support for four-digit control codes has been added. That means that the Goto If control codes can now go to strings with numbers smaller than 10000.
* Sanitised the Counter Up, Counter Down, Goto If Counter, Goto If Item and Goto If Triforce control codes, in case you accidentally specify a preposterously out-of-bounds number for the dungeon level, counter or item. ( _L_, 2008-02-20 03:30:24 )

* When Link has the bow, arrow, and at least 1 arrow ammo, the subscreen selected item name object no longer uses a hard-coded string for the name of the bow.
* Changed the way tiles 130 - 134 are handled in old quests. Old quests using these tiles only as tiles for the Goriya enemy, the Goriya guy, or in non-animating combos should work correctly. ( DarkDragon, 2008-02-20 00:48:32 )



Build 738 - windows
* Forgot to rename the 24 Heart Containers quest rule to Unused.
* Fixed some minor complaints about the Screen Data text. ( DarkDragon, 2008-02-19 17:37:08 )

* Combos with "Y skip" set to a non-zero value now don't prematurely restart their animations.
* The selector no longer waits until the subscreen has completely scrolled down before moving to highlight the correct item.
* Layers now appear during a quest's opening curtain.
* ZQuest unencoded quest files (.qsu and .qt, if uncompressed timed saves are enabled) are no longer saved corrupt. ( DarkDragon, 2008-02-18 21:58:55 )

* Editing DMap info no longer trips an assertion.
* The default quest no longer has two copies of each built-in MIDI, one as a custom MIDI.
* Eliminated the "24 Hearts" quest rule, and replaced it with a Life Meter subscreen object attribute. Old quests should work correctly. ( DarkDragon, 2008-02-10 19:18:21 )



Build 735 - windows
* Custom Item 01 through 20 once again appear in the default quest.
* Link and non-flying enemies now appear behind the subscreen regardless of any quest rules.
* Pieces of heart once again show up on the subscreen.
* Subscreen selectors no longer animate at double speed.
* Items in the passive subscreen no longer animate at double speed during the opening wipe.
* Layers above 3 no longer are invisible while the active subscreen scrolls into view. ( DarkDragon, 2008-02-10 04:35:20 )

* Fixed a bug in Allegro which caused some quest to become corrupt when saved while ZQ played music in the background. Please verify all kinds of files (quests, unencrypted quests, old quests, exported stuff, save files, images, music, etc) still load correctly. ( DarkDragon, 2008-02-09 22:40:53 )

* Improved the randomness of string control code \4\X\X (Goto If Random).
* Fixed the bug where DMap introductions were interfering with screen Message Strings.
* Also: fixed the 'Cave (Walk Up)' fix, so that placing the blue square directly onto the combo no longer causes trouble. ( _L_, 2008-02-06 09:19:02 )

* Fixed the bug where shop prices weren't being properly disposed of, and were filtering into message strings.
* 'Block All' combos no longer make lit bombs and explosions disappear without a trace.
* Sanitised Link->HP and Link->MP, in case you foolishly set them to -1 or something.
* Screen Flag: Cycle Combos on Screen Init. It is a tiny flag with quite desirable ramifications. When you enter the screen, all cycling combos (including Secret Combos and other Screen State-related combos) are cycled up to 10 times before the screen appears. This is best used with animated Secret Combos that provide fancy transitions into other combos. It also cooperates with both the 'Combo Cycling On Layers' rule and the Overworld Map function.
* Also fixed the bug that made Spinning Tile combos not function when used as Secret Combos on layers. At least, I think they didn't.
* Apparantly Darknuts and Wizzrobes that can be stunned by certain boomerangs shouldn't also take damage. This is reinstated.
* Link's weapons (both candlefire and bombs) were doing twice as much damage to him as they were supposed to. This is fixed. ( _L_, 2008-02-01 05:03:10 )



Build 731 - windows
* ZCL 2.0 Beta 1.1 built for windows ( Sean, 2008-01-29 17:43:25 )



Build 730 - linux
* New build of ZCL ( Sean, 2008-01-28 23:39:11 )

* [ZCL] Uses GTK2 on linux builds
* [ZCL] GUI should not look messed up like it was.
* [ZCL] Checker is now fixed under linux
* [ZCL] Fixed the Quick Quest Load Feature that it wouldn't load saves 5-15
* [ZCL] Notice: Quest loader might show weird text. I am not sure what is causing this. I am investigating still on this. Seems like it's a linux only bug. ( Sean, 2008-01-28 23:36:00 )



Build 728 - linux
* Ok this one was long overdue. I have made a linux version of ZC also with a new version of ZCL for linux. It is using gtk so make sure you have gtk1 installed. Report bugs at agn etc. Enjoy people <3 Sean ( Sean, 2008-01-27 19:58:04 )

* Fixed checkbox alignment in ZQ Tab
* Fixed Button sizes in ZQ and ZC tab. (Text was being cut off)
* Some items were forcing dark colors. This should be fixed ( Sean, 2008-01-27 19:52:49 )



Build 726 - windows
* Dive warps now work in quests with "Old-style warp detection" checked.
* If Link swims or dives into a warp, he remains swimming/diving during the warp transition.
* Corrected the label next to some of the trap tiles in the default quest.
* ZC should no longer crash when returning to the main menu after beating a quest.
* "Win Game" combos should now work as advertised. ( DarkDragon, 2008-01-27 00:42:49 )

* Quest Rule: 'Hearts Required' Affects Non-Special Items. This replaces the previous 'Hearts Required' bugfix of mine. The rule is on page 5 and currently off for all quests.
* Quest Rule: Push Block CSet Fix. In The Legend of Zelda, moving push blocks are visible even in darkness. Presumably this is because they are set to CSet 9. This rule is on for all quests except proposed1st and its kin.
* Fixed Link's position when exiting 'Cave (Walk Up)' combos. Reminder to all: the blue square can either go on top of the 'Cave (Walk Up)' combo, or sixteen pixels north of it (which is the opposite of 'Cave (Walk Down)' combos).
* Discontinued the 'Translucent Nayru's Love Shield' and 'Flickering Nayru's Love Shield' Quest Rules, instead delegating those details to the Item Editor. ( _L_, 2008-01-25 07:58:37 )



Build 724 - windows
* The subscreen editor now respects your choice of Triforce fragment tile when editing a Triforce Frame item. ( DarkDragon, 2008-01-25 02:09:34 )

* When placed in midair by a script, Link no longer performs his falling animation as long as his Jump is fixed at 0.
* Spinning Tiles now count as required enemies to defeat (or rather, avoid) for Shutters and Enemies->Secret. ( _L_, 2008-01-20 08:07:57 )

* Fixed an unfortunate bug where any quest with the 'Hide Enemy Carried Items' rule set would crash whenever that rule took effect. Maybe this solves your particular problem, crash victims?
* Fixed the bug where the Heart Ring item's recovery was exceeding Link's max. health.
* Fixed a prolongued Stomp Boots sideview bug. ( _L_, 2008-01-19 08:09:12 )

* So it was impossible to detonate a Remote Bomb if you deployed your last bomb, because your bomb supply was 0 and the subscreen icon wasn't available. Now, a fix: the Remote Bomb's icon will still be available if one undetonated bomb remains onscreen. This also applies to Remote Super Bombs.
* Enemies will no longer Enter From Sides into walkable water.
* Changed 'Rupies' to 'Rupees' in the Cheat Menu. Tut, tut.
* Added the 'Arrows' level 1 cheat, which is disabled if the True Arrows rule is unset. However, using this cheat does not give you the Arrow or Bow items.
* As for the 'Bow & Arrow' subscreen icon: previously the current Bow item was drawn above the current Arrow item. This is now corrected.
* Improved the collision detection of Block combo types so that weapons can't be shot through them.
* Step->Next and related combos now work when the 'Old-Style Warp Detection' quest rule is enabled. ( _L_, 2008-01-18 03:30:30 )

* Fixed Screen->Wavy and Screen->Quake so that they decrement over time again.
* Re-fixed the bug that causes either two flames or no flames to come from the Candle.
* Now moving Fairies are dragged by Boomerangs and Hookshots again.
* Fixed the 'Never Returns After Death' enemy data flag.
* Now, putting Spinning Tile enemies in a screen's enemy list (and why would you want to do that?) will now result in Spinning Tiles whose animations use the default Tile or E. Tile selected in the Enemy Editor. ( _L_, 2008-01-14 20:10:16 )

* Correction to sand conveyors in the default template, by ZCAmazing. ( DarkDragon, 2008-01-07 22:43:37 )



Build 718 - windows
* The map viewer in ZQuest will now mark rooms as dark as appropriate.
* Restoring focus to ZQuest should no longer intermittently crash it.
* If Load Last is disabled, ZQuest will no longer give the default blank quest the name of your last opened quest. Good way to lose a lot of work.
* Fixed various issues with the quest template:
* - Oval Patras now use the correct E. Tile.
* - Swapped Din's Fire and Roc Items in the Active (New, B) subscreen.
* - Ladder 2 now has "2-Hand" checked.
* - Changed Stomp Boots to use CSet 8.
* - Set some door combos to Overhead.
* - The DMap name spaces in the subscreens of the default quest are now centered instead of left-aligned. ( DarkDragon, 2008-01-06 22:57:09 )

* Fixed the Triforce warp-out bug.
* Now, arrow ammunition counters will be unchanged if Link's Arrow item ceases to be available.
* Fixed the screen initialisation spinning tile bug.
* Intra-DMap scrolling warps no longer fade-out the palette unnecessarily.
* Scrolling Warps and warping combos now function correctly together. ( _L_, 2008-01-05 21:57:26 )



Build 716 - macosx-Tiger-and-Leopard
* OS X Build bugfix, it should run on Tiger correctly ( Takuya, 2008-01-04 14:47:57 )

* Fixed Screen->Quake, so that setting it to 20 or something on each frame will, as intended, make the screen shake continuously.
* Added some descriptions to zscript.txt for Screen->Quake and Screen->Wavy. Sorry!
* Re-fixed the double Candle flame bug. ( _L_, 2008-01-04 03:23:21 )

* Fixed the bug preventing several kinds of enemies from being moved outside the screen by scripts.
* Link can no longer drown while inside a Like Like.
* Fixed the backwards-compatability shieldless Darknut sprite bug. ( _L_, 2008-01-02 23:07:19 )



Build 713 - macosx-Tiger-and-Leopard
* OS X build ( Takuya, 2008-01-02 14:58:35 )



Build 712 - linux
* New Linux build. ( koopa, 2008-01-01 08:43:38 )

* Fixed a bug in which scripted items' script arguments were sometimes misplaced.
* Fixed the bug in which an item's 'Hearts Required' requirement would only be in effect for Special Items.
* Also: Scripts can remove items by setting their Y or X to 360 or 512. ( _L_, 2008-01-01 08:19:47 )

* Fixed the 'Bow and Arrow' subscreen item, which until now wasn't displaying properly in ZQuest.
* Potions no longer make a momentary 'refill' sound effect if both of their misc. values are actually 0.
* And while I'm at it, you can edit the Bait's duration onscreen. Default: 768 frames. ( _L_, 2007-12-31 09:34:59 )

* NES consistency fix: sliding pushblocks are now drawn above enemies.
* It seems a little off-putting that so much of the Triforce's behaviour is dependant on the 'Equipment Item' flag. So, I've added the 'Victory Cutscene' and 'Side Warp Out' flags to the Item Editor.
* Furthermore, the Whistle's misc2 is now the Warp Ring number to use when Link is warped by the whirlwind. Also, the original Whistle Warps are now Warp Ring 8.
* As you know, Gohma currently cannot be stunned. Instead, level 0 weapons will do 1 damage.
* Collecting a Big Triforce in an Item Cellar resulted in the wrong palette being used when the animation finished. Fixed!
* Collecting a Big Triforce no longer frivolously sets the 'Dungeon Boss defeated' level item. ( _L_, 2007-12-31 02:46:04 )

* Improved the String Editor: the message preview box now shows the selected background frame applied to the string.
* You can no longer edit 'Pols Voice (Magic)'.
* You can edit the 'Spinning Tile (Immediate)' and 'Spinning Tile (Random)' enemies. Meaningful editable values include HP, Damage and Step Speed.
* Did I accidentally make Spinning Tiles invisible? If so, then that is fixed. ( _L_, 2007-12-24 22:43:37 )

* Changed the names of GetMapFlag and CurMapFlag. Sorry, folks. But honestly - 'Map Flag'? The proper, non-misleading name for them is 'Screen States'. Game->GetMapFlag() is now Game->GetScreenState(), and Game->CurMapFlag[] is now Screen->State[].
* Also modified: the ZASM names for those variables and functions.
* Also updated: the std.zh constants passed to Screen->State[]. Now with slightly helpful explanatory comments!
* Also made the 'Terminal Velocity' entry box slightly wider. ( _L_, 2007-12-24 07:32:20 )

* Complemented the InputX and InputY Link scripting variables with InputZ (scroll wheel) and InputB (button mask).
* Fixed the bug where projectile shooters with no tile would damage Link when touched (for instance, Statue fireball shooters).
* Fixed a bug in the item editor where wrong flag names were being displayed.
* Fixed a bug where the Reopen Last Quest option in ZQuest was not working.
* Fixed a bug where using the favorite commands buttons would cause the opened dialogs to be in the wrong font.
* Fixed a bug where the Catch All favorite command button would show incorrect text when pressed. ( DarkNation, 2007-12-21 13:27:04 )

* Fixed the Stomp Boots' collision detection again.
* Fixed the bug where a Candle with 'stab' tiles wouldn't flame.
* Changed ZASM 'ICLASS' variables to 'IDATA', for consistency with ZScript.
* Furthermore, changed variable 'ICLASSSETGAME' to 'IDATAKEEP'.
* Furthermore, changed variable 'ICLASSFAMTYPE' to 'IDATALEVEL'. ( _L_, 2007-12-19 18:38:19 )



Build 704 - windows
* Taking away a ring from Link using a script should correct update his tunic colors (if in a dungeon, or on the overworld with the appropriate quest rule on).
* Fixed some minor layout issues in the enemy editor.
* Warping into a dark room using the wavy effect no longer causes you to arrive with the room lit.
* Link no longer travels at half-speed over canceled inta-warps.
* Obtaining a Triforce on screen 0x8* no longer warps you anywhere.
* Continuing the warp theme, warping to a new dmap using a passage no longer causes rooms on that dmap to alternate lit/dark. ( DarkDragon, 2007-12-18 21:14:23 )

* Flags 4 and 5 in the item editor now display the correct label.
* ZC now displays an opening wipe instead of just a blackout if such is set for a cave up/down combo.
* Link no longer reappears for a few frames in his original location if warping using a cave with zap effect.
* The default quest swords again has correct values for beam hearts and damage.
* (Forgotten from last time) Fixed the bug where all statues would fire. ( DarkDragon, 2007-12-18 16:07:09 )

* Added a UseSound variable to item data in ZScript.
* Fixed the bug where Super Darknut Ringleader children would die instantly when their spawning parent died.
* Fixed the bug where dungeon screens were having their walls replaced by standard, generic ones.
* Fixed a bug where Dmap-disabled items were not disabled until the player changed screens once.
* Fixed a bug where some scripting dialogs were not centered.
* Fixed a bug where deleting a quest that was set to reload when ZQuest was run would cause the old quest's name to still show in ZQuest.
* Fixed a bug where Enhanced music would not play in ZQuest.
* Fixed a bug where playing music in ZQuest would incorrectly alter the music playing menu items in the Etc menu.
* Fixed a bug where the X button the on the script assignment dialog would cause the dialog to reload. ( DarkNation, 2007-12-18 06:17:43 )



Build 701 - windows
* Widened the Sound panel in ZC so as to fit the full "Enhanced" instead of "E." for two of the sliders.
* Loading a new SFX while an old one is playing no longer crashes ZQ.
* "itemclass" is now "itemdata" in ZScript, as the pointer does not in any way represent the item's class. item->Class is similarly now item->Data. Scripts already compiled into ZASM are unaffected.
* Hopping into and out of water is no longer broken.
* Setting ffc->TileWidth no longer resets ffc->EffectWidth, and vice-verse, and similarly for Height. ( DarkDragon, 2007-12-17 23:30:35 )

* Fixed the bug where Link's BS-style animation was partially tied to the BS animation quest rule.
* Fixed the bug where enemies that leave the screen's boundaries die.
* fixed the bug where enemies could be knocked off the edge of the screen.
* Fixed the bug where changing a door to a wall or walk-through wall via a script would not work.
* Fixed the bug where the frame on the save slot select screen would not be drawm correctly.
* Changed the new quest file command to no longer open the quest template dialog. ( DarkNation, 2007-12-16 20:41:11 )



Build 699 - windows
* [ZCL]Added Screenshot Output in ZQ and ZC Options
* [ZCL]Added Cap FPS in ZQ Options
* [ZCL]Added Show FPS in ZQ Options
* [ZCL]Added Animate Combos Options
* [ZCL]Added Load Last Quest in ZQ Options
* [ZCL]Added Mouse Scroll in ZQ Options
* [ZCL]Added Save Paths in ZQ Options
* [ZCL]Added Show Misalignments in ZQ Options
* [ZCL]Launch Buttons now appear on every page
* [ZCL]GUI Updates again
* [ZCL]Fixed ZC Checker bug that did not detect allegro
* [ZCL]Replaced Win99 Color Scheme with Gold Color Sheme
* [ZCL]ZCL Logo updated
* [ZCL]Added Reset to defaults in ZC and ZQ Options
* [ZCL]Added Go to Color Scheme in ZC and ZQ Options
* [ZCL]Added Go to Set Title Screen in ZC Options
* [ZCL]Fixed a bug on Text Overlapping when you use a windows visual style
* [ZCL]Remove the Auto Reload on start. ZCL Auto reloads the settings on
* [ZCL]Added a feature if ag.cfg is not found. It will set default options for
* [ZCL]Extended the load quests slot to 15 ( Sean, 2007-12-15 17:15:13 )



Build 697 - windows
* Game->GetCurDMapScreen should now return a number compatible with Link->Warp, etc.
* Putting "<none>" in a script slot after compiling ZScripts will now fully erase any script that was in that slot previously.
* It is no longer possible to assign ffc or item scripts to (nonexistent) slots 512 and 256, respectively, thereby crashing ZQ.
* Rotated translucent combos should now render with the correct orientation. ( DarkDragon, 2007-12-15 11:52:26 )

* Fixed a bug where cycling to a statue would not allow the new statues to shoot fireballs.
* Fixed a bug where the Constants tab on the Cheat dialog in ZC would display incorrectly if the dialog was closed when the tab was active.
* Fixed a bug where the Cheat dialog in ZC was not centered.
* Fixed a bug where the "Empty" guy was defaulting to an incorrect tile.
* Fixed a bug where the Up Charging Link sprite was defaulting to the wrong tille.
* Fixed a bug where the favorite command button for an action would work even if the menu option for it was grayed out.
* Updated the favorite command names to be more clear.
* Set it so that the Catch All favorite command would show the corresponding room-related name.
* Removed the unimplemented Enhanced Music menu item.
* Renamed the Alternate Music label in the DMap editor to Enhanced Music. ( DarkNation, 2007-12-14 13:40:04 )

* Projectile enemies are now no longer necessarily invisible and invulnerable.
* Now, enemies with a tile of 0 are also invisible.
* 'Trigger' enemies no longer instantly self-destruct.
* Fixed the bug that was causing Zora screen enemies to destroy Armos combos when randomly placed.
* Fixed the stomp boots' hit detection.
* Fixed the 'Cave (Walk Up)' and 'Cave (Walk Down)' exit animations.
* Fixed the Cancel Warp Cave combos bug. ( _L_, 2007-12-13 23:15:49 )

* Fixed the bug where the Default button in the item editor would sometimes cause the item name to become corrupted.
* Fixed a bug where candles would often shoot double flames.
* Fixed the bug where the Potion Shop Letter wouldn't show up in the item area in the active subscreen.
* Added a few more controls to the sound dialog. Now, Enhanced music and SFX can both have custom volumes in addition to the MIDI and Master Digi volumes.
* Favorite commands now save between ZQuest sessions.
* Fixed a bug where the scet editor was not centered in -large mode.
* Fixed a bug where the cset grabber was not centered in -large mode.
* Fixed a bug where the tile grabber was not centered in -large mode.
* Fixed a bug where double-clicking would not work in the tile selector in -large mode. ( DarkNation, 2007-12-13 13:34:42 )



Build 693 - windows
* Just the same as the previous build just with an better updated ZCL ( Sean, 2007-12-11 14:45:59 )



Build 692 - windows
* Due to limitations in the undo system, it is no longer possible to Undo after changing a screen's layer properties, or inserting a combo on the combo page. (Previously doing so would cause quest corruption.)
* Added a quest rule, "Tunic Can Change Color On Overworld", off by default in old quests. If this rule is disabled, Link's tunic color will not change if he obtains a ring on the overworld (normally or via scripts) until he steps through a warp, as in 2.10. ( DarkDragon, 2007-12-11 07:52:07 )

* [ZCL]Fully implemented the Color Scheme preview.
* [ZCL]Fully implemented the Set Title Screen
* [ZCL]Fixed ZC Checker bug that didn't even scan
* [ZCL]Finally did some touch ups to the interface to look more appealing
* [ZCL]Added QuickLoad
* [ZCL]Added Skip Loading Icons
* [ZCL]Renamed Throttle FPS to Cap FPS
* [ZCL]Added Show FPS
* [ZCL]Fixed a bug with everytime ZCL was loaded fullscreen was always checked. This bug was back in the 1.5 days also. Finally Squashed. :-D
* [ZCL]Did touchups on the fonts. ( Sean, 2007-12-11 06:18:54 )

* Giving Link a Ring with scripts will now change his colours appropriately.
* Now, a magic-powered Ring will properly change Link's colours when his magic runs out.
* Fixed the bug related to stepping out of 'Cave (Walk Up)' combos.
* Fixed the 'swimming through walk-through walls' bug.
* Now, for convenience, the 'No walls' cheat overrides the 'Freeform Dungeons' quest rule, or lack thereof.
* Now, when Link steps out of a Cave combo, his Z is set to 0. ( _L_, 2007-12-09 22:14:17 )

* Reverted ZCL back to tab look
* Integrated Title Screen into the MAIN UI
* Did some arrangements on the features of ZCL
* Decided to start working back with ZCL AGAIN :-D ( Sean, 2007-12-09 17:11:24 )

* Reverted ZCL back to tab look
* Integrated Title Screen into the MAIN UI
* Did some arrangements on the features of ZCL
* Decided to start working back with ZCL AGAIN :-D ( Sean, 2007-12-09 16:51:28 )

* Finished implementation of stab and slash sprites for the Candle item class, as advertised in the Item Editor. Those of you who were reskinning the Candle as a lantern or wand may be pleased to see this.
* Fixed the bug that prevented sideview enemies from walking on lower-half-solid combos.
* Seemingly fixed a bug that apparantly prevented Moldorms and Gleeoks from ever returning even if the 'Never Returns After Death' flag was unchecked. ( _L_, 2007-12-07 22:29:44 )

* Fixed a bug where the Smart Scrolling rule stopped Walk-through walls from working.
* Now, for obvious reasons, you can't go through a Walk-through wall while diving.
* Fixed the bug that was preventing Dive Warps, Swim Warps and Dive for Item flags from working with walkable water - not to mention preventing Link from holding up items.
* Fixed the bug that allowed 'land-swimming' with walkable water. ( _L_, 2007-12-05 23:06:37 )

* Opening cheats or init data will no longer crash some quests where the bomb ratio is 0. ( DarkDragon, 2007-12-03 21:02:50 )

* Added Game->PlayMIDI(), because really, string control codes shouldn't be the only way to dynamically change the background music.
* If an enemy is moved more than 32 pixels out of the screen's bounds, it is removed. If you wanted a means for scripts to instantly remove enemies, I suppose this is it. ( _L_, 2007-12-03 02:38:48 )

* Fixed a bug affecting string control code parsing and the 'Messages Can Be Bypassed With The B Button' rule.
* Seemingly fixed a bug preventing damage combos from doing any damage at all, in some cases.
* I just realised something. The 'Dodongo CSet Fix' rule really shouldn't exist now that this functionality is handled by the Enemy Editor. Thus, I've discontinued it and added appropriate handling to the quest loader.
* Renamed: 'Solid Blocks' to 'Can't Push Blocks Onto Unwalkable Combos', 'Bombs Hurt Link' to 'Link's Bombs Hurt Link', 'Mean Placed Traps' to 'Traps Can Move Across Entire Screen', and 'Fliers Can Appear on Walls' to 'Flying Enemies Can Appear on Unwalkable Combos'. ( _L_, 2007-12-01 08:44:02 )

* It is again possible to access the first item on the screen with LoadItem. _L_, it was perfectly fine (and required) to be able to pass 0 into do_loaditem... ( DarkDragon, 2007-11-28 20:19:40 )

* The ZASM interpreter no longer refuses to load the first enemy of the screen, claiming it's an invalid NPC.
* Damage combos now no longer do 1/16 of a heart of damage sometimes when "Full Priority Damage Combos" is enabled.
* Mild optimization to accessing NPC and Item pointer in scripts. ( DarkDragon, 2007-11-25 21:31:05 )



Build 679 - windows
* Summoners no longer summon enemies on top of unwalkable tiles.
* The subscreens in old quests no longer show the potion instead of the bow.
* The first tile of an animating combo with the "Animation Resets When Cycled To" flag set now displays for the correct amount of time when cycled to. ( DarkDragon, 2007-11-25 00:46:10 )

* Renamed 'Cool Scrolling' to 'Cool Opening/Closing Wipes' and 'Insta-Warp with Opening Screen' to 'Insta-Warp with Opening Wipe'.
* Also renamed 'Z3-style Movement' to 'Diagonal Movement', to make it completely unambiguous.
* Cool Opening Wipes are now centered on Link even if he's in midair. ( _L_, 2007-11-23 01:17:08 )

* Changed the implementation of all JUMP and this->Jump variables. My apologies to those who were already making use of that variable. Rather than being an arbitrary value that was irrationally divided by the Gravity constant, Jump is now a straight acceleration variable, comparable to Ax and Ay.
* In that vein, the Gravity and Terminal Velocity constants have been shifted two decimal places to the right. (To convert Jump-related values in your scripts to the current format: divide by your Quest's Gravity variable as it is now expressed.)
* Added ZScript variable npc->ID, which matches the current ZASM variable NPCID. Setting it
* Sanitised LoadNPC and LoadItem - passing them 0 will no longer cause a core meltdown.
* Did you notice that Screen->Wavy and Screen->Quake actually didn't work at all? No? Well, now they're recognised by the ZScript compiler.
* The Defaults button in the Item Editor didn't default the item's name. Does it now? Yes! (Tip: use it in your pre-675 quests to find out which z### items are Custom Items.)
* The Enemy Editor. In particular, tile selectors. And a familiar three-hearted pattern. Begone!
* Also, the 'message backgrounds in item scripts' bug is fixed. ( _L_, 2007-11-22 09:20:12 )



Build 675 - windows
* Fire Gleeoks now have the correct tile offsets set in the default template.
* Major push to get the item editor in a 2.50-ready state. In particular:
* - The subscreen's "Current Item Name" text boxes now use the item's true name, as editable in the item editor.
* - All item classes can now be added to the subscreen.
* - To realize the above, I had to add two "decorative" item classes, "Letter or Potion" and "Bow and Arrow", to deal with the way these combined items are currently hacked into the item system. You can use them in the subscreen as before, but no actual items are members of these classes.
* - Reserved 20 item classes for use by quest authors in creating custom item classes. Do not assume other currently unused item classes will remain so in future releases of ZC.
* - Reserved 20 items for use by quest authors in creating custom items. Do not assume other currently unused item slots will remain so in future releases of ZC. ( DarkDragon, 2007-11-21 21:30:31 )

* Fixed the "Spawns from armos combo type" enemy flag to allow any enemy to spawn from an armos combo. Note that large or segmented enemies probably won't work like you expect.
* Fixed a bug in ZQuest where objects on the first page of a tabbed dialog box wouldn't work until the page was changed once. ( DarkNation, 2007-11-20 11:46:33 )



Build 673 - linux
* New linux build. ( koopa, 2007-11-19 10:45:45 )



Build 672 - windows
* Direct warping from a room with shutters to another room with shutters will no longer occasionally cause the destination shutters to fail to close.
* Walker/Shooters with misc10=0 and misc1=1 now fire projectile of the correct orientation.
* FFCs linked to FFCs earlier on the FFC list will no longer get out of sync when the primary FFC hits a changer.
* Directly changing the hp of the first of a Lanmola's segments will no longer occasionally crash ZC. ( DarkDragon, 2007-11-18 20:24:17 )

* Killing a Goriya now only removes that Goriya's boomerang from the screen.
* Improved handling of F12, F11, F5 while viewing the map, I, and Q in ZC. In particular, pressing them will no longer change the key repeat rate of other keys.
* Added five "General Purpose (Script)" combo flags. These do nothing, but are set aside for use with third-party scripts. Do not assume other "unused" combo flags will remain so in future builds.
* Screen->Ellipse now draws the ellipse at the correct y-position. ( DarkDragon, 2007-11-17 21:43:34 )

* Ladder positioning is no longer very incorrect when Z3 movement is disabled.
* Attempted fix of the Mac tile paste bug.
* The Magic Book's SFX field in the item editor is no longer labeled "unused".
* Disabling joystick input for a key no longer disables that keyboard key as well. ( DarkDragon, 2007-11-17 13:08:04 )

* Whoops - I almost forgot the Golden Arrow's backwards-compatability. ( _L_, 2007-11-17 02:16:36 )



Build 668 - windows
* Magic that hits Link's shield, hits a prism, then hits Link's shield again no longer passes through Link.
* Magic bouncing off a prism now shows the correct sprite in all directions.
* The Link Data cheat dialog now correctly handles the Double Magic check box.
* Link no longer takes 1-tile wide steps when to the left or right of water with Z3 movement off.
* Link is no longer blocked from turning to a perpendicular direction when left or right of a ladder combo with Z3 movement off.
* "Throttle FPS" is now "Cap FPS", as the word Throttle was causing some confusion. ( DarkDragon, 2007-11-16 23:55:33 )

* Fixed a bug where Eyeball combos were looking at the wrong location.
* Fixed a bug where the values on the Constants tab were different in the Init dialog in ZQ and the Cheat dialog in ZC.
* Fixed a key repeat issue with the Q and I keys in the game engine.
* Fixed a bug where combo types with long names would sometimes cause the properties dialog of a combo to not display everything properly. ( DarkNation, 2007-11-16 13:23:32 )

* Now, every single enemy's bgsfx will stop at the right time. ( _L_, 2007-11-16 09:31:16 )

* Due to overwhelming demand, I have added the 'Combos Affect Midair Link' screen flag. Trigger, Step, Stairs, Direct Warp, Sensitive Warp, Swim Warp, Slow Walk, Damage and Conveyor combos will affect Link regardless of his Z position. So... yay?
* Candle sprite backwards-compatability for very recent quests has been added.
* Fixed some inconsistencies with regards to the side-exits of Item Cellars and Caves.
* Now, the default power of Book magic is equal to that of Wand magic.
* Jumping enemies now make use of the 'Jumping Link Layer Threshold' (which is renamed to 'Jumping Sprite Layer Threshold').
* 'Fairy (Moving)' items are now drawn above layer 3 - they're flying, after all.
* Added some Item Editor labels for Peril Ring and Stomp Boots item classes. Fun fact: those items exist!
* Furthermore, the Golden Arrow's enemy-penetration ability is now controlled by the Arrow class's Misc. Flag 1. ( _L_, 2007-11-16 02:04:50 )

* Freeform combos are now drawn above push blocks, as they should be.
* Scripts can now correctly set the X and Y values of 'Fairy (Moving)' items.
* Picking up an item will now cancel Link's sword-charging. ( _L_, 2007-11-15 06:29:14 )

* Fixed the other bug that was preventing Peril Beams from firing. Sorry!
* The 'Reset Room' combo type now works when the 'Use Old-Style Warp Detection' quest rule is set. Did anybody notice?
* Combo type 'Screen Freeze (FFCs Animate)' renamed to 'Screen Freeze (FFCs Only)', and 'Screen Freeze' renamed to 'Screen Freeze (Except FFCs)'.
* Freeform Combos are now visible in the Overworld Map.
* I'm quite fond of the Overworld Map, and so, to encourage its use in Interiors and Dungeons, I added a DMap flag that makes it so that only screens that are plotted on the DMap's minimap grid are displayed in the Overworld Map. ( _L_, 2007-11-13 09:22:33 )

* Adding a magic meter no longer crashes ZQ. ( DarkDragon, 2007-11-13 05:38:51 )

* Fixed the backwards-compatability of Candles' fire sprites. Whoops!
* ...and the proposed quests' Candles as well.
* I noticed just now that the quest 'Lost Isle' (and presumably a few others) has cutscenes that are somewhat dependant on FFCs not being visible while the screen is scrolling. So, I've added the 'FFCs Are Visible While The Screen Is Scrolling' quest rule, which is off by default! ( _L_, 2007-11-12 20:11:42 )



Build 660 - windows
* Old quests should now have the correct default message string color.
* Update zscript.txt: corrected an error in the documentation of DrawTile, and added a notice to some variables that do not yet work correctly in all cases when written to by scripts. ( DarkDragon, 2007-11-11 23:14:24 )

* Fixed the default weapon sprites for the Candles. Changes to the template are still needed.
* The value of Link->Jump no longer carries over between games.
* Fixed the Hookshot sound carryover bug. ( _L_, 2007-11-10 09:46:07 )

* The 'Damaged by Power 0 Boomerang/Hookshot' enemy data flag is renamed to 'Damaged by Power 0 Weapons'.
* GetCurDMapScreen() now returns the correct number.
* The screen warp flag 'Overlay' is renamed to 'Combos Carry Over'.
* Seemingly fixed the bug where a few bosses' bgsfx wouldn't stop.
* Misc. Flag for Candles and Din's Fire: 'Don't Provide Light'. ( _L_, 2007-11-08 20:50:06 )

* Added the missing LA_DROWNING constant to the std.zh file.
* Fixed the bug where the item test screen in ZQuest would display the item in the wrong location in -large mode.
* Fixed the bug where ctrl-click filling on the map screen in -large mode of ZQuest would sometimes behave strangely. ( DarkNation, 2007-11-06 13:34:38 )



Build 655 - windows
* Fixed the sfx.dat file. ( DarkDragon, 2007-11-05 20:16:45 )



Build 654 - windows
* The "View Pic" palette in ZQuest now appears in the far lower-right in -large mode.
* When editing tiles in ZQuest in -large mode, the tile currently in the clipboard no longer has a slight y offset.
* When dragging the mouse while placing a warp return, item position, etc, in -large mode, the text no longer appears on top of the Favorites window.
* Scripts should no longer carry over from a quest to a subsequently loaded old quest.
* The default quest template now has the correct default sword item properties. ( DarkDragon, 2007-11-05 19:50:32 )

* Fixed the Candle item class's Weapon 3 sprite, which is actually used now.
* Now, level 3 Candle fire definitely won't trigger 'Wand Fire' and 'Din's Fire' combo flags.
* Fixed the damage Link takes from Candle fire, which now corresponds to the Candle's power.
* Finally remembered to reduce the 'floatiness' at the apex of Link's jump. I know a few people were unhappy with it, so here it is. This should only slightly reduce the distance of Link's jump, but if you were counting on that exact jump length... maybe you could try lowering the Gravity variable a little bit? ( _L_, 2007-11-04 07:50:25 )

* Now you can edit Weapon/Misc sprites' names. That should make weapon editing even easier.
* And now you aren't allowed to set Link->Z while in Sideview.
* Added a brief warning to the Screen Doors dialog, for the benefit of new users. ( _L_, 2007-11-03 00:03:22 )

* Link now uses the swim sprites when swimming instead of the float sprites.
* Fixed a bug where the Reset menu item in the ZC engine was tied to the Fullscreen menu item.
* ZQuest no longer tries to move tiles (which can result in a crash) when in tile select mode instead of tile edit list mode.
* The combo brush arrangement now starts in column mode instead of non-column mode. ( DarkNation, 2007-11-02 06:48:02 )

* Fixed the bug where boss segments were interfering with the boss's bgsfx.
* Fixed the bug where a PatraBS couldn't be hurt if its Misc. Attribute 2 was set to non-zero.
* Now, the Peril Beam will fire for all swords, except for those whose non-percentage Beam Heart requirement exceeds the maximum possible Heart Containers (12 or 20). ( _L_, 2007-11-02 02:19:41 )

* Change to Magic Ring 4: even if you have unlimited magic, you still cannot cast a spell unless your total Magic Containers meet the spell cost.
* New string control codes: 16/XX adds item number XX to Link's inventory, and 17/XX removes that item from Link's inventory. Furthermore, there's, 3/XX/XX/XX (Goto If Screen Variable). If the value returned by Screen->D[Argument 1] is greater than or equal to Argument 2, ZC will switch to another string (Argument 3).
* If Like Likes or messages remove items from Link's inventory (in particular Heart Pieces, level-specific items and counter-increasing items), appropriate changes will happen to the game counters.
* Added the following constants to std.zh: LA_DROWNING, LA_CHARGING, LA_SPINNING and LA_DIVING.
* Added ZScript variables Screen->Wavy and Screen->Quake, to match the ZASM commands added in build 461. Hint: use Screen->Quake to tell if someone's used the Quake Hammer.
* Added ZASM variable LINKDRUNK. This makes the screen wavy just like WAVY, but it also messes with Link's controls for awhile. This effect has actually been lying dormant in the code since before my time...
* Setting Link->Z while Link is swimming, holding up items, or charging the sword will no longer cause problems. (Maybe Link->Jump needs a similar fix?)
* Have you noticed something funny with Link's 'exit cave' animation? How it only seems to occur if you place the Warp Return square 16 pixels south or north of the cave combo itself? Yeah, that. Well, I've coded it so that Link will also exit the cave if the square is placed right on top of the cave combo, where it should be.
* Have you tried putting Ocean SFX or noisy enemies in an Item Cellar or Passageway? And then exiting the Item Cellar? Well, I fixed that as well.
* Some incongruities between cave combos and item cellars have been resolved.
* Also fixed a bug where Link would walk back down a recently-exited Cave combo after drowning. ( _L_, 2007-10-31 07:31:50 )

* Items now animate at the correct speed in the item animation test window and during preview mode.
* Moving combo 0 to a different location on the combo page no longer changes all non-cycling combos to cycle to that new combo.
* The door tool should no longer make the mouse cursor disappear in combo alias mode.
* Clicking one of the panel squares (stair point, start point, flags, etc) in combo alias mode should no longer trash the mouse cursor.
* Eliminated the panel flickering in preview mode. ( DarkDragon, 2007-10-28 20:59:46 )



Build 643 - macosx-Tiger-and-Leopard
* Leopard Compatible ( Takuya, 2007-10-27 11:38:56 )

* Hooray! ZScript script names now appear in the FFC editor's Script menu.
* Tightened and improved the drowning collision detection even further.
* Link's drowning animation now works as expected. * And, south-north stepladders work with drowning water again.
* Fixed Smart Screen Scrolling's interaction with Side Warps.
* Setting Link->Action to either LA_DROWNING, LA_GOTHURT, LA_GOTHURTWATER, or one of the LA_HOLDs will now do something instead of nothing. Activity Time: if you set it to LA_DROWNING, and Link isn't on a water tile, then he will 'drown', but his sprite won't be drawn at all. See if you can use this to your advantage!
* So maybe I've been playing Phantom Hourglass a little much, but it strikes me that, extra keyboard buttons notwithstanding, Zelda Classic doesn't really utilise the unique input methods offered by its current platform. This is hardly the time to do anything significant about that, but just for now, here are ZScript variables Link->InputMouseX and Link->InputMouseY, which reflect the mouse's movement within the ZC game window. They use standard Allegro routines, and to my knowledge they work perfectly for gameplay applications. ( _L_, 2007-10-25 04:00:37 )

* Tweaked the Link walkability code so that Link will on longer try to hop out of water onto solid combos. Please verify other subtle parts of Link walkability, eg the ladder, conveyors, still work correctly in normal and Z3 movement mode.
* Split "Message Text" from "Text" in the Misc Colors dialog box to restore 2.10 compatibility.
* Opening Link Data in cheats will no longer reset Link's max bombs. ( DarkDragon, 2007-10-24 16:20:48 )

* Accessing Link Data using cheats no longer occasionally crashes ZC.
* The magic shield now absorbs enemy fire by default.
* Unused item properties in the item editor no longer stay permanently disabled. ( DarkDragon, 2007-10-20 07:18:30 )



Build 639 - linux
* Time for another linux build. ( koopa, 2007-10-20 05:55:43 )

* Fixed a bug where bombable wall rubble wasn't being drawn over layer 2.
* Fixed a bug where inherent-flag pushblocks would not lock into block trigger combos unless the block trigger was also an inherent flag.
* Fixed a deficiency with warps by adding an overlay flag to tile, side, and whistle warp types. When this is set, any combo on the new screen that is 0 will be replaced with whatever combo is in that position on the old screen. This allows combos to carry over (slashed bushes, for example). ( DarkNation, 2007-10-18 13:20:45 )

* Fixed the bug where Farore's Wind particles weren't being disposed of when quitting.
* Screen Flag: 'Don't Offset Screen' (when the No Subscreen screen flag is on). Have you noticed that when you are warped between a 'cutscene' screen and a game screen, the playing area suddenly jolts downward or upward? Yeah, that. ( _L_, 2007-10-17 00:37:31 )

* Added the message control code \21\XX - play MIDI. Stop music with \21\0.
* You can now specify the Hold Up Item sound ID for each screen.
* Fixed the interaction between holding up items and the 'Messages Freeze All Action' rule.
* Added a default sound effect for Farore's Wind.
* And hey, I added another Farore's Wind warp animation (2). This one's based on the 'Sand of Hours' in Phantom Hourglass, which doesn't actually have anything to do with warping. It uses cset 0, colour 1 and cset 1, colour 2. ( _L_, 2007-10-16 06:27:20 )



Build 635 - windows
* The default template's mirror shield no longer reflects swords.
* Walking into projectile reflected by a shield will no longer occasionally still hurt Link.
* Hammering outside the boundaries of the screen will now use the "water-ness" of the nearest on-screen tile. ( DarkDragon, 2007-10-14 21:40:16 )

* Now you can edit an item's ZScript arguments, D0-D8, and A0-A1. Item scripts just became more workable!
( _L_, 2007-10-13 06:47:48 )

* Fixed a bug where invalid misc10 values for enemies would crash the player.
* Fixed a bug where dropdown lists would sometimes be drawn incorrectly.
* Fixed a bug where the F11 key would rapidly toggle the 'Walk Through Walls' cheat.
* Fixed a bug where options in ZQuest wouldn't save correctly. ( DarkNation, 2007-10-08 13:28:36 )

* Triforce pieces no longer show up as an Init Data item class.
* Fixed the other enemy sound bug.
* Fixed the Super Bomb Ratio crash.
* Ganon can be edited again.
* The low HP beep will no longer occur if Link's maximum hearts are 1 or lower.
* You can now edit the default Text Speed (that is, delay) of all Message Strings. Default is 5. 0 is instantaneous. You might want to set it to 3 or 2 if your quest includes long spans of message text.
* You can now edit the strength of Gravity in sideview and topdown areas, as well as the Terminal Velocity of falling sprites. See Init Data.
* You can also edit a new 'Jumping Link Layer Threshold' constant in Init Data. Jumping Link will be drawn above layer 3 if his Z is greater than this. You might want to set it to, say, 15 if you use Layer 3 a lot.
* Thus, I've discontinued the 'Draw Jumping Link Above Layer 3' rule. ( _L_, 2007-10-07 08:32:10 )

* The combo brush now shows up no matter where the mouse is if running ZQuest in -large mode.
* Layers 2 and 3 are now drawn with the correct vertical offset when used as background.
* Viewing the map in ZC now shows layer 3 of a screen correctly if it is set to be the background. ( DarkDragon, 2007-10-04 23:33:24 )

* Scrolling into a water tile from a nonwater tile with Z3 movement on should no longer cause Link to "float" across the entire screen. ( DarkDragon, 2007-10-04 00:08:38 )

* Giving Link bombs when he has no other items via cheats no longer sets Link's B button to a usable bomb when he has 0 bombs. ( DarkDragon, 2007-09-30 22:18:19 )

* Fixed the book's default power to be 1 in the proposed quests, the default template, and all old quests.
* Overhead combos and all layers should now appear under the triforce curtain.
* Flipping a tile on the combo page no longer trashes the value of that combo's cset2. ( DarkDragon, 2007-09-30 19:54:37 )



Build 626 - windows
* Trying again, with a fixed alpha packaging script. ( DarkDragon, 2007-09-30 17:28:42 )

* Registering a name no longer crashes ZC.
* Attempting a Windows build... using Vista. *sacrifices four virgins and prays profusely* ( DarkDragon, 2007-09-30 17:13:54 )



Build 624 - windows
* ZOMG I COMPILED A WINDOWS VERSION. Didn't want to see you guys left out. <3 Deviance ( Sean, 2007-09-30 12:17:21 )

* Fixed the bug where setting a message string's speed to 0 (instantaneous) would prevent you from setting it to anything higher later.
* Fixed the continuous enemy sound effect bug.
* Fixed the double Armos spawning bug.
* The Combo Editor now displays the combo's number in the window title. ( _L_, 2007-09-30 00:36:12 )



Build 622 - linux
* New Linux build. ( koopa, 2007-09-28 07:54:19 )

* Renamed 'No Jump Zone' to 'No Jumping Enemies' and 'No Fly Zone' to 'No Flying Enemies'.
* I noticed that there was a one frame delay between a message string appearing, and the 'Messages Freeze All Action' rule taking effect. This caused problems with some people's Signpost scripts, so it's now fixed. ( _L_, 2007-09-28 02:39:21 )

* You can now edit the Bomb/Super Bomb maximum capacity ratio. Default is 4 Bombs to a Super Bomb. ( _L_, 2007-09-25 06:52:47 )

* Removed the 'S' debug key (give Magic Shield), because it seems out-of-place. But if anyone genuinely misses it...
* FFCs are now visible while the screen is scrolling. Yippee!
* Presumably fixed the walkable water screen entry bug.
* Quest Rule: No Screen Scrolling. The advantage of not having a scrolling transition between screens is that you don't need to ensure that each screen's combos seamlessly transition into the next screen's. ( _L_, 2007-09-25 05:19:44 )

* If an item's class is 'Non-gameplay item', then enemies will never drop it, nor will Grass or Slash combos ever create it.
* Tightened the 'Block X' combo types' hit detection. ( _L_, 2007-09-22 10:34:41 )

* Added a brief warning to the 'Select Palette' dialog, for the benefit of new users.
* Continued developing the Link drowning quest rule. The stepladder works with it, and Link's water combo detection is fixed. Go ahead and try it out. (The drowning animation is still buggy, though.)
* If the 'Drown in Walkable Water' quest rule is set, enemies won't walk on walkable Water combos. ( _L_, 2007-09-18 05:50:08 )

* Hopefully fixed the midair death animation bug.
* Now the Whimsical Ring is implemented. There is a one-in-misc1 chance that your sword, hammer or wand strikes will have an increase in power. Don't forget that it has an Action Sound! ( _L_, 2007-09-12 21:30:11 )

* Fixed EXIT command in Zquest-large buttons. ( koopa, 2007-09-11 02:26:07 )

* Fixed bug where music is quieter in Zquest than in Zc by making ZQ use Zc's settings. ( koopa, 2007-09-11 02:07:19 )



Build 613 - macosx-Tiger-and-Leopard
* New OS X build ( Takuya, 2007-09-10 12:43:13 )



Build 612 - linux
* New Linux build. ( koopa, 2007-09-10 07:36:29 )

* ZQuest will now remember whether to start in windowed or fullscreen mode (overrideable with the command-line parameters -windowed and -fullscreen). ( DarkDragon, 2007-09-10 07:25:41 )

* Explicit command-line arguments -windowed and -fullscreen now take precedence over stored settings in ag.cfg. ( DarkDragon, 2007-09-09 22:32:46 )

* Fixed music bug, where clicking out and back in to a paused ZC window, played music. ( Takuya, 2007-09-09 17:28:49 )

* ZC will now (correctly) remember your fullscreen preferences. ( Takuya, 2007-09-09 11:05:31 )



Build 600 - macosx-Tiger-and-Leopard
* Fixed a bug I just made causing Zelda Classic to crash. OS X ZC will start out at 640x480, using sbig, in fullscreen. Ability to switch to windowed is present. Have fun. ( Takuya, 2007-09-08 23:59:47 )



Build 599 - macosx-Tiger-and-Leopard


Build 598 - macosx-Tiger-and-Leopard


Build 595 - macosx-10-3-9
* Copying FFCs with Paste Spec. now also copies script assignments. ( DarkDragon, 2007-09-08 22:30:03 )

* Added a fullscreen option in Misc. for Zelda Classic ( Takuya, 2007-09-08 22:10:03 )

* OS X: graphics->tiles and graphics->palettes->main work in fullscreen on OS X. Rejoice! ( Takuya, 2007-09-08 20:59:03 )

* Fixed an bug on OS X where graphics->tiles crashes the player. ( Takuya, 2007-09-07 23:13:40 )

* OK, sorry about the last comment, there's an option for it in etc->options. No, it's not a new feature. It's just an accessibility. ( Takuya, 2007-09-07 17:48:01 )

* OS X users rejoice. If you want -large mode just add large = 1 to ag.cfg, any other value will not be counted. ( Takuya, 2007-09-07 17:00:27 )

* OS X ZC -large flag currently works. ( Takuya, 2007-09-07 15:49:01 )

* Color change message codes should once again work as before.
* Enemy boomerangs will no longer become stuck when they hit a block combo (fix). ( DarkDragon, 2007-09-06 23:54:13 )



Build 584 - windows
* F12 should now create only one screenshot per press.
* Changer FFCs with no combo set will no longer function in ZQ preview mode, to be consistent with ZC behavior.
* The text color set in Misc colors is now used by default for all ZC text, including guy messages, dmap into messages, and text on the subscreen.
* FFCs with the "Draw Over" flag set should now appear in ZC again.
* Enemy boomerangs will no longer become permanently stuck when they hit a boomerang block combo.
* The overworld map should once again be viewable in very old (1.90) quests. ( DarkDragon, 2007-09-06 21:16:34 )

* ZCL SET Title Screen has been integrated into the main gui now.
* Fixed a bug that caused ZCL not to save the options
* Removed some old code that was uneeded
* Changed the code how the options are selected. This basically is behind the scenes work. Basically what I did was worked on the core of the program to help save some space and memory consumption. This also will help make ZCL more stable.
* Added 2 new options that helps you preselect the options for ZC and ZQ. What this does if you have a fast pc, hit the fast pc button, If you have a slow pc, press the slow pc button. Yeah you don't need a fast pc for ZC. I only have a 466mhz processor and it runs just fine :-D. Ok that's it for now. ( Sean, 2007-09-04 14:53:35 )

* Undo now works on layers. ( DarkDragon, 2007-09-04 08:03:26 )

* Fixed the bug where entering a 10-Rupee room would cause the rupees to not return if the room was entered a second time even though no rupees were taken. ( DarkNation, 2007-09-04 06:35:35 )

* Weapons have a new flag, "Beneath." If this flag is checked, the weapon appears under any enemies on the screen. The fire trail weapon has this flag checked by default.
* The Triforce curtain effect should once again work properly.
* Entering a boss room whose boss has been defeated once again triggers items and shutters.
* Custom Like-Likes should once again draw on top of Link when Link is engulfed. ( DarkDragon, 2007-09-03 22:19:51 )



Build 579 - windows
* Palette grabbing with ZQuest running in -scale mode is no longer cluttered with garbage.
* Loading a second file in the tile grabber correctly reduces the new image's colors if "r" color reduction mode is set. ( DarkDragon, 2007-09-03 00:40:56 )

* There's no longer a close button hidden behind the tile edit page when running ZQ in non-large mode.
* Paste special FFC no longer corrupts subsequent screens.
* The wand now fires magic of the correct power when Link does not possess the book.
* Hitting "defaults" in the item editor no longer resets certain non-gameplay item properties.
* Proposed1st/2nd now have Triforce rooms with the correct warp type (thanks AmazingAmpharos). ( DarkDragon, 2007-09-02 21:43:22 )

* The "Gain All Lower Lever Items" checkbox in the item editor should now remain checked when hitting "OK."
* FFCs use their CSet 2 settings in ZC (again).
* Items in older quests with missing families will now adopt the "Non-gameplay Item" family. ( DarkDragon, 2007-09-02 11:16:33 )



Build 576 - windows
* ZC no longer crashes if the first string displayed in a quest is an info string.
* The "infinite" dropdown list in the subscreen editor was badly broken; it's now fixed but you'll probably have to fix it in your quests.
* Fixed the "infinte" items in the default quest template, per the above.
* Loading old quests in ZC that do not have custom subscreens no longer occasionally crashes ZC. ( DarkDragon, 2007-09-02 01:29:18 )

* Hitting "cancel" on the password prompt when loading a quest will no longer put the name of the loading file in the bottom ZQuest panel.
* It is no longer possible to save by hitting F2 if the save option is greyed out in the File menu (again.)
* Removed the Gleeok from the default quest template. ( DarkDragon, 2007-09-01 23:54:29 )



Build 573 - windows
* Garbage tiles no longer appear in the subscreen if you don't have a sword and the "A Button Selectable" quest rule is disabled.
* Removed extraneous combos from proposed1st.qst.
* Increased the maximum item level from 8 to 255.
* Various changes to the default quest template, suggested by L and others:
* - The Gleeok enemy properties specifying the neck and head tiles are now correct.
* - The two cactus combos now do 1/2 instead of 2 hearts of damage.
* - Fixed the clock animation.
* - Swapped Din's Fire and Roc's Feather on the A+B active subscreen.
* - Changed the worn-out glove to use CSet 7.
* The "Default" in the item editor should no longer swap the use and play sound effects.
* Moved the "Bait Sprite:" label in the item editor from the Misc 2 flag to the Weapon 1 field.
* Hitting Cancel on the password prompt will now silently load a blank quest instead of trying to open the locked quest anyway.
* Optimized writing to Link->Item[].
* Changed the behavior of y skip in the combo editor: every frame of animation, a combo's tile increases by 20*(yskip) additional tiles.
* It is no longer possible an illegal combination of animation frames, x skip, and y skip in the combo editor. ( DarkDragon, 2007-09-01 21:20:53 )



Build 572 - windows


Build 571 - windows
* Swords above level 4 are now usable if the "A Item Selectable" quest rule is disabled.
* FFCs above combos with singular flags will no trigger secrets as if they themselves had those flags.
* FFCs moving to the left now wrap around if the wrap screen flag is set.
* The "any keys" counter types are now implemented.
* Items now appear in Ganon rooms.
* Loading old 1.92 quests no longer keeps the level palette names of the previous quests.
* The fire trail bounding box has been increases by one pixel in both directions. ( DarkDragon, 2007-09-01 12:30:45 )

* The "Auto" button in the door combo editor should now work even before you've clicked on any of the panel tabs.
* "Remove Item when Used" should work on items of non-standard families.
* The boss flag and "Never Returns" enemy flag now work correctly on screens with enemies entering from the sides. ( DarkDragon, 2007-08-31 21:43:13 )

* Fixed a speed issue with the Link animation preview window.
* Fixed some bugs with the -large ZQuest mode.
* Fixed a bug where the pickup sound and the action sound were reversed in the item editor. ( DarkNation, 2007-08-31 13:19:21 )

* You may now select a boss CSet up to 29 in the enemy editor.
* Horizontal traps positioned exactly in the center of the screen no longer fly off of the screen.
* Link no longer occasionally gets knocked back differing distances when he is hit with Z3 movement turned off. ( DarkDragon, 2007-08-31 02:19:39 )



Build 564 - windows
* Timed warps no longer fire immediately on the first screen when starting a quest.
* Added a "Restart Animation When Cycled To" flag to combos. ( DarkDragon, 2007-08-30 14:25:10 )

* Fixed a bug where block combos would not block weapons if Link was halfway on them.
* Fixed and deprecated the 999 Rupees quest rule.
* Fixed the missing enemies in the proposed2nd.qst and proposed3rd.qst files. ( DarkNation, 2007-08-30 13:37:59 )

* Trying to save an unencrypted quest to a file that cannot be opened for writing no longer crashes ZQ.
* Changed item->Tile to return the current displayed tile of an item instead of its animation start point. Added item->OriginalTile to manipulate items' animation start points.
* Ropes no longer jerk back and forth while moving.
* Splitting enemies no longer occasionally crash ZC. ( DarkDragon, 2007-08-30 00:25:15 )

* Fixed a bug where non-Ghini enemies could only be released from a grave once.
* Fixed a bug where leaving a dungeon from a dark room would cause the next screen after the entrance to "re-light".
* Zelda 3 animation now has a slow walk option to make the walking animation slower (though the travel speed is the same).
* Fixed a bug where the default "BS Zelda Enhanced" subscreens would have the selection cursor a 1/2 tile too low on the boow and arrow.
* Loading a sprite cset into cset 9 should no longer be reset when entering the tile list screen.
* It is no longer possible to set animation frames high enough to cause the animation to wrap around to the front of the tile list.
* The dropdown menu in the tile list window now has a Move option.
* Fixed a bug where tile quarters would sometimes not be drawn if there wasn't much in the tile quarter.
* The dropdown menu in the tile list window now has (temporarily) a Blank option to show if the above fix is working.
* Auto timed saves will no longer overwrite quests from older versions. They have to be manually saved once first. Instead of the autosave, a window will now appear, informing the user of this.
* Added 6 new weapon slots for items (for future expansion).
* Added 6 new misc slots for items (for future expansion).
* Added 6 new misc slots for enemies (for future expansion). ( DarkNation, 2007-08-29 13:27:02 )



Build 560 - windows
* ZCL now had a new gui which makes it even easier to set it up.
* ZCL's old interface has been removed
* Adjusted the ZCL icon again =/
* Enjoy :-D ( Sean, 2007-08-29 05:46:17 )



Build 559 - windows
* Deleting a quest template no longer crashes ZQ.
* Current Item objects on the passive subscreen should no update correctly when Link's inventory changes.
* FFCs should no continue to run at all times if the "Messages Freeze All Action" rule is off. ( DarkDragon, 2007-08-28 18:13:48 )



Build 557 - windows
* New version of ZCL for the latest build. This release doesn't have the updates that is mentioned below except ZCL. ( Sean, 2007-08-28 08:17:13 )

* ZCL has the new -large mode implemented :-D ( Sean, 2007-08-28 08:09:37 )

* Fixed the icon issues in ZCL now it looks better :) ( Sean, 2007-08-28 07:36:30 )

* Lanmola segments should now be correctly spaced. ( DarkDragon, 2007-08-27 00:23:38 )

* Link no longer uses the raft if no clipping is enabled. ( DarkDragon, 2007-08-26 19:12:00 )

* It is no longer possible to scroll past the last combo in the combo panel on the main ZQ screen.
* The file open dialog should no longer crash on OS X. ( DarkDragon, 2007-08-26 17:49:43 )

* You can now specify the IDs of the Ocean sound, Boss Roar sound, and Secret sound of each screen! Leave as 0 for no sound. This, of course, replaces the 'Ocean SFX', 'Boss Roar SFX', 'Roar=Gasp Style', 'Roar=Dodongo' and 'No Secret Sounds' Screen Flags.
* Fixed the bug that prevented the 'Leaving Item/Passage Room Doesn't Restart Music' quest rule from sticking to old quests.
* 'Remove Item When Used' is hopefully fixed for custom item classes. ( _L_, 2007-08-26 04:04:03 )



Build 550 - windows
* Upped the maximum number of heart containers obtainable through cheats to 128.
* Palettes x100 through x1FF should now be editable without corrupting your misc sprite palettes/crashing ZQ.
* Added item->isValid() and npc->isValid(). Both return true if the object pointed to is still valid. ( DarkDragon, 2007-08-26 00:16:43 )

* Removed some debugging code which prevented the screen from fading to red on Link's death on some occasions.
* Both FFCs and regular combos on the map now only trigger once each per slash of Link's sword.
* Eyeball statues should now look in the correct direction in ZC.
* The preview of selector 1/2's size should now respect the "Large" checkbox when the dialog is first opened.
* Music no longer stops before the fade to black when leaving a cave with the "Cave Exit Doesn't Stop Music" rule disabled.
* The dropdown boxes for Items 1-3 when editing a counter in the subscreen editor are now wider. ( DarkDragon, 2007-08-25 21:34:09 )



Build 548 - windows
* Picking up an item with "Keep Old Items" unchecked, and an old version of the item selected as the A or B weapon, no longer changes that button to a new weapon.
* Editing a Counter in the subscreen editor no longer causes memory corruption.
* Pressing "Cancel" in the subscreen editor properties dialog no longer leaks memory. ( DarkDragon, 2007-08-25 15:18:03 )

* You can no longer view the Properties dialog when no subscreen objects are displayed.
* Creating a new Blank subscreen no longer ignores your choice of active/passive subscreen.
* Map importing/exporting should now work, instead of filling the imported map with random combos, random flags, random csets, and/or crashing ZQ. Old .maps are hopelessly corrupt and cannot be imported. ( DarkDragon, 2007-08-25 14:27:28 )

* For technical reasons I had to recode every single list (or list variant, such as the dropboxes) in ZC and ZQ. Please report any dialogs that crash. ( DarkDragon, 2007-08-25 12:42:58 )



Build 545 - linux
* New Linux build. ( koopa, 2007-08-25 07:22:49 )

* Bomb upgrade rooms now also give link all items with level 1 in the Bombs family, if one exists.
* Windrobes in old quests no longer shoot 8 tornadoes.
* CreateItem now returns the correct pointer when no other items exist on screen.
* Bracelets specified in the init data of old quests now correspond to the bracelets of the correct level in the current build.
* The long hookshot in quests saved in ZC 2.10 and older now uses the same weapon graphics as the short hookshort.
* There are now 512 instead of 256 named level palettes, restoring consistency with the 512 available levels. ( DarkDragon, 2007-08-24 02:06:02 )

* Enemy super bombs no longer become normal bombs mid-explosion.
* Added an FFC flag, "Ethereal." If this flag is checked, the FFC is completely ignored for the purposes of detecting if Link is touching a combo or combo flag (like Changers are.) Obviously the FFC's combo and combo flag does not work if this flag is checked. ( DarkDragon, 2007-08-23 14:55:58 )

* Fixed 'Enter From Sides (Random)' so that it no longer randomly gives up altogether when placing enemies.
* Fixed the shieldless Darknut tiles' backwards-compatability. Sorry about that.
* Fixed the Bombchu's other death weapon so that non-Bomb weapons work. ( _L_, 2007-08-22 23:01:47 )

* Darknuts animate correctly once their shields are broken.
* The wand no longer occasionally plays a random sound when fired without the book. ( DarkDragon, 2007-08-22 22:34:18 )

* Bombs no longer hurt submerged Leevers.
* Copying FFCs using "Spec. Paste" now copies the FFC's script argument as well.
* Quests saved before 2.11 beta 7 will no longer have tiles 130-133 reordered if the "New Enemy Tiles" quest rule is enabled.
* When viewing the map, each screen's door combo set is now used instead of always using the current screen's door combo set. ( DarkDragon, 2007-08-22 15:59:03 )

* More fixes to the default template relational mode tiles.
* It should now be impossible for Link to equip an item to both the A and B slots, even if the only equippable item at quest start-up is in position 0. ( DarkDragon, 2007-08-22 12:42:28 )

* Link will no longer wander in a straight line on his own if he tries to enter water while charging, facing a direction perpendicular to his direction of motion, and with Z3 movement disabled.
* Pressing V in the combo editor dialog will no longer corrupt the preview tile and the CSet 2 field. ( DarkDragon, 2007-08-22 01:14:33 )



Build 536 - windows
* Selecting "Custom" in the Romview file open dialog no longer crashes Romview.
* Link's up and down slash animation no longer shows Link letting go of the sword during his lunge.
* If a quest has no bombs or super bombs set in Init Data, the subscreen editor will still display subscreens as if Link had 1 of that bomb.
* CreateItem now returns a pointer to the correct item.
* Octorok 3 no longer tries to shoot flame if it is stuck.
* The following enemies no longer crash if their E. Rate is set below 4: Digdogger, Moldorm, Lanmola, Manhandla, Tektite, Rock, Vire, and Pols Voice.
* DigDoggers (and other enemies with 8-directional movement) will no longer fly up off the top of the screen if stuck.
* Link's stab will now do damage in mid-air even if Link has pressed a directional button while jumping.
* Link's jump is no longer garbled if Z3 movement is disabled.
* Starting 2nd.qst after beating 1st.qst should no longer kill Link. ( DarkDragon, 2007-08-21 23:09:17 )

* Fixed and enhanced the Gleeok enemies (more variables can be set now).
* Fixed the heart/fairy bug in proposed2nd.qst and proposed3rd.qst. ( DarkNation, 2007-08-21 13:35:26 )

* Loading a quest with a custom subscreen (or importing one) containing fewer than the default number of subscreen objects, then duplicating or creating a new subscreen object, no longer corrupts the subscreens.
* Link will no longer attempt to use the ladder to cross any walkable combo, or water if he has the flippers, under any circumstance. ( DarkDragon, 2007-08-21 12:20:39 )

* Wizzrobes no longer use the secret combination misc1=1, misc2=2 to denote a mirror wizzrobe; instead, misc4 is now used. 1 = immune to other weapons.
* Proposed2nd and Proposed3rd now have "Correct Enemy Weapon Collision" disabled.
* Patra children are now spaced out correctly if given a nonstandard number of children through the enemy editor.
* Grabbing tiles now preserves the x and y offset of the image or tileset you're grabbing, until you load a new image or quest.
* Cheats now carry over when continuing a quest after quitting.
* The init data dialog box's item family list box now uses the normal font instead of a narrow font, to circumvent a nasty bug in the window UI framework.
* Gleeoks now fire non-fireball weapons straight down instead of in a random direction. ( DarkDragon, 2007-08-20 12:03:52 )



Build 530 - macosx-10-3-9
* Spinning Tiles are no longer counted as enemies by the Screen Flags.
* Traps can now be edited. ( _L_, 2007-08-19 09:54:22 )



Build 528 - windows
* Wizzrobes should now behave correctly under all legal combinations of misc1 and misc2 attributes.
* Undo should now work on all screens, in particular those greater than 0x80.
* The used and blank tile information given by Control-U should now correctly update after copying or moving tiles.
* The title bar of the tile editor window should now update to display the correct tile ID.
* NES compatibility quest rules ahoy: "Leaving Item/Passage Room Doesn't Restart Music" and "Holding Up Items Doesn't Restart Music," whose behavior should be evident. These rules are disabled in the proposed quests, and enabled by default in all other quests.
* Fixed some problems in the default quest template, including the relational mode tiles. (Thanks zcAmazing and AmazingAmpharos) ( DarkDragon, 2007-08-18 21:00:42 )

* Fixed the Link midair death sprite bug.
* Fixed enemy Super Bombs.
* Fixed the Hammer's magic cost.
* Possibly fixed the Boots' Power. ( _L_, 2007-08-14 22:20:35 )

* FFC changers now work correctly after warping in ZQuest preview mode.
* Disabled key repeat in ZC.
* Passive subscreens again show up when not scrolling. ( DarkDragon, 2007-08-11 13:24:40 )

* Added an option in ZQuest to turn off the "Invalid Static". ( DarkNation, 2007-08-08 12:33:15 )

* Changed path for OS X instead of being in the app, in ZQ, file->open reports to outside the App, so in most cases it's /Applications ( Takuya, 2007-08-08 09:16:38 )



Build 516 - linux
* Linux build.
* Added some manual/wiki related scripts and files. ( koopa, 2007-08-07 07:53:34 )



Build 515 - macosx-10-3-9


Build 514 - macosx-10-3-9


Build 513 - macosx-10-3-9


Build 511 - macosx-10-3-9
* The Light Force->Cheat Menu interaction bug should be fixed.
* Fixed the sword beam backwards-compatability bug.
* Fixed the bug that prevents Link from being pushed off a conveyor belt platform while in sideview. ( _L_, 2007-08-05 23:27:00 )



Build 509 - windows
* Bringing up the enemy list in ZQuest no longer crashes ZQuest.
* The built-in subscreens no longer have invisible elements. ( DarkDragon, 2007-08-04 02:26:00 )



Build 508 - windows
* Reset CSet 6 of the default template to the default NES colors, which should fix the default icon colors.
* FFCs now correctly use the CSet2 settings of their combos.
* Button items no longer shift around vertically when scrolling between screens with sideview gravity enabled.
* The mirror shield no longer reflects swords by default.
* Hitting F2 while the Save menu item is greyed out now does nothing.
* The first game script slot now executes only the first time a quest is started, instead of every time a save is loaded. As a consequence, the ~Init script now only executes once and global variables are not reset when loading a save. ( DarkDragon, 2007-08-03 23:34:46 )

* Fixed the 'Messages Freeze All Action' rule's interaction with 'Messages Disappear'. Now, action won't resume until the last message has been dismissed.
* Added the Item Editor pickup flag 'Gain All Lower Level Items'. Picking up an item with this flag will quietly add all of the lower-level items in its class to your inventory. Best used with the 'Remove Item When Used' action flag.
* New for Fairy items: Action Sound controls which sound effect to play when it appears, and Misc. Attribute 3 controls the Step speed of the moving fairy.
* It is now no longer possible to remove an enemy from the Enemy Editor list forever by simply appending a space to the end of its name.
* Ganon can now be edited. ( _L_, 2007-08-02 23:18:47 )

* Updated the default template (thanks AmazingAmpharos) ( DarkDragon, 2007-08-02 23:08:18 )

* Corrected the documentation of npc->Rate, and added a new field npc->Step which does what npc->Rate pretended to do.
* npc->CSet and npc->Damage now work correctly.
* Pointers returned by CreateNPC, LoadNPC, CreateItem, and LoadItem no longer become stale at the end of the frame. (NOTE: old scripts may need to be recompiled, see thread in Scripting forum).
* When registering a new name, the name is no longer treated as a printf format string.
* Importing a .qst from 1.92 or earlier no longer corrupts your subscreens and sound effects. ( DarkDragon, 2007-08-01 23:25:59 )

* Importing an old .qst will no longer corrupt enemy and item strings.
* Replaced the "Display:" dropdown box in the subscreen editor with three checkboxes giving finer controller over when a subscreen component is displayed. I've also converted the official quests to this feature. ( DarkDragon, 2007-08-01 00:38:58 )

* Fixed the custom Like Like/Wallmaster engulfing sprite bug.
* For forwards-compatability reasons, the Leever's Misc. Attribute 3 no longer modifies anything.
* Fixed enemy Bombs fired by non-Octoroks.
* Non-Goriyas can no longer use Boomerangs, for now. ( _L_, 2007-07-31 23:00:47 )



Build 500 - windows
* Tweaked the quest template: added missing tiles for the 2nd/3rd quest icons, the ending triforce and ending dust; removed all strings; checked "Smooth Vertical Scrolling" to be on by default; unchecked the first dmap flag on all dmaps.
* Bombed doors now show up in the correct place when scrolling between screens.
* As a measure to reduce quest size, default sounds effects are no longer saved with the quest. Only new quests are affected; if you want to reduce the size of an existing quest, load it in ZQuest, "default" all unmodified sound effects, and save the quest. ( DarkDragon, 2007-07-31 01:14:07 )

* Underwater wave effects now stop while opening and viewing the subscreen.
* Underwater wave effects no longer go berserk when scrolling vertically.
* Link now animates correctly when two directions are pressed simultaneously, Link is swimming, his path is obstructed, and Z3 movement is off.
* Changing a DMap to the "Overworld" type now resets the DMap's x offset to 0. ( DarkDragon, 2007-07-28 01:43:54 )

* Now, an enemy's ID will appear in the Enemy Editor window title.
* Samesuch for the Item Editor! ( _L_, 2007-07-26 19:42:04 )

* Romview now works like it supposed to work. ( Sean, 2007-07-25 21:21:40 )

* Fixed the other enemy boomerang sound bug.
* Now, shieldless Darknuts are displayed with their S. Tile, as they should.
* Slightly tweaked the left/right bomb doors.
* Fixed the recursive item upgrading/combining bug.
* NES consistency fix: picking up the Magic Boomerand while the normal Boomerang is flying will change the flying Boomerang's graphics to match those of the Magic Boomerang. ( _L_, 2007-07-25 02:36:57 )

* The up and down buttons now move the selector in the correct direction on the subscreen.
* Reinserted the door script in proposed1st.qst, which had regressed. ( DarkDragon, 2007-07-23 00:40:02 )

* Fixed the Fire Boomerang->Bat interaction.
* Now, Treasure Chest combos can't be opened while jumping.
* The Light Force Init Data bug should be fixed. ( _L_, 2007-07-22 01:48:55 )



Build 492 - windows
* Small fix to quest rule loading in old (pre-b16) quests. ( DarkDragon, 2007-07-21 23:38:51 )



Build 491 - windows
* More fixes to vertical scrolling.
* ZQuest now obeys the "Use Layer 3 As Background" screen flag.
* Fixed a critical old quest compatibility problem involving quest rules. As a consequence, some quest rule settings in newer quests (post b16) may have become corrupt. ( DarkDragon, 2007-07-21 22:43:21 )

* Up and down arrows work again in the subscreen.
* Added the correct version of qst.dat to the build. ( DarkDragon, 2007-07-21 14:25:23 )



Build 488 - windows
* Hitting "Default" or "Default All" while a stereo sound is playing in ZQ will no longer crash ZQ.
* Proposed1st now has the correct shield item properties.
* Numerous fixes to the default template: the Alt active subscreens Current Item objects have been correctly set up, headers and cheats have been cleared, an extraneous MIDI removed, and a Moldorm segment tile added.
* Importing tiles from a quest with sound effects no longer confuses ZQ.
* Importing tiles from any quest no longer corrupts your subscreens.
* Custom items now have "Non-gameplay Items" as their default item family, instead of absorbing the item family of whichever item was edited last.
* The key counter now correctly displays the number of keys. ( DarkDragon, 2007-07-21 01:47:52 )



Build 487 - linux
* New Linux build.
( koopa, 2007-07-20 08:27:31 )

* Completed an extensive attempt to fix various bugs with the item selector. ( DarkDragon, 2007-07-20 00:53:43 )

* The Lanmola no longer incorrectly uses its Misc2 property. ( DarkDragon, 2007-07-19 17:04:55 )

* Entering a passage warp no longer re-fades the screen to black if the room is already dark.
* Leaving a passage warp on a map of dungeon level 0 now fades to black from palette 10 instead of 11. ( DarkDragon, 2007-07-19 08:22:51 )

* Further tweaking of NES-style vertical screen scrolling.
* Looping sound effects (such as the Ocean sound) now continue to play when leaving and rapidly reentering a screen.
* Screen sound effects, such as the Ocean sound, start playing again once a fairy heart ring has finished circling Link.
* Scrolling between DMaps using different palettes should no longer cause the screen to fade out twice.
* Insta-warps now respect the destination screen's dark flag. ( DarkDragon, 2007-07-18 23:34:53 )

* Fixed the other side of that door in proposed1st.
* Fixed the Whistle directional whirlwind bug.
* Now, the Whistle's Misc. 1 controls the direction of the whirlwind. 0 to 3 = up, down, left, right. 4 = in front of Link.
* Fixed the Whirlwind->Block All combo bug. Now, if Link is in a whirlwind, and it hits a Block All combo, Link is expelled and the whirlwind vanishes.
* Quest Rule: Magic Mirrors Reflect Whistle Whirlwinds.
* Now, the Book's Power is used for the damage of the Wand beams instead of the Wand's Power (except when Link has no Book).
* Now, the Book's Misc. 1 decides if the Wand's beams are fiery or not.
* Now, the Wand's Misc. 1 decides if the Wand can shoot Magic without the Book. ( _L_, 2007-07-18 05:38:27 )

* Tribbles and summoners should no longer crash ZC if too many enemies are on the screen. ( DarkDragon, 2007-07-16 22:38:55 )

* The default quest template now has the correct DMap flags enabled by default.
* Attempting to load too many enemies onto a screen using a script prints a warning to allegro.log instead of crashing ZC. (The pointer returned by the CreateNPC method is in this case invalid.)
* Counters now correctly respect their infinite items. Note that infinite items stack with, but do not replace, intrinsic infinite items: ie, giving the key counter a "raft" infinite item will cause the key counter to be infinite if Link possesses either the magic key or the raft. ( DarkDragon, 2007-07-16 22:22:12 )

* Screen scrolling in the dungeon is now slower than the overworld when "Fast Dungeon Scrolling" is enabled, instead of the other way around.
* Glitched NES-style scrolling is now correct when Link is moving up. ( DarkDragon, 2007-07-16 17:05:49 )



Build 478 - windows
* Loading a quest containing a subscreen with more than 127 subscreen objects no longer corrupts the subscreen.
* Zoras, Bubbles, and Rocks no longer crash ZC when the enemy entrance type is "Enter From Sides."
* Wealth medals no longer always set the prices of shops and info rooms to 1.
* When using the ZC menu, the screensaver should no appear after an amount of time reasonably close to that specified in the Screen Saver options. ( DarkDragon, 2007-07-15 21:58:05 )

* Screen scrolling should now be true to the NES when the "Smooth Scrolling" quest rule is not enabled.
* The new view map dmap flag should now work correctly. ( DarkDragon, 2007-07-15 01:15:12 )

* Fixed the Power 0 boomerang/hookshot damage.
* Fixed the Din's Fire ring bugs.
* Fixed proposed1st.qst's scripts.
* Fixed the Room Guy damage sound effects. ( _L_, 2007-07-15 00:09:58 )

* Resetting an SFX past 61 no longer crashes ZQuest.
* Attempting to loading a stereo SFX no longer crashes ZQuest upon playback. ( DarkDragon, 2007-07-14 01:45:07 )

* Fixed the Boomerang->Bat and Hookshot->Bat interactions.
* ZQuest: fixed the hookshot's Power label and the 'View Overworld Map' DMap flag label.
* Further progress with the 'Link Drowns' quest rule. ( _L_, 2007-07-13 21:54:08 )



Build 473 - windows
* Proposed1st.qst now has the correct bomb item properties.
* Falling rocks no longer show a spawn animation if used as a normal enemy instead of a screen flag.
* Sword beam power now respects the "is percent" flag instead of always treating it as on.
* Link again animates at normal instead of half speed while swimming. ( DarkDragon, 2007-07-13 15:13:24 )

* Added a quest rule to allow the lens to show raft paths and branches.
* Cleared up the cursor flicker on the tile grab screen
* Cleaned up the quest rules so they are no longer overlapping (making some unusable).
* Fixed a bug where setting the item to (None) in a shop wouldn't always keep the change.
* Reversed the function of the NES Enemy Weapons collision quest rule to keep with the "No Quest rules = Classic" approach.
* Fixed the mouse flickering issue in the palette and palette bitmap areas of the screen in ROMView.
* Fixed the bug where clicking in the palette bitmap area of the screen without having a palette bitmap loaded would cause ROMView to hang.
--- The following were fixed in build 465 ---
* Added a Quarter Hearts misc weapon.
* Fixed the bug where bombable walls would not show up with the lens.
* Fixed the bug where the beta warning screen would sometimes cause all of ZC's setting to revert to default.
* Updated the default blank quest in ZQuest. ( DarkNation, 2007-07-13 13:27:15 )

* Fixed the boss roar bug.
* Fixed the Goriya boomerang sound bug.
* Now, when the 'More Sounds' quest rule is set, enemy boomerangs will use the boomerang sound when flying.
* Replaced proposed1st's bug script with more efficient ZASM. Why? I just felt like it. ( _L_, 2007-07-11 23:38:35 )

* The active subscreen no longer displays Current Items or item selectors, in accordance with NES behavior. ( DarkDragon, 2007-07-11 21:56:26 )

* A shield set to reflect a projectile now reflects that projectile even if it comes in at a sharp angle.
* Screen items in ZQuest are displayed one pixel below tile boundaries, to mimic their appearance when the quest is played in ZC.
* Enemies which do not normally have a shadow display the first small shadow tile while falling.
* Changing the map properties while viewing the map in ZQuest no longer changes the foreground color of some UI elements to white.
* Fixed a minor (4 kbyte/second) but continual memory leak in ZQuest. ( DarkDragon, 2007-07-11 21:24:30 )

* Lanmolas now stay on the screen and correctly obey combo walkability when their step speed has been modified in the enemy editor or when they hit Link. ( DarkDragon, 2007-07-11 18:59:44 )



Build 467 - linux
* New Linux build. I got MIDI music to work here, though no SFX yet. ( koopa, 2007-07-11 06:39:32 )

* Moldorms will no longer wander off screen if his step speed is changed. ( DarkDragon, 2007-07-10 23:02:23 )

* Fixed the default template's combo 0 to point to a tile filled with a non-zero color, so that the CSet Fix will work with this tileset.
* Swords now have the correct default item properties in the default template. ( DarkDragon, 2007-07-10 07:18:47 )

* Magic fired up at a mirror (or from the right, in rare cases) no longer causes magic to reflect off of the wrong tile. ( DarkDragon, 2007-07-09 22:20:43 )

* proposed2nd.qst and Proposed3rd.qst are now custom quests, and unpassworded.
* Selecting the "View Map" dmap flag no longer tampers with the other dmap flags. ( DarkDragon, 2007-07-09 21:43:16 )



Build 461 - windows
* Fixed some typographic issues in std.zh.
* GetCurDMapScreen() is now spelled correctly in zscript.txt. ( DarkDragon, 2007-07-09 18:00:48 )

* Added a script to proposed1st.qst (thanks Dan Furst!) to reproduce the NES bug allowing a player to skip the level 1 dungeon's first locked door.
* All default quests now have the correct Pols Voice step speed. ( DarkDragon, 2007-07-09 17:38:24 )

* Added a new default template (thanks BigJoe and crew!) that includes complete tiles for all new items and better prebuilt subscreens. Please test aggressively. ( DarkDragon, 2007-07-09 17:29:36 )

* Subscreens are now deletable in ZQ. ( DarkDragon, 2007-07-09 17:08:57 )

* Finished adding ZASM variables WAVY and QUAKE. SETting these variables will activate either the 'underwater wave effect' or the 'earthquake effect' for awhile. ZScript commands are forthcoming.\r\n * NES consistency fix: Peahats will no longer appear in a puff of smoke.\r\n * Discontinued quest rule 'View Overworld Map', which was counterintuitively dependant on DMap levels. Instead, the DMap flag 'View Overworld Map' (and backwards compatability thereof) has been implemented.\r\n * Discontinued quest rule '4 Heart Pieces Don't Make 1 Heart Container'. Instead, all quests that used this rule will have their 'Heart Piece per Heart Container' ratio set to 255. ( _L_, 2007-07-09 18:11:32 )

* Fixed a bug where Zelda's message string would sometimes still be visible behind the ending text after winning the game. ( DarkNation, 2007-07-09 08:47:20 )

* Fixed proposed1st.qst and added proposed2nd.qst and proposed3rd.qst, which all have combo 4 (overworld ladder) changed to Slow Walk. ( DarkDragon, 2007-07-08 15:39:29 )

* Swords now have correct default item properties.
* The "Zap Effects" warp is no longer glitched. ( DarkDragon, 2007-07-08 15:15:36 )

* Opening the active subscreen no longer blanks the play screen.
* If Cool Scrolling is disabled, sprites on the play screen disappear when entering and exiting the active subscreen.
* If the Can Select A Button quest rule is disabled, item buttons on the passive subscreen disappear while entering, using, and exiting the active subscreen. ( DarkDragon, 2007-07-08 01:47:36 )

* Added Link->HeldItem, which is equal to the item Link is currently holding up if his action is a hold action (LA_HOLD1LAND, etc.) See zscript.txt for details. ( DarkDragon, 2007-07-08 00:02:47 )

* Potions and fairies now have the correct default item properties.
* Fixed fairies and triforce fragment properties in proposed1st.qst. ( DarkDragon, 2007-07-07 21:25:45 )

* Special items once again appear in caves/passages of dmap with nonzero dungeon level. ( DarkDragon, 2007-07-07 11:47:22 )

* Selecting combo aliases from the combo panel in ZQuest should no longer leak memory and ultimately crash ZQ. ( DarkDragon, 2007-07-06 22:14:06 )



Build 448 - windows
* The minimap grid's position on the passive subscreen is now drawn relative to the rest of the minimap.
* Shooting the hookshot into or on a Block All combo no longer hangs ZC.
* Getting hit with fire, a bomb, a projectile, or a damage combo while charging for a spin attack stops the attack, instead of turning the attack into a "ghost" spin which does no damage.
* Boulders now correctly use the big shadow sprites.
* Enemies with the "Spawned by 'falling rocks'" flags now appear randomly over the entire top of the screen, and are no longer permanently paralysed.
* It is no longer impossible to select various fields in the enemy editor.
* Using a tab panel's arrows (such as in the DMap dialog box) no longer crashes ZQ.
* Underground shops, potion shops, and info rooms of dmaps with non-zero dungeon level should no longer act erratically. ( DarkDragon, 2007-07-06 20:57:02 )

* Enemy background sfx will now stop playing when the enemy is defeated.
* Fixed DMap item disabling.
* Empty DMaps in newly-created quests will no longer have the first four DMap flags enabled by default. ( _L_, 2007-07-05 23:48:49 )

* Collision detection between FFCs and Changers should now have perfect precision. ( DarkDragon, 2007-07-05 15:32:16 )

* Tab pane components no longer "leak" through when other tabs are selected. ( DarkDragon, 2007-07-04 21:49:33 )



Build 443 - windows
* Greyed out the unimplemented Enhanced Music menu item.
* Save As should no longer rename your original file if timed saves are disabled.
* Selecting a Bow and Arrow on a subscreen should no longer randomly crash ZC. ( DarkDragon, 2007-07-04 00:17:25 )

* Further tweaked the item init code so that the cheat dialog works as expected: any effects a newly added item has on a counter's max value is applied after that max value is set to the value in the cheat dialog. ( DarkDragon, 2007-07-02 23:29:36 )

* The ZQuest tile grabber should no longer crash/fail to load .qst files containing SFX, script, or subscreen data.
* Altered the way items interact with Init Data counters. Specifically, when a quest is started, the following counters' max values are set to the values specified in init data: life, bombs, superbombs, magic, arrows, rupees, and keys. These max values are then potentially modified by the properties of the Init Data items. When cheating, the values always override item effects. ( DarkDragon, 2007-07-02 23:20:28 )

* Link now moves at 1/2 speed when swimming using Classic movement, as per Z3 movement behavior.
* Link now walks at 2/3 speed on Slow Walk combos using Z3 movement, as per Classic movement behavior. This change is a reversal of a previous "fix".
* Slow Walk combos now stack with the "Slow walk while charging" quest rule.
* Link now continues to animate at the correct speed while swimming using Z3 movement. ( DarkDragon, 2007-07-02 09:55:06 )

* Fixed the D_ constants in std.zh.
* Fixed the Farore's Wind game continuation bug.
* Fixed the north/south bombwall tapping bug.
* Fixed the heart beep/cave entrance NES inconsistency.
* 'Run on Screen Init' scripts now work correctly for initial rooms when reloading quests and restarting levels.
* Hopefully fixed the regenerating bomb bag bug. ( _L_, 2007-07-02 01:59:36 )

* Fixed a bug where sword beams were being corrupted when being reflected by a prism.
* Compressed and uncompressed timed autosaves now have different file extensions. ( DarkNation, 2007-07-02 00:20:22 )

* Added a new item class for the Dust Pile, Selection (A), Selection (B), Misc 1, and Misc 2, so that editing them no longer corrupts the item properties of quests.
* The Longshot now has the correct default block flags. ( DarkDragon, 2007-07-01 23:05:49 )



Build 434 - windows
* Using the shortcut assignment operators (+=, etc) with the left-hand side involving a function call no longer crashes the ZScript compiler.
* Link no longer ceases to animate 50% of the time when floating in water with Z3 movement enabled.
* Item selection no longer completely fails if Link has only one item, and "A button selectable" is enabled.
* Bomb explosions no longer display an incorrect extra frame at the end of the explosion animation. ( DarkDragon, 2007-07-01 20:50:58 )

* Revamped the item properties dialog box. Labels are now changed depending on the item class of the item. ( DarkDragon, 2007-07-01 16:55:47 )

* Reset proposed1st.qst's Fairy (Moving)'s item properties back to their defaults, so that its fairies no longer fail to move.
* Failing to load a quest shows the correct default tile and palette on the quest selection screen.
* Layers no longer bleed into the subscreen when the screen scrolls.
* "Defaults" in the item properties dialog now correctly resets misc3 and misc4. ( DarkDragon, 2007-07-01 01:00:03 )



Build 429 - windows
* The overworld map no longer displays garbage.
* I'm releasing this build immediately due to the importance of DN's last fix. ( DarkDragon, 2007-06-28 17:31:07 )

* Fixed a bug where editing a combo would throw off all of the animated combos in the quest. ( DarkNation, 2007-06-28 13:14:17 )



Build 424 - windows
* Corrected various inaccuracies and typographical problems in std.zh and zscript.txt.
* Added L's updates to std.zh (concerning dungeon doors).
* Added proposed1st.qst, a slightly modified version of 1st.qst which fixes some inconsistencies with floor tiles in some dungeon rooms. (thanks zcAmazing.) If testing suggests this quest has not become corrupt by saving it in an alpha build, it will replace 1st.qst.
* Screen enemy lists in old quests should now be loaded correctly.
* The Item Location feature will no longer continue to report screen items which were set to "<none>".
* "No Enemy" combos once again actually keep out enemies. ( DarkDragon, 2007-06-28 00:52:53 )

* Finished the implementation of the Stomp Boots. Jump onto enemies to damage them. Leevers and certain other enemies are immune.
* Now, most weapons with Power 0 will stun enemies.
* Fixed the Hookshot's Misc. Flag 1.
* Fixed a few Wealth Medal cases.
* Fixed the 'Vulnerable only to Super Bombs' Enemy Editor flag.
* Fixed the 'Never Return After Death' Enemy Editor flag.
* Suppressed all of the unimplemented Enemy Editor flags. We'll meet again / Don't know where / Don't know when... ( _L_, 2007-06-28 00:26:52 )

* Bomb and superbomb lens hints now display correctly.
* Push block lens hints now use the tile of the bracelet item with the power needed to push that block.
* Fairy combos now show up as a lens hint again. ( DarkDragon, 2007-06-27 19:50:17 )

* Fixed the bug where blue leevers were appearing simultaneously instead of sequentially.
* Fixed the Z1 inconsistency where Link's low hp warning beep would keep playing during a screen scroll. ( DarkNation, 2007-06-27 13:27:51 )

* Highlighting the bow on the active subscreen no longer continuously leaks memory. ( DarkDragon, 2007-06-26 23:36:30 )



Build 417 - linux
* new Linux build. ( koopa, 2007-06-26 05:12:10 )

* Fixed Screen->ComboD's documentation.
* Items now are thoroughly reset when quitting a quest.
* A/B weapon button choices are not saved in the save file.
* Removing an item (via cheat, script, or edibility) now correctly updates the active subscreen. ( DarkDragon, 2007-06-24 23:19:24 )



Build 414 - windows
* Testing the new repository host. This build is functionally identical to the last. ( DarkDragon, 2007-06-24 02:37:21 )

* Testing the new repository host. This build is functionally identical to the last. ( DarkDragon, 2007-06-24 01:52:32 )



Build 411 - windows
* Slow walk combos now halve Link's movement speed (on average) in both normal and Z3 animation mode.
* Editing a combo after having moved/deleted an animating combo no longer corrupts your combo table. ( DarkDragon, 2007-06-23 23:29:41 )

* Fixed the boomerang/enemy boomerang sound bug.
* Added the ZScript function Game->GetCurDMapScreen().
* Fixed Game->Get/SetScreenD(), which now works on DMaps other than 0. ( _L_, 2007-06-23 06:19:26 )

* Added the ZScript array Screen->Door[], which controls the four doors on a screen. See zscript.txt and std.zh for details. ( _L_, 2007-06-22 06:47:09 )

* Added 'Misc. Attribute 3', 'Misc. Attribute 4' and 'Action Sound' boxes to the Item Editor. ( _L_, 2007-06-21 23:21:01 )

* Corrected "Don't Keep Lower Level Items" to "Keep Lower Level Items."
* Shields now have "Keep Lower Level Items" set by default. ( DarkDragon, 2007-06-21 11:58:48 )

* GOTOLESS now jumps if, in the previous comparison, arg1 <= arg2, to bring it in line with GOTOMORE. Previously it jumped only if arg1 < arg2.
* Fixed ZScript's inequality operators (<, >, <=, >=), and made them slightly more efficient. ( DarkDragon, 2007-06-21 11:04:13 )



Build 403 - windows
* Loading quests should no longer freeze ZC.
* Opening the passive subscreen no longer displays garbage in the background.
* The init data and cheat dialog boxes now apply items *before* processing the misc. fields. Thus changes to counters bestowed by items no longer trumps what was actually set for that counter. ( DarkDragon, 2007-06-21 01:24:12 )

* Incompatibility between SFX loaded in Windows and on the Mac is potentially fixed. Old quests with SFX saved on the Mac will need to be reloaded (on either a PC or Mac). ( DarkDragon, 2007-06-20 20:38:16 )

* Beating a custom quest no longer resets your hearts and rings.
* Link no longer goes crazy when crossing a conveyor belt and using old-style (NES) animation. ( DarkDragon, 2007-06-19 22:06:57 )

* Link once again displays the Triforce for (almost) the entire Ganon intro sequence.
* Making changes to a quest's SFX data now flags the quest as modified.
* Magic now animates correctly when leaving a prism combo. ( DarkDragon, 2007-06-19 20:49:22 )

* Timed quest file (.qt*) now load correctly when opened normally instead of imported. ( DarkDragon, 2007-06-19 19:45:41 )

* Inserting combos on the combo page (with the 'i' key) now correctly updates combo aliases and freeform combos. ( DarkDragon, 2007-06-19 15:08:22 )

* Fixed the 'Select A Button Weapon' quest rule, and fixed solid damage combo interaction with conveyors. ( _L_, 2007-06-19 07:08:42 )



Build 393 - linux
* New Linux build. ( koopa, 2007-06-18 10:34:30 )

* Fixed the Bait sound crash and the Din's Fire damage bug. ( _L_, 2007-06-18 02:18:47 )

* The subscreen now shows up while the "Game Over" text is displayed.
* Messages now continue to be visible while the screen is scrolling.
* In accordance with NES behavior, Link now disappears before the screen fades when entering item rooms and passages, disappears before the screen fades when exiting item rooms and passages, and appears after the screen fades in when leaving item rooms and passages. ( DarkDragon, 2007-06-18 00:02:48 )



Build 389 - windows
* Resolved the pthreads dll problem. ( DarkDragon, 2007-06-17 21:18:46 )



Build 388 - windows
* Shops now work correctly with linked messages, and with the "Messages Disappear" quest rule. ( DarkDragon, 2007-06-17 14:37:25 )



Build 386 - windows
* Accessing the disk while playing music will no longer randomly crash ZC/ZQ. ( DarkDragon, 2007-06-17 13:53:27 )

* Added the variables usesound, misc3 and misc4 to item data. Corresponding Item Editor changes are forthcoming.
* Fixed the 'Z3 Boomerang/Hookshot' rule.
* Whistles will now freeze action for as long as the sound plays, and no more.
* Fixed the Mirror Shield->reflected magic bug.
* Fixed an infinite Super Bombs counter bug, and a Magic Key counter bug. ( _L_, 2007-06-17 11:01:51 )

* Farore's Wind's vibration will no longer send Link scrolling wildly across the dmap. ( DarkDragon, 2007-06-15 17:33:16 )

* Subscreen now does not turn completely black upon Link's death. ( DarkDragon, 2007-06-15 17:03:54 )

* Fixed the invisible wall bug, and the shop price display bug. ( _L_, 2007-06-15 10:46:55 )

* Swords, rings and shields can now expend magic when used.
* If Link doesn't have enough magic to use a ring, his sprite isn't drawn in the ring's palette. ( _L_, 2007-06-14 22:20:16 )



Build 380 - linux


Build 379 - macosx-10-3-9
* Custom scripted items can now cost magic to use, as is possible with other items. ( _L_, 2007-06-14 04:47:47 )



Build 378 - windows
* Fixed multiple bugs with Screen->DrawTile, and partially implemented its scale parameter.
* Updated the ZScript documentation: added Link->Z, Link->ItemJinx, Link->Jump, Link->SwordJinx, and fixed various other inaccuracies. ( DarkDragon, 2007-06-13 09:50:12 )

* Fixed a minor glitch in Screen->DrawTile. ( DarkDragon, 2007-06-10 21:47:39 )



Build 373 - windows
* Bomb bags no longer tie bomb ammo to your current arrow supply.
* Bombs (and super bombs) now respect their power attribute when damaging Link.
* Walking into an item room from a dark dungeon room no longer screws up the room's palette.
* Fixed a critical bug in the new lighting code causing ZC to crash in many cases when enemy fire is on the screen. ( DarkDragon, 2007-06-10 15:05:50 )



Build 372 - windows
* This build includes a new version of ZCL ( sean, 2007-06-10 06:54:03 )



Build 371 - windows
* Fixed various problems with Screen->Line and Screen->DrawTile.
* Fixed some inaccuracies in the ZScript documentation.
* Added a new utility method, Distance(), to std.zh. It computes the Euclidean distance between two points. ( DarkDragon, 2007-06-10 03:35:10 )

* Enemies entering from the sides will now wander in exactly on tile boundaries, and will not enter on top of unwalkable tiles. ( DarkDragon, 2007-06-09 21:34:19 )

* ZCL - Fixed Title Screen Selector Scrollbar Bug (I hope)
* ZC Checker has been recoded AGAIN! ( sean, 2007-06-09 21:33:09 )

* ZCL Crc Checker Removed
* ZQuest Tab has a redirection setting to Extra's (Requested)
* ZCL 1.5 Final Almost Done =-D ( sean, 2007-06-09 21:00:24 )

* Darkness should work correctly when entering or leaving a passage or item room.
* Using the candle in an item cave or passage should no longer screw up the palette.
* Darkness should interact correctly again with the temporary light quest rule. ( DarkDragon, 2007-06-09 16:16:35 )

* Fixed the potion pickup problem. ( _L_, 2007-06-09 08:02:21 )



Build 364 - windows
* Trying to quit at a save point no longer freezes ZC's controls.
* Fixed a further glitch in the interaction of walking on water and Z3 movement.
* The ZScript this pointer should now work correctly even if multiple FFCs are on the screen. ( DarkDragon, 2007-06-09 02:10:31 )

* Gold arrows now default to the correct power and firing sprite. ( DarkDragon, 2007-06-08 22:19:29 )

* Fixed the implementation and documentation of Game->GetMapFlag() and SetMapFlag().
* Removed deprecated miscellaneous flags from std.zh.
* Fixed a serious correctness bug in the ZScript compiler's constant-folding code. ( DarkDragon, 2007-06-08 21:57:26 )

* Added a new quest rule, "NES-style Enemy Weapon Collision Detection," which is enabled by default for the official quests, and disabled for custom quests. If this rule is unchecked, the following enemy weapons will use more sensitive weapon collision code from ZC 2.11 and older: sword beam, magic, boomerang, rocks. ( DarkDragon, 2007-06-07 23:17:49 )

* Auto-backup no longer dumps garbage in the ZC directory. ( DarkDragon, 2007-06-07 21:14:40 )

* Fixed the Hookshot Chain->Keese bug. ( _L_, 2007-06-07 10:35:04 )



Build 357 - windows
* Added documentation for Screen->Message().
* Link-seeking boomerangs now always return to the correct enemy. ( DarkDragon, 2007-06-06 23:17:43 )

* Hitting F5 while viewing the map no longer crashes ZC. ( DarkDragon, 2007-06-06 20:35:35 )

* If Link is drawn above layer 3, his fired weapons (and Hover Boots glow) are also drawn above layer 3.
* Fixed the Hookshot->Keese bug. ( _L_, 2007-06-06 04:47:29 )

* Added Screen->Message().
* Walkable water (produced by Whistle->Dry Lake) should now work correctly with Z3-style movement.
* FPS should now be capped even while the game is paused. ( DarkDragon, 2007-06-05 21:43:15 )

* New quest rule: Draw Jumping Link Above Layer 3. ( _L_, 2007-06-05 20:52:13 )

* Hopefully fixed the Book Magic sprite bug. ( _L_, 2007-06-05 20:36:46 )



Build 350 - windows
* Rand() now returns an int, as specified in the documentation.
* Screen->PutPixel() no longer refuses to compile.
* Properties of the Minimap in the subscreen editor are no longer invisible; in particular, checkboxes to show the map graphic, Link position, and compass marker are now visible.
* Doors at the edge of maps leading into a non-Scrolling sidewarp no longer refuse to open. ( DarkDragon, 2007-06-05 15:03:52 )

* Fixed various Triforce bugs.
* Now, if a Triforce has the 'Equipment Item' flag set, it will act like a level Triforce Piece. Otherwise, it will act like a Big Triforce.
* You can now set the Triforce MIDI on a per-item basis, using the Triforce's Misc. Attribute 1 (0 = use default MIDI).
* Fixed the bug that prevented an item's Collect Script from being set in the Item Editor.
* Added the ZASM commands 'MSGSTRV' and 'MSGSTRR'. These take one argument, and display a specific message string on command. Using this, you can make items display strings when you pick them up. Matching ZScript commands are forthcoming. ( _L_, 2007-06-05 00:27:16 )

* Link no longer gets stuck if he goes wading in water immediately after blowing the whistle on a Whistle->Dry Lake screen. ( DarkDragon, 2007-06-04 22:09:34 )

* The Whistle->Pal palette effect now ends when you leave the screen, even in dungeon dmaps.
* You may now set an item's level to 0 in the item properties dialog.
* Old quest now show the correct icon for the Letter (Used), and should start respecting the deprecated quest rules if those were set in the original quest. Quests saved after item properties were introduced will need, as always, to manually fix the Letter (Used) tile. ( DarkDragon, 2007-06-03 23:32:13 )



Build 346 - windows
* Bug of the Week: Link would not pick up 200 rupees items as he walked over them, but only if he was carrying a potion. ( DarkDragon, 2007-06-03 03:33:51 )

* Updated linux build (finally!) This one is build 319. ( koopa, 2007-06-03 02:13:00 )

* Rings in the init data of very old quests are now respected. ( DarkDragon, 2007-06-02 23:04:38 )

* Split "Whistle->Stairs" into three screen flags: Whistle->Stairs, Whistle->Pal Change, and Whistle->Dry Lake. Old Whistle->Stairs is equivalent to all three being checked: the first makes the stairs appear, the second animates color 3 of Cset 3 as in the NES, and the third dries all water tiles and kills all Zoras.
* Bombs now use more animation frames if more are provided in their weapon data. ( DarkDragon, 2007-06-02 22:53:52 )

* The title screen now correctly displays the default Link icon for old quests who do not have game icons specified.
* The title screen icon's cset is now correct when Link is wearing a ring. ( DarkDragon, 2007-06-02 17:00:52 )

* Seemingly fixed the shield->boss fireball interaction.
Implemented a simpler strategy for dealing with deprecated quest rules. ( _L_, 2007-06-01 21:07:25 )

* Picking up a red potion gives you a blue potion too again, so that the red potion turns into a blue potion after use.
* Selecting items when both the A and B buttons are selectable should work again.
* Fixed a glitch that would display the bomb and superbomb on the active subscreen even if you are out of ammo. ( DarkDragon, 2007-06-01 19:47:49 )



Build 339 - windows
* Weakened the "defaults" item properties button: it now only resets the item's non-graphics properties. This change should make the button safer for recovering quests whose items have become corrupt due to bugs in earlier builds. ( DarkDragon, 2007-06-01 01:55:39 )

* Right-facing slash now beings at the correct x-coordinate. ( DarkDragon, 2007-06-01 00:22:26 )



Build 337 - windows
* Shops now display the correct prices instead of -1 rupees.
* ZQ is now more careful to preserve price order when permuting shop info with missing strings.
* Flame weapon sprites (eg, from the candle) now animate correctly if old-style flipping animation is set instead of normal animation frames. ( DarkDragon, 2007-05-31 20:26:05 )

* Potions, Roc's Feathers, and Whistles now obey their "disappear when used" flags. ( DarkDragon, 2007-05-31 19:15:02 )

* Max Keys and Max Rupees are no longer switched in the Init Data (and cheat) dialog.
* Item classes are now alphabetized throughout. ( DarkDragon, 2007-05-31 18:33:38 )

* ZC's FPS counter should no longer flicker.
* Tweaked the FPS throttle code somewhat to try to minimize the influence of the graphics card. ( DarkDragon, 2007-05-31 15:17:42 )

* The bomb item's flag 1 now replaced the (short-lived) Long Bomb Explosion rule.
* Shooting magic into a magic prism no longer crashes ZC.
* Fixed broken MIDI loading code which prevented ZQ from successfully saving some quests.
* Fixed my fix of the "default" button in the item properties dialog. Arghh.
* ZC's credits and screensaver now run at normal speeds again.
* Enemies with frame rates less than 4 no longer crash ZC.
* Triggers no longer make sound effects when they die. ( DarkDragon, 2007-05-30 23:33:33 )



Build 332 - windows
* Added a new quest rule, "Long Bomb Explosion Duration." If this is enabled, bomb explosions last an extra few frames, allowing link to kill enemies such as the Aquamentus in one hit, as was possible in some old betas.
* The mirror shield should now correctly block all projectiles in old quests. If the mirror shield is misbehaving in a new quest, you will need to reset its item properties to their defaults. ( DarkDragon, 2007-05-30 11:40:45 )

* Bombs work again in old quests. ( DarkDragon, 2007-05-30 10:51:05 )

* Removed the unused quest rules from the Quest Rules dialog. ( DarkDragon, 2007-05-30 01:42:44 )



Build 329 - windows
* Link can now use the super bombs he's given when he uses the bomb cheat.
* Detonating multiple bombs on a screen with the "Bombs don't flash palette" quest rule off will no longer royally screw up the palette.
* Items in the passive subscreen should now continue to animate at normal speeds during the Triforce curtain sequence.
* Optimized the rendering code. ( DarkDragon, 2007-05-30 00:13:04 )

* Cleaned up the FPS throttling code. ( DarkDragon, 2007-05-29 00:35:40 )

* Added midair hookshooting.
* Fixed sideview gravity for Link's weapons. ( _L_, 2007-05-29 00:06:15 )

* Block combos now work even when placed on FFCs.
* ZScript draw primitives should now work on layers other than layer 0. ( DarkDragon, 2007-05-28 20:21:31 )

* Fixed sideview gravity.
* Shop items will no longer fall in sideview. ( _L_, 2007-05-27 23:39:27 )

* Gleeoks on screens also containing other enemies will no longer cause crashes or other funny business.
* Din's fire now sparkles while rising no matter how many times it's been already used on the screen.
* ZScript draw primitives now take angles in degrees instead of funky 256/360th-of-a-degree units.
* ZScript draw primitives now reside as functions of the Screen pointer.
* Added documentation for the ZScript draw primitives (that are implemented).
* Updated std.zh to include some overlooked constants. ( DarkDragon, 2007-05-27 21:22:04 )

* Fixed the Bracelet 3 in older quests.
* Fixed the Item Editor's item family dropdown menu to include unused item families. ( _L_, 2007-05-27 20:38:28 )

* If you use the item editor to give the Manhandla a direction-dependent weapon, the Manhandla heads will now shoot it in the correct direction. ( DarkDragon, 2007-05-27 15:03:37 )

* Picking up fairies should no longer give the player an extra heart container piece.
* The "Default" button in the item editor should now actually reset all item properties to defaults. ( DarkDragon, 2007-05-27 14:42:59 )



Build 319 - linux , windows
* Quests from older builds should no longer randomly fail to load while reading MIDI data.
* ZQ no longer crashes while saving old quests originally lacking screens 83-87. ( DarkDragon, 2007-05-27 01:55:03 )



Build 318 - windows
* ZScript global variable declaration syntax has changed to be more intuitive; please see the post in the AGN scripting forum. ( DarkDragon, 2007-05-26 22:17:01 )

* The first there dmap flags and "Guys appear only in caves" are now enabled by default in the overworld of quests created in 1.90 or earlier. ( DarkDragon, 2007-05-26 17:32:21 )

* Re-fixed the Bombchu's bomb. ( _L_, 2007-05-26 09:29:08 )

* The "temporary clocks" quest rule now works correctly for older quests. For quests saved in newer betas, you will have to manually set the clock item's misc1 variable to 256 to restore your quest's original behavior. ( DarkDragon, 2007-05-26 00:11:03 )

* All fields in the enemy editor should accept user input again.
* Leaving a cave screen after detonating a bomb no longer carries over the cave palette into the next screen. ( DarkDragon, 2007-05-25 20:13:54 )

* CreateNPC() called to create segmented enemies now returns the primary segment instead of the last segment.
* Gleeok heads now move relative to the Gleeok body (if it happens to move somehow, eg. through scripts) instead of the center of the screen. ( DarkDragon, 2007-05-25 15:23:03 )

* Fixed the non-heavy push blocks. ( _L_, 2007-05-25 00:50:17 )



Build 311 - windows
* Fires in guy rooms now do 1/2 instead of 1/4 of a heart of base damage when touched.
* The subscreen item selection code was tweaked slightly to restore NES compatibility. ( DarkDragon, 2007-05-24 22:31:27 )

* Added a "Use Pal CSet" checkbox to the enemy editor; enabling this check box will set the enemy's cset to 14 for you. ( DarkDragon, 2007-05-24 21:37:00 )

* Fireballs shot by Zora et al should once again follow a correct trajectory. Aquamentus and Gohma have been retroactively given a new weapon, Fireball (Rising), which behaves like their fireballs always have. ( DarkDragon, 2007-05-24 20:17:07 )

* Fixed a bug where the whistle whirlwind would sometimes not take you to a different screen if you had the Smart Screen Scrolling quest rule enabled.
* The timed auto-saves can now be stored in an unencrypted form for a greater chance of recovery if something gets corrupted. ( DarkNation, 2007-05-24 13:30:06 )

* Fixed the placement of multiple Remote Bombs. ( _L_, 2007-05-24 07:05:48 )

* ZC is now resistant to bogus Current Item subscreen object topology: that is, if some of the item positions are missing, or if the grid has more exotic pathologies (eg, infinite loops that never take you back to the first element), ZC should no longer crash. Note that item selection will nevertheless be eccentric if you fail to set up the Current Item objects correctly, and in particular, omission of a Current Item in Position 0 will block the player from ever selecting an item. ( DarkDragon, 2007-05-23 23:28:25 )

* The Item Locater should no longer crash ZQ when run on a quest containing custom items.
* Fixed a memory leak in the Item Locater. ( DarkDragon, 2007-05-23 21:49:07 )

* ZC no longer ignores the current dmap when calculating whether to show the map, compass, and boss key on the subscreen. ( DarkDragon, 2007-05-23 20:15:11 )



Build 303 - windows
* Fixed an illegal memory access in Link's tile modifier code. ( DarkDragon, 2007-05-23 19:25:59 )

* Typing text into text fields in the subscreen editor's Object Properties dialog box should no longer randomly crash ZQ.
* Viewing the properties of counters in the subscreen editor should no longer randomly crash ZQ. ( DarkDragon, 2007-05-23 15:08:37 )

* Timed saves can now happen in most places in ZQuest instead of just the main screen.
* Added an automatic quest recovery feature to ZQuest. If ZQuest crashes, then when it is run again, if a timed save had been performed at some point before the crash, then ZQuest will ask if you wish to reopen the timed save file.
* Fixed the bug where the X and Y size and offset variables for the subscreen grid in ZQuest were being improperly reset. ( DarkNation, 2007-05-23 08:43:59 )

* When previewing equipment in the subscreen editor, ZQ will now show the existing item of lowest level belonging to the family in question instead of showing the item of level 1 if it exists, and nothing otherwise. ( DarkDragon, 2007-05-22 21:24:39 )

* Added a reports menu to the tools menu and moved the Integrity Check under it.
* Added a new report to the reports menu. The item location report will scan every screen in your quest and generate a report of what items are located where, whether they are room items, special items, shop items, potion shop items, "take any one" items, or "heart container / red potion" items.
* Corrected the functionality of the auto-backup feature. Now, it makes a copy of the quest file on disk as the backup instead of resaving the quest a second time for use as a backup file. Additionally, the extension for quest backup files is qb0.
* Added a retention variable for the auto-backup feature. Now older backups are renamed to make room for newer ones. For instance, a qb1 file is renamed to qb2 and a qb0 file is renamed to qb1. You can keep up to 10 versions (qb0 - qb9) of a quest backup file (selectable in the options menu).
* Added a timed save feature. Intervals are selectable from 1 to 10 minutes. However, saving can only occur on the main screen (though this may change later on). Timed save files are saved as qt0 files and also have a retention variable to allow a longer history (qt0 - qt9) to be kept.
* Reworked the options menu to make use of tabs. All of the check boxes are on one tab while the dropdowns are on another.
* The quest open dialog now has a dropdown to allow you to filter the file list to only show quest files (qst), unencrypted quest files (qsu), quest backup files (qb0 - qb9), quest timed save files (qt0 - qt9), and all files (not sure why anyone would need or want the last one, though). ( DarkNation, 2007-05-22 13:43:09 )

* ZC should no longer stop Link from moving in a direction perpendicular to the direction he's facing while Link is charging with Z3 movement off. ( DarkDragon, 2007-05-21 16:14:37 )

* Implemented solid damage combos. Added options to Arrow, Boomerang, Bomb Bag, Wallet and Quiver item families. ( _L_, 2007-05-21 09:06:04 )

* Picking up any item of the Triforce Pieces class, including custom items, will now trigger the triforce cinematic. ( DarkDragon, 2007-05-20 18:16:59 )



Build 293 - windows
* Updated std.zh. Added FFCF_PRELOAD, FFCF_LENSVIS, FFCF_RESET to the FFC flags, and GEN_HCPPERHC, GEN_CONTINUEHEARTS, GEN_CONTINUEISPERCENT to the generic data indices.
* Changing an FFC's Flags[] (ZScript) or FFFLAGSD (ZASM) variable should now work correctly.
* Increased the limit on numeric constants in ZScript and ZASM to [-214748.3648, 214748.3647], up from the old limit of around 30000. ( DarkDragon, 2007-05-20 14:08:33 )

* HCP Per HC should now be read-only when playing a quest in ZC, as should the checkbox for whether the continue hearts value is absolute or a percent.
* ZC should now correctly remember modifications to the number of heart container pieces in the cheat dialog.
* ZC will now show the correct values in the HCP Per HC and Continue Hearts fields in the cheat dialog instead of bogus values. ( DarkDragon, 2007-05-19 21:02:13 )



Build 291 - macosx-10-3-9
* Personally, I fail to see the point of allowing one to edit enemies that cannot be used, and are in fact not even implemented (diagonal traps, NPCs etc). So away with them!
(Also, corrected the custom shields' implementation.) ( _L_, 2007-05-15 03:18:30 )



Build 290 - macosx-10-3-9
* Fixed the Subscreen item class bug, and the no-shield bug. Also, discontinued the All Shields Reflect Rocks rule. ( _L_, 2007-05-15 01:03:24 )

* Improved the shields, fixed the bomb counter, Boomerang->Keese, and a few more. ( _L_, 2007-05-14 20:34:25 )



Build 288 - windows
* Added some debugging information to help track down the quest loading bug. ( DarkDragon, 2007-05-14 18:27:00 )



Build 287 - windows
* Attempted to fix the bug preventing the Mac build from loading quests with MIDIs. ( DarkDragon, 2007-05-14 12:37:52 )



Build 286 - windows
* Equipping the Light Force (or any magic or health ring with Misc2 set to 0) will no longer crash the game. Setting Misc2 to 0 for items of those classes is now equivalent to setting it to 1.
* Built-in MIDIs should once again play at the correct (non-zero) volume. ( DarkDragon, 2007-05-14 04:20:10 )

* Converted the following combo types to the new class system: Block Boomerang, Block Sword Beams, Block Fireballs, Block Magic, Block All. The changes should not be evident to the end user.
* Fixed the bug where Normal Dodongos using new enemy tiles would be drawn 1 tile to the right of their correct location when they were walking vertically.
* Fixed the bug where the Small Bow would make arrows not move. ( DarkNation, 2007-05-09 13:13:13 )

* Fixed the infinite items bug and the Misc1 checkbox bug. ( _L_, 2007-05-09 03:10:57 )

* Fixed bug where Zoras using weapons other than fireballs would always fire upwards.
* Fixed bug encountered when Octorok 3 enemies are set to use weapons other than the flame weapon. ( DarkNation, 2007-05-08 13:38:58 )

* Fixed the Bracelets and push blocks. ( _L_, 2007-05-07 20:12:11 )

* Fixed a bug where Link could appear 1 pixel below the bottom of the playing field.
* Made some internal coding changes to the following combo types: Damage, Water, Dock, Conveyor, Slow Walk, Overhead, Eyeball, Block Arrow. The changes should not be evident to the end user.
* Fixed the timing for Bombchu explosions.
* Fixed a bug where left conveyor combos would not work.
* Fixed a bug where damage combos would increase hp.
* Added the ability to block MIDI saving in ZC on a per-MIDI basis (in the MIDI editor in ZQuest).
* Ctrl-U in the tile selector in ZQuest now switches between 3 tile display modes. This will either show all tiles, all unused tiles, or all unused blank tiles. This helps to find out which tiles are actually being used in a quest.
* Fixed the bug where saving an item in the item editor would change the item family to a seemingly random value.
* Fixed a bug where some enemies were not showing up in the enemy list for the enemy editor.
* Fixed a bug where the last 2 quest rules on the last quest rule page would sometimes appear on the wrong pages.
* Fixed a bug where some tiles were not being properly registered by the tile overwrite protector. ( DarkNation, 2007-05-07 11:27:17 )

* Reinstated the changes in revision 268, which somehow got erased between then and now. ( _L_, 2007-05-07 11:00:32 )



Build 278 - windows
* FFC scripts that carry over should now also carry over their runtime parameters.
* I've recompiled the binaries with additional optimization flags to try to eliminate the sluggishness observed on some machines. ( DarkDragon, 2007-05-06 03:19:00 )



Build 277 - windows
* Fixed the text of the Longshot and other newer items in the subscreen. ( DarkDragon, 2007-05-05 22:43:59 )

* Item Class in item editor is now a drop down box containing item class names. ( DarkNation, 2007-04-27 13:31:47 )

* New equipment: Peril Rings (increase defense when HP is low), Whimsical Rings (to be completed with Enemy Editor changes), Stomp Boots (jump onto enemies to damage them - also to be completed with Enemy Editor changes) and the Stone of Agony (Link vibrates when standing on secret combo flags).
Furthermore, the Lens Hint symbols are now determined by searching through item data for the matching item.
Also, ring colour is now determined by a Ring's misc1. ( _L_, 2007-04-27 05:07:28 )

* Fixed a bug where Fire Gleeok neck tiles would be displayed wrong.
* Fixed a bug where Link would not be animated while waking and charging his sword. ( DarkNation, 2007-04-16 13:29:36 )

* Added the following flags to the Item Editor: 'Remove Item When Used', 'Upgrade Item When Collected Twice', 'Don't Keep Lower Level Items', 'Uses Rupees Instead Of Magic' and 'If Possible, Use Slash Tiles'.
* Item names can now be edited. ( _L_, 2007-04-11 04:55:37 )

* Added the following variables to the Item Editor: power, wpn, wpn2, wpn3, wpn4, pickup_hearts, misc1, misc2 and magic.
* Removed the Item Properties menu item.
* Removed 16 quest rules.
* Changed the implementation of nearly every item for compatability with the Item Editor. (Note, however, that the weapon power functionality '0 = stun', and boomerang damage related enhancements, won't be functional until I finish the Enemy Editor enhancements.)
There is, however, one bug to solve: when using Din's Fire twice, the second up-rocket won't have any sparkles. I suspect this is because certain wPhantoms aren't being properly disposed of. ( _L_, 2007-04-11 04:37:52 )

* Slightly fixed the 'Smart Screen Scrolling' rule.
* Enabled the Quake hammer's quake effect.
* New equipment: Heart Rings (regenerate hearts), Magic Rings (regenerate magic), and the Light Force (infinite magic). ( _L_, 2007-03-29 09:29:58 )

* Custom item Link Tile Modifiers have been implemented.
* Added \'Pickup Script\' and \'Edible\' boxes to item editor.
* Discontinued the \'Like Likes Eat Small Shield\' quest rule.
* Finished implementing selectable custom items. ( _L_, 2007-03-29 01:42:03 )

* Small shield is no longer 'displayed' in pre-2.11 quests' subscreens. Also half-implemented selectable custom items. ( _L_, 2007-03-27 08:47:50 )

* Added a quest rule, "Correct Bomb/Darknut Interaction" that causes Darknuts to react to the position of bombs in relation to themselves instead of the direction that Link was in when he placed the bomb. ( DarkNation, 2007-03-26 08:07:59 )

* Fixed bug where the max keys and max rupees text boxes were too short in the Init Data dialog.
* Fixed the bug where the Magic and Max Magic text boxes would change values higher than 255.
* Added the ability to custom number of heart container pieces required to complete a heart container.
* Added the ability to set sword beam power to higher than 100%.
* Fixed a misspelling of rupees (rupies) on the Init Data dialog. ( DarkNation, 2007-03-21 08:39:09 )

* Have done the final touches for ZCL which has now been versioned to 1.5 RC1. Expect a release soon on purezc. :-D ( Sean, 2007-03-18 16:46:15 )

* Fixed the default Fire Octorok so that it sprays fire correctly.
* Initial unification of Vire and Pols Voice code. New default Pols Voice enemies will work correctly. Older quests will need to cut the step variable of the pols voice enemies in half.
* Fixed the bug where traps would sometimes push enemies into solid blocks.
* Fixed the bug where Bombchus had a delay in their explosions.
* Fixed the bug where enemies were spawning at the wrong times.
* Fixed the bug (via a quest rule) where jumping enemies would be obscured by the subscreen if they went off the top of the playing field.
* Fixed the bug where grid values of 0 in the subscreen editor would freeze ZQuest.
* Fixed the bug where changing the title screen type and then immediately trying to exit (while the menu is still on) would reset ZC instead of exiting.
* Fixed the bug where enemies were not being saved correctly when saving as a 2.10 version quest file.
* Fixed the bug where strings would not be written correctly when saving as a 2.10 version quest file.
* Fixed the bug where eyeball combos were not looking at the mouse in ZQuest.
* Added a flip screen/map feature to ZQuest. Shift-H key will flip the screen horizontally. Ctrl-H will flip the map horizontally. Ctrl-Shift-H will flip both. The V key works the same but vertically. There may still be some glitches. When flipping a screen, remember that only the combo positions are flipped, not the combo tiles, so the screen will probably look strange until you either flip all of the combos that the screen uses (and cause other, unflipped screens to look wrong) or until you replace the combos with flipped versions. This isn't so much a tool to flip things for you but to make the process of flipping something a lot faster. ( DarkNation, 2007-03-19 10:25:44 )

* Random direct warps should now work. ( DarkDragon, 2007-03-15 21:44:15 )

* Fixed the rendering code so that ghost enemies display correctly. ( DarkDragon, 2007-03-15 21:25:32 )

* Entering a screen with Zoras should no longer randomly crash ZC. ( DarkDragon, 2007-03-10 04:26:35 )



Build 254 - windows
* Build 240 quests should now load correctly. ( DarkDragon, 2007-03-09 16:45:54 )



Build 251 - windows
* ZC should now prompt the user before erasing all saved games when it encounters an error while loading. ( DarkDragon, 2007-03-09 04:14:40 )

* ZScript function declaration parameters now belong to the function's scope instead of the enclosing scope. ( DarkDragon, 2007-03-09 01:34:58 )

* Subscreen counters now remember "infinite" items correctly. ( Saffith, 2007-03-08 08:40:29 )

* Fixed the Bombchu bug, and probably got the 'Script Restarts When Carried Over' FFC flag working. ( _L_, 2007-03-08 08:34:42 )



Build 247 - macosx-10-3-9
* Added a Mac OS X (pre-10.3.9) build of 244. Also updated SFX_DINSFIRE and SFX_TAP2. ( _L_, 2007-03-08 05:56:20 )

* ZQ's ZScript editor will no longer crash if you try to import nonexistent .z files. ( DarkDragon, 2007-03-08 05:14:23 )

* Init data items in old quests should now correctly load upon quest start. ( DarkDragon, 2007-03-07 04:24:59 )

* Combos will now cycle even if the combo has less than 2 animation frames. Previously the behavior of combos under these conditions was undefined. ( DarkDragon, 2007-03-06 17:14:48 )

* The SFX field of the string editor now defaults to 18 instead of 32.
* The starting position of the cursor of the string editor's edit box is now the far left. ( DarkDragon, 2007-03-05 15:25:32 )

* Exiting the Enemy editor now keeps that enemy highlighted on the enemy select list.
* Fixed a sporadic memory bug in ZC causing sporadic crashes on quest load. ( DarkDragon, 2007-03-05 04:14:54 )



Build 240 - windows
* The Digits field of the Counter subscreen is now editable. ( DarkDragon, 2007-03-04 20:45:58 )

* Fairies (both from enemies and as independent items) should now be moving again. ( DarkDragon, 2007-03-04 19:44:30 )

* Pressing B to skip DMap intro strings should no longer permanently freeze Link.
* Added a new DMap flag, "Always Display Intro Text." If checked, the intro string will always be displayed when Link enters the DMap, even if Link has been there before. If unchecked, the text will only appear once, even if you Quit->Continue or Save. In old quests this flag defaults to unchecked. ( DarkDragon, 2007-03-04 16:17:59 )

* The Snapshot Format menu item, submenu, and associated checkmarks now render correctly. ( DarkDragon, 2007-03-04 04:59:40 )

* Link's magic and max magic, as specified in the init data and cheat dialog, can now be set to multiples of 1/32nd of a magic container instead of just integral multiples of a whole container.
* Picking up an item, or opening the cheat dialog, or giving Link an item in a script, should no longer round Link's magic to the nearest multiple of a magic container. ( DarkDragon, 2007-03-04 04:43:43 )

* Creating a Selector or Selector 2 in the subscreen editor should no longer crash ZQ. ( DarkDragon, 2007-03-04 03:00:34 )

* Importing maps with layers on nonexistent map numbers will now cause only one warning message.
* Compasses and boss keys should no longer be automatically removed when cheating.
* The potion and HCP radio buttons in the cheat and init. data dialogs are no longer linked. ( Saffith, 2007-03-01 09:41:57 )



Build 233 - windows
* Re-fixed the perennial "windows in wrong places" preprocessor misconfiguration bug. Hopefully this represents the last of the MSVC 2005 porting pains.
* Deleting a screen should now clear all of that screen's tiles, instead of leaving half a screen of "ghost" tiles.
* Cheating should no longer decrease your max magic containers to 8. ( DarkDragon, 2007-02-25 16:36:12 )



Build 232 - windows


Build 231 - windows
* Attempted to fix the MSVC 2005 problem by carefully rebuilding most of the ZC libraries. ( DarkDragon, 2007-02-25 01:03:46 )

* The rings should now update Link's palette again. Here's how it works using the new item system: let n be the highest level among rings in Link's possession. Then Link will use sprite CSet 15 or 5+n, whichever is lower. If Link has no rings, CSet 6 is used instead. Notice that this system should be completely compatible with previous hard-coded ring behavior.
* I've upgraded my compiler to MSVC 2005. Please bear with me if this has introduced some temporary configuration problems. ( DarkDragon, 2007-02-24 03:13:50 )

* Combining block hole and block trigger flags should work now
* ASM item scripts can now be imported
* Names of currently loaded scripts are now visible when importing ASM scripts ( Saffith, 2007-02-21 10:20:10 )



Build 226 - windows
* All fields of components in the subscreen editor should now register changes instead of occasionally keeping their old value. ( DarkDragon, 2007-02-21 03:02:12 )

* Adding new maps to a quest should no longer corrupt your combo table. ( DarkDragon, 2007-02-20 14:33:50 )



Build 224 - windows
* Highlighting text in the script editor should no longer crash ZQ.
* Tweaked the highlight a bit not to "bleed" into neighboring text.
* ZScript's == operator should now work with all variables and pointers of same type. ( DarkDragon, 2007-02-18 20:13:58 )

* Link should no longer get hurt by damage combos adjacent to him that he is not touching. ( DarkDragon, 2007-02-18 15:00:30 )



Build 222 - linux
* Subscreens with an "item name" component should no longer crash ZC when viewing the subscreen without having an item selected. ( DarkDragon, 2007-02-17 17:53:29 )



Build 219 - windows
* Tentative fix of the MIDI playback problems. ( DarkDragon, 2007-02-12 02:13:13 )

* Fixed the bug where the file type selector wasn't updating the file list.
* Fixed the bug where eyeball combos didn't work on freeform combos.
* Fixed the bug where eyeball combos were looking at the wrong place in relation to Link.
* Fixed the bug where the raft (when being used by Link) was being drawn 4 pixels too high. May have to create a variable for the raft to determine the raft's offset can be changed in case some people were depending on the raft's old/incorrect position.
* Fixed the bug where blue leevers were appearing simultaneuosly instead of sequentially. ( DarkNation, 2007-02-11 20:41:11 )



Build 216 - linux


Build 215 - windows
* The enemy selection list should now show the correct buttons both in the custom enemy editor and the screen enemy list. ( DarkDragon, 2007-02-11 04:15:44 )

* Removed the Warp Type drop-down list from the whistle warp dialog box, as it makes no sense and currently does nothing.
* Pressing GO in the whistle warp dialog box should now take you to the correct screen, instead of warping you to a different warp's screen or crashing ZQ. ( DarkDragon, 2007-02-11 03:38:40 )

* ZQ should no longer crash when combo cycling in Preview mode while on a screen with missing layers in a quest with Cycle Combos on Layers enabled. ( DarkDragon, 2007-02-11 02:55:47 )



Build 212 - windows
* Finished a tentative fix to the custom-quest load crash. ( DarkDragon, 2007-02-11 02:37:27 )



Build 211 - linux
* Startup logo on ZC has a better look now :) ( Sean, 2007-02-09 16:23:13 )

* Fixed issue that ZCL would lock up launching ZQ or ZC on linux. ( Sean, 2007-02-09 16:08:25 )

* ZCL will not lock when you launch ZC or ZQ on windows. ( Sean, 2007-02-09 14:29:12 )



Build 206 - linux
* Updated ZCL.ini
* Added linux build ( Sean, 2007-02-09 11:59:59 )



Build 204 - windows
* Fixed a buffer overrun which corrupted data and intermittently crashed ZQ while loading MIDIs at program start.
* Canceling while in the Map Count dialog should no longer crash ZQ, and should no longer flag a quest as being modified.
* Recompiled the binaries using statically-linked runtime libraries. ( DarkDragon, 2007-02-09 01:22:55 )

* Fixed the top-down stepladder bug and the bow & arrows crash. Enemy-related changes still forthcoming. ( _L_, 2007-02-09 00:22:24 )



Build 200 - windows


Build 199 - linux


Build 198 - windows
* Added the C runtime library to the Windows alpha build. ( DarkDragon, 2007-02-08 07:24:47 )

* ZQ should no longer crash when opening a passive subscreen for editing.
* The subscreens in the subscreen editor should now (mostly) reflect the starting values specified in init data.
* Three independent pointer bugs, all of which crash ZQ when trying to edit active subscreen component properties, should now be fixed. ( DarkDragon, 2007-02-07 17:29:23 )

* New ZCL Icon made. Thanks DN ^_^
* More bug fixes (New build soon) ( Sean, 2007-02-07 12:03:54 )



Build 193 - windows
* Fixed a configuration problem in my MSVC project that caused windows in ZQ scaled mode to appear in the wrong place. ( DarkDragon, 2007-02-06 18:18:51 )



Build 192 - windows
* ZQuest should no longer produce corrupted files when saving quests with at least one MIDI. ( DarkDragon, 2007-02-06 14:09:24 )

* Started the conversion/update of ROMView. ( DarkNation, 2007-02-04 21:01:48 )

* Warp destination walkability integrity check should now work correctly.
* Cleaned up the String Editor layout. ( DarkDragon, 2007-02-04 14:51:37 )

* ZQ should no longer crash when trying to start editing a subscreen. ( DarkDragon, 2007-02-04 03:36:35 )

* ZQ should now no longer crash when attempting to trigger secrets on a screen with missing layers. ( DarkDragon, 2007-02-02 20:47:28 )

* Added a lot of new checks to the Quest Integrity Checker ( DarkNation, 2007-02-02 12:01:08 )

* The text editor now recognize the keypad enter and delete keys. ( DarkDragon, 2007-02-02 11:24:00 )

* Fixed two buffer overruns which crashed ZQ on attempts to view the guy/item/etc information in the panel at the bottom of the screen.
* The horizontal scrollbar in the ZScript editor should now work correctly.
* The ZScript help file seemed to have disappeared. Readded. I can be viewed from within the ZScript editor by pressing F1. ( DarkDragon, 2007-02-01 13:50:53 )

* Fixed the warning dialogs during quest saving in ZQuest.
* Moved the scripting menus into their own scripting submenu.
* Began work on a quest integrity checker. ( DarkNation, 2007-02-01 13:09:59 )



Build 177 - linux , windows
* Added new Alpha build of ZCL for windows and linux
* Added new Alpha build of Zelda for linux ( Sean, 2007-01-31 15:34:28 )

* ZCL Removed Launch Zq and Zc Button
* Fixed coding errors which caused it not to compile in linux. ( Sean, 2007-01-31 15:26:42 )

* ZCL Changes - Added Allegro Log Tab and implemented it. This allows after you close down ZC or ZQ from launching it on ZCL. It will output the allegro log to ZCL. I implemented this so people know what is going on if ZC or ZQ crashes on them. ( Sean, 2007-01-31 14:29:37 )

* Started working on the launch ZC and ZQ option button. ( Sean, 2007-01-30 21:47:22 )

* Fixed mouse scale issue for linux ( Sean, 2007-01-30 21:44:27 )

* Shop prices are now drawn immediately before the sprites instead of at the very end of rendering. ( DarkDragon, 2007-01-30 20:08:01 )

* Fixed a pointer double-deletion bug which was causing ZC to occasionally crash when viewing the map. ( DarkDragon, 2007-01-30 19:30:21 )



Build 169 - windows
* Fixed numerous outstanding ZScript bugs. ( DarkDragon, 2007-01-30 17:48:27 )

* Welcome to the new ZC change log! Alpha builds and changes are reported here automatically and in real time. ( DarkDragon, 2007-01-30 17:26:48 )

